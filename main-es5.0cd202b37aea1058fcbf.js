function _toArray(e){return _arrayWithHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableRest()}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_superPropBase(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"/6Yf":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u}));var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function o(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var a=n("qOnz"),s=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e}(),u=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e="[DEFAULT]");var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new a.a;this.instancesDeferred.set(t,n);try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=r({identifier:"[DEFAULT]",optional:!1},e),n=t.optional,i=this.normalizeInstanceIdentifier(t.identifier);try{var o=this.getOrInitializeService({instanceIdentifier:i});if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(l){}try{for(var r=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.instancesDeferred.entries()),o=r.next();!o.done;o=r.next()){var a=i(o.value,2),s=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(l){}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return e=this,n=function(){var e;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(o(o([],i(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),i(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))},new((t=void 0)||(t=Promise))((function(r,i){function o(e){try{s(n.next(e))}catch(t){i(t)}}function a(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,a)}s((n=n.apply(e,[])).next())}));var e,t,n},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e="[DEFAULT]"),this.instances.has(e)},e.prototype.initialize=function(e){void 0===e&&(e={});var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.normalizeInstanceIdentifier(void 0===t?"[DEFAULT]":t);if(this.isInitialized(i))throw Error(this.name+"("+i+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");return this.getOrInitializeService({instanceIdentifier:i,options:r})},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);return!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,"[DEFAULT]"===t?void 0:t),options:i}),this.instances.set(n,o)),o||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e}(),c=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new u(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},"/uUt":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(e,t){return function(n){return n.lift(new o(e,t))}}var o=function(){function e(t,n){_classCallCheck(this,e),this.compare=t,this.keySelector=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.compare,this.keySelector))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return _createClass(n,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}]),n}(r.a)},0:function(e,t,n){e.exports=n("zUnb")},"0EUg":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("bHdf");function i(){return Object(r.a)(1)}},"1G5W":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("l7GE"),i=n("ZUHj");function o(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(t){_classCallCheck(this,e),this.notifier=t}return _createClass(e,[{key:"call",value:function(e,t){var n=new s(e),r=Object(i.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).seenValue=!1,r}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(r.a)},"2QA8":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2Vo4":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("XNiG"),i=n("9ppp"),o=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._value=e,r}return _createClass(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(e){var t=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.a;return this._value}},{key:"next",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=e)}}]),n}(r.a)},"2fFW":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"schedule",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(n("quSY").a))},"3Pt+":function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return pe})),n.d(t,"c",(function(){return Le})),n.d(t,"d",(function(){return ve})),n.d(t,"e",(function(){return xe})),n.d(t,"f",(function(){return He})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return C})),n.d(t,"i",(function(){return _e})),n.d(t,"j",(function(){return Te})),n.d(t,"k",(function(){return K})),n.d(t,"l",(function(){return ze})),n.d(t,"m",(function(){return Ue})),n.d(t,"n",(function(){return W})),n.d(t,"o",(function(){return O})),n.d(t,"p",(function(){return J})),n.d(t,"q",(function(){return Ie}));var r=n("fXoL"),i=n("ofXK"),o=n("cp0P"),a=n("Cfvw"),s=n("lJxs"),u=new r.t("NgValueAccessor"),c={provide:u,useExisting:Object(r.bb)((function(){return l})),multi:!0},l=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Vb(r.K),r.Vb(r.o))},e.\u0275dir=r.Qb({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&r.ic("change",(function(e){return t.onChange(e.target.checked)}))("blur",(function(){return t.onTouched()}))},features:[r.Ib([c])]}),e}(),h={provide:u,useExisting:Object(r.bb)((function(){return d})),multi:!0},f=new r.t("CompositionEventMode"),d=function(){var e=function(){function e(t,n,r){var o;_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=r,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(o=Object(i.v)()?Object(i.v)().getUserAgent():"",!/android (\d+)/.test(o.toLowerCase())))}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Vb(r.K),r.Vb(r.o),r.Vb(f,8))},e.\u0275dir=r.Qb({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&r.ic("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[r.Ib([h])]}),e}(),p=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.Qb({type:e}),e}(),v=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(p);return e.\u0275fac=function(t){return y(t||e)},e.\u0275dir=r.Qb({type:e,features:[r.Gb]}),e}(),y=r.cc(v);function g(){throw new Error("unimplemented")}var m=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return _createClass(n,[{key:"validator",get:function(){return g()}},{key:"asyncValidator",get:function(){return g()}}]),n}(p),_=function(){function e(t){_classCallCheck(this,e),this._cd=t}return _createClass(e,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),e}(),b=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(_);return e.\u0275fac=function(t){return new(t||e)(r.Vb(m,2))},e.\u0275dir=r.Qb({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.Nb("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[r.Gb]}),e}(),C=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(_);return e.\u0275fac=function(t){return new(t||e)(r.Vb(v,2))},e.\u0275dir=r.Qb({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.Nb("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[r.Gb]}),e}();function w(e){return null==e||0===e.length}var k=new r.t("NgValidators"),E=new r.t("NgAsyncValidators"),S=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,O=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"min",value:function(e){return function(t){if(w(t.value)||w(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}},{key:"max",value:function(e){return function(t){if(w(t.value)||w(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}},{key:"required",value:function(e){return w(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return w(e.value)||S.test(e.value)?null:{email:!0}}},{key:"minLength",value:function(e){return function(t){if(w(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}},{key:"maxLength",value:function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(r="","^"!==t.charAt(0)&&(r+="^"),r+=t,"$"!==t.charAt(t.length-1)&&(r+="$"),n=new RegExp(r)):(r=t.toString(),n=t),function(e){if(w(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:r,actualValue:t}}}):e.nullValidator;var n,r}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){if(!e)return null;var t=e.filter(T);return 0==t.length?null:function(e){return D(function(e,t){return t.map((function(t){return t(e)}))}(e,t))}}},{key:"composeAsync",value:function(e){if(!e)return null;var t=e.filter(T);return 0==t.length?null:function(e){var n=function(e,t){return t.map((function(t){return t(e)}))}(e,t).map(I);return Object(o.a)(n).pipe(Object(s.a)(D))}}}]),e}();function T(e){return null!=e}function I(e){var t=Object(r.zb)(e)?Object(a.a)(e):e;if(!Object(r.yb)(t))throw new Error("Expected validator to return Promise or Observable.");return t}function D(e){var t={};return e.forEach((function(e){t=null!=e?Object.assign(Object.assign({},t),e):t})),0===Object.keys(t).length?null:t}function A(e){return e.validate?function(t){return e.validate(t)}:e}function x(e){return e.validate?function(t){return e.validate(t)}:e}var P={provide:u,useExisting:Object(r.bb)((function(){return N})),multi:!0},N=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Vb(r.K),r.Vb(r.o))},e.\u0275dir=r.Qb({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&r.ic("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[r.Ib([P])]}),e}(),R={provide:u,useExisting:Object(r.bb)((function(){return F})),multi:!0},j=function(){var e=function(){function e(){_classCallCheck(this,e),this._accessors=[]}return _createClass(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach((function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)}))}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Rb({token:e,factory:e.\u0275fac}),e}(),F=function(){var e=function(){function e(t,n,r,i){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return _createClass(e,[{key:"ngOnInit",value:function(){this._control=this._injector.get(m),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Vb(r.K),r.Vb(r.o),r.Vb(j),r.Vb(r.u))},e.\u0275dir=r.Qb({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&r.ic("change",(function(){return t.onChange()}))("blur",(function(){return t.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.Ib([R])]}),e}(),M={provide:u,useExisting:Object(r.bb)((function(){return L})),multi:!0},L=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Vb(r.K),r.Vb(r.o))},e.\u0275dir=r.Qb({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&r.ic("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[r.Ib([M])]}),e}(),V='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',U='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',B='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',q=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+V)}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(U,"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ").concat(B))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+V)}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+U)}},{key:"arrayParentException",value:function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(e){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(e,". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===e?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),e}(),H={provide:u,useExisting:Object(r.bb)((function(){return W})),multi:!0};function z(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var W=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=r.Ab}return _createClass(e,[{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}},{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=z(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r),e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Vb(r.K),r.Vb(r.o))},e.\u0275dir=r.Qb({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&r.ic("change",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.Ib([H])]}),e}(),K=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}return _createClass(e,[{key:"ngValue",set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(z(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}},{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Vb(r.o),r.Vb(r.K),r.Vb(W,9))},e.\u0275dir=r.Qb({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e}(),G={provide:u,useExisting:Object(r.bb)((function(){return Z})),multi:!0};function Q(e,t){return null==e?""+t:("string"==typeof t&&(t="'".concat(t,"'")),t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var Z=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=r.Ab}return _createClass(e,[{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}},{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var r=e.map((function(e){return n._getOptionId(e)}));t=function(e,t){e._setSelected(r.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=t._getOptionValue(a.value);r.push(s)}else for(var u=n.options,c=0;c<u.length;c++){var l=u.item(c);if(l.selected){var h=t._getOptionValue(l.value);r.push(h)}}t.value=r,e(r)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r)._value,e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Vb(r.K),r.Vb(r.o))},e.\u0275dir=r.Qb({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&r.ic("change",(function(e){return t.onChange(e.target)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.Ib([G])]}),e}(),J=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}return _createClass(e,[{key:"ngValue",set:function(e){null!=this._select&&(this._value=e,this._setElementValue(Q(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._select?(this._value=e,this._setElementValue(Q(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}},{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"_setSelected",value:function(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Vb(r.o),r.Vb(r.K),r.Vb(Z,9))},e.\u0275dir=r.Qb({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e}();function Y(e,t){return[].concat(_toConsumableArray(t.path),[e])}function X(e,t){e||ne(t,"Cannot find control with"),t.valueAccessor||ne(t,"No value accessor for form control with"),e.validator=O.compose([e.validator,t.validator]),e.asyncValidator=O.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange((function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&$(e,t)}))}(e,t),function(e,t){e.registerOnChange((function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&$(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange((function(e){t.valueAccessor.setDisabledState(e)})),t._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))})),t._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))}))}function $(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function ee(e,t){null==e&&ne(t,"Cannot find control with"),e.validator=O.compose([e.validator,t.validator]),e.asyncValidator=O.composeAsync([e.asyncValidator,t.asyncValidator])}function te(e){return ne(e,"There is no FormControl instance attached to form control element with")}function ne(e,t){var n;throw n=e.path.length>1?"path: '".concat(e.path.join(" -> "),"'"):e.path[0]?"name: '".concat(e.path,"'"):"unspecified name attribute",new Error("".concat(t," ").concat(n))}function re(e){return null!=e?O.compose(e.map(A)):null}function ie(e){return null!=e?O.composeAsync(e.map(x)):null}function oe(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Object(r.Ab)(t,n.currentValue)}var ae=[l,L,N,W,Z,F];function se(e,t){e._syncPendingControls(),t.forEach((function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}))}function ue(e,t){if(!t)return null;Array.isArray(t)||ne(e,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return t.forEach((function(t){var o;t.constructor===d?n=t:(o=t,ae.some((function(e){return o.constructor===e}))?(r&&ne(e,"More than one built-in value accessor matches form control with"),r=t):(i&&ne(e,"More than one custom value accessor matches form control with"),i=t))})),i||r||n||(ne(e,"No valid value accessor for form control with"),null)}function ce(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function le(e){var t=fe(e)?e.validators:e;return Array.isArray(t)?re(t):t||null}function he(e,t){var n=fe(t)?t.asyncValidators:e;return Array.isArray(n)?ie(n):n||null}function fe(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var de=function(){function e(t,n){_classCallCheck(this,e),this.validator=t,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(e,[{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(e){this.validator=le(e)}},{key:"setAsyncValidators",value:function(e){this.asyncValidator=he(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(e){return e.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(e){e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(e){e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!0)}))}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild((function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!1)}))}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(t){return t._updateTreeValidity(e)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var n=I(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return t.setErrors(n,{emitEvent:e})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;var r=e;return t.forEach((function(e){r=r instanceof ve?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof ye&&r.at(e)||null})),r}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new r.q,this.statusChanges=new r.q}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls((function(t){return t.status===e}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(e){return e.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(e){return e.touched}))}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){fe(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}]),e}(),pe=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this,le(i),he(o,i)))._onChange=[],e._applyFormState(r),e._setUpdateStrategy(i),e.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e._initObservables(),e}return _createClass(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(e){return e(t.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(de),ve=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,le(r),he(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach((function(r){t._throwIfControlMissing(r),t.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(r){t.controls[r]&&t.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(e,t,n){return e[n]=t instanceof pe?t.value:t.getRawValue(),e}))}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,(function(e,t){return!!t._syncPendingControls()||e}));return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach((function(n){return e(t.controls[n],n)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){var t=this,n=!1;return this._forEachChild((function(r,i){n=n||t.contains(i)&&e(r)})),n}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},(function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t}))}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild((function(e,r){n=t(n,e,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(de),ye=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,le(r),he(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach((function(e,r){t._throwIfControlMissing(r),t.at(r).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e,r){t.at(r)&&t.at(r).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map((function(e){return e instanceof pe?e.value:e.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(e){return e._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce((function(e,t){return!!t._syncPendingControls()||e}),!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}},{key:"_forEachChild",value:function(e){this.controls.forEach((function(t,n){e(t,n)}))}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter((function(t){return t.enabled||e.disabled})).map((function(e){return e.value}))}},{key:"_anyControls",value:function(e){return this.controls.some((function(t){return t.enabled&&e(t)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){return e._registerControl(t)}))}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var e,t=_createForOfIteratorHelper(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}]),n}(de),ge={provide:v,useExisting:Object(r.bb)((function(){return _e}))},me=Promise.resolve(null),_e=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this)).submitted=!1,o._directives=[],o.ngSubmit=new r.q,o.form=new ve({},re(e),ie(i)),o}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}},{key:"addControl",value:function(e){var t=this;me.then((function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),X(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)}))}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t=this;me.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name),ce(t._directives,e)}))}},{key:"addFormGroup",value:function(e){var t=this;me.then((function(){var n=t._findContainer(e.path),r=new ve({});ee(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(e){var t=this;me.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)}))}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){var n=this;me.then((function(){n.form.get(e.path).setValue(t)}))}},{key:"setValue",value:function(e){this.control.setValue(e)}},{key:"onSubmit",value:function(e){return this.submitted=!0,se(this.form,this._directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(e){return e.pop(),e.length?this.form.get(e):this.form}}]),n}(v);return e.\u0275fac=function(t){return new(t||e)(r.Vb(k,10),r.Vb(E,10))},e.\u0275dir=r.Qb({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&r.ic("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Ib([ge]),r.Gb]}),e}(),be=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return Y(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return re(this._validators)}},{key:"asyncValidator",get:function(){return ie(this._asyncValidators)}},{key:"_checkParentType",value:function(){}}]),n}(v);return e.\u0275fac=function(t){return Ce(t||e)},e.\u0275dir=r.Qb({type:e,features:[r.Gb]}),e}(),Ce=r.cc(be),we=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '.concat(V,'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '))}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(U,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(B))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(U,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(B))}}]),e}(),ke={provide:v,useExisting:Object(r.bb)((function(){return Ee}))},Ee=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){this._parent instanceof n||this._parent instanceof _e||we.modelGroupParentException()}}]),n}(be);return e.\u0275fac=function(t){return new(t||e)(r.Vb(v,5),r.Vb(k,10),r.Vb(E,10))},e.\u0275dir=r.Qb({type:e,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[r.Ib([ke]),r.Gb]}),e}(),Se={provide:m,useExisting:Object(r.bb)((function(){return Te}))},Oe=Promise.resolve(null),Te=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,a){var s;return _classCallCheck(this,n),(s=t.call(this)).control=new pe,s._registered=!1,s.update=new r.q,s._parent=e,s._rawValidators=i||[],s._rawAsyncValidators=o||[],s.valueAccessor=ue(_assertThisInitialized(s),a),s}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),oe(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._parent?Y(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return re(this._rawValidators)}},{key:"asyncValidator",get:function(){return ie(this._rawAsyncValidators)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){X(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof Ee)&&this._parent instanceof be?we.formGroupNameException():this._parent instanceof Ee||this._parent instanceof _e||we.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||we.missingNameException()}},{key:"_updateValue",value:function(e){var t=this;Oe.then((function(){t.control.setValue(e,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,r=""===n||n&&"false"!==n;Oe.then((function(){r&&!t.control.disabled?t.control.disable():!r&&t.control.disabled&&t.control.enable()}))}}]),n}(m);return e.\u0275fac=function(t){return new(t||e)(r.Vb(v,9),r.Vb(k,10),r.Vb(E,10),r.Vb(u,10))},e.\u0275dir=r.Qb({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.Ib([Se]),r.Gb,r.Hb]}),e}(),Ie=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.Qb({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e}(),De=new r.t("NgModelWithFormControlWarning"),Ae={provide:v,useExisting:Object(r.bb)((function(){return xe}))},xe=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this))._validators=e,o._asyncValidators=i,o.submitted=!1,o.directives=[],o.form=null,o.ngSubmit=new r.q,o}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"addControl",value:function(e){var t=this.form.get(e.path);return X(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){ce(this.directives,e)}},{key:"addFormGroup",value:function(e){var t=this.form.get(e.path);ee(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(e){}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"addFormArray",value:function(e){var t=this.form.get(e.path);ee(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(e){}},{key:"getFormArray",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){this.form.get(e.path).setValue(t)}},{key:"onSubmit",value:function(e){return this.submitted=!0,se(this.form,this.directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_updateDomValue",value:function(){var e=this;this.directives.forEach((function(t){var n=e.form.get(t.path);t.control!==n&&(function(e,t){t.valueAccessor.registerOnChange((function(){return te(t)})),t.valueAccessor.registerOnTouched((function(){return te(t)})),t._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),t._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),e&&e._clearChangeFns()}(t.control,t),n&&X(n,t),t.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var e=this;this.form._registerOnCollectionChange((function(){return e._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var e=re(this._validators);this.form.validator=O.compose([this.form.validator,e]);var t=ie(this._asyncValidators);this.form.asyncValidator=O.composeAsync([this.form.asyncValidator,t])}},{key:"_checkFormPresent",value:function(){this.form||q.missingFormException()}}]),n}(v);return e.\u0275fac=function(t){return new(t||e)(r.Vb(k,10),r.Vb(E,10))},e.\u0275dir=r.Qb({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&r.ic("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Ib([Ae]),r.Gb,r.Hb]}),e}(),Pe={provide:v,useExisting:Object(r.bb)((function(){return Ne}))},Ne=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){Fe(this._parent)&&q.groupParentException()}}]),n}(be);return e.\u0275fac=function(t){return new(t||e)(r.Vb(v,13),r.Vb(k,10),r.Vb(E,10))},e.\u0275dir=r.Qb({type:e,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[r.Ib([Pe]),r.Gb]}),e}(),Re={provide:v,useExisting:Object(r.bb)((function(){return je}))},je=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormArray(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormArray(this)}},{key:"control",get:function(){return this.formDirective.getFormArray(this)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"path",get:function(){return Y(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"validator",get:function(){return re(this._validators)}},{key:"asyncValidator",get:function(){return ie(this._asyncValidators)}},{key:"_checkParentType",value:function(){Fe(this._parent)&&q.arrayParentException()}}]),n}(v);return e.\u0275fac=function(t){return new(t||e)(r.Vb(v,13),r.Vb(k,10),r.Vb(E,10))},e.\u0275dir=r.Qb({type:e,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[r.Ib([Re]),r.Gb]}),e}();function Fe(e){return!(e instanceof Ne||e instanceof xe||e instanceof je)}var Me={provide:m,useExisting:Object(r.bb)((function(){return Le}))},Le=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,a,s){var u;return _classCallCheck(this,n),(u=t.call(this))._ngModelWarningConfig=s,u._added=!1,u.update=new r.q,u._ngModelWarningSent=!1,u._parent=e,u._rawValidators=i||[],u._rawAsyncValidators=o||[],u.valueAccessor=ue(_assertThisInitialized(u),a),u}return _createClass(n,[{key:"isDisabled",set:function(e){q.disabledAttrWarning()}},{key:"ngOnChanges",value:function(e){var t,i;this._added||this._setUpControl(),oe(e,this.viewModel)&&(t=n,i=this._ngModelWarningConfig,Object(r.cb)()&&"never"!==i&&((null!==i&&"once"!==i||t._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(q.ngModelWarning("formControlName"),t._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"path",get:function(){return Y(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return re(this._rawValidators)}},{key:"asyncValidator",get:function(){return ie(this._rawAsyncValidators)}},{key:"_checkParentType",value:function(){!(this._parent instanceof Ne)&&this._parent instanceof be?q.ngModelGroupException():this._parent instanceof Ne||this._parent instanceof xe||this._parent instanceof je||q.controlParentException()}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}]),n}(m);return e.\u0275fac=function(t){return new(t||e)(r.Vb(v,13),r.Vb(k,10),r.Vb(E,10),r.Vb(u,10),r.Vb(De,8))},e.\u0275dir=r.Qb({type:e,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.Ib([Me]),r.Gb,r.Hb]}),e._ngModelWarningSentOnce=!1,e}(),Ve={provide:k,useExisting:Object(r.bb)((function(){return Ue})),multi:!0},Ue=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"required",get:function(){return this._required},set:function(e){this._required=null!=e&&!1!==e&&""+e!="false",this._onChange&&this._onChange()}},{key:"validate",value:function(e){return this.required?O.required(e):null}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.Qb({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&r.Kb("required",t.required?"":null)},inputs:{required:"required"},features:[r.Ib([Ve])]}),e}(),Be=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=r.Tb({type:e}),e.\u0275inj=r.Sb({factory:function(t){return new(t||e)}}),e}(),qe=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"group",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(e),r=null,i=null,o=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(r=null!=t.validators?t.validators:null,i=null!=t.asyncValidators?t.asyncValidators:null,o=null!=t.updateOn?t.updateOn:void 0):(r=null!=t.validator?t.validator:null,i=null!=t.asyncValidator?t.asyncValidator:null)),new ve(n,{asyncValidators:i,updateOn:o,validators:r})}},{key:"control",value:function(e,t,n){return new pe(e,t,n)}},{key:"array",value:function(e,t,n){var r=this,i=e.map((function(e){return r._createControl(e)}));return new ye(i,t,n)}},{key:"_reduceControls",value:function(e){var t=this,n={};return Object.keys(e).forEach((function(r){n[r]=t._createControl(e[r])})),n}},{key:"_createControl",value:function(e){return e instanceof pe||e instanceof ve||e instanceof ye?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Rb({token:e,factory:e.\u0275fac}),e}(),He=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=r.Tb({type:e}),e.\u0275inj=r.Sb({factory:function(t){return new(t||e)},providers:[j],imports:[Be]}),e}(),ze=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:De,useValue:t.warnOnNgModelWithFormControl}]}}}]),e}();return e.\u0275mod=r.Tb({type:e}),e.\u0275inj=r.Sb({factory:function(t){return new(t||e)},providers:[qe,j],imports:[Be]}),e}()},"3UD+":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},"4I5i":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}()},"5+tZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),a=n("lJxs"),s=n("Cfvw");function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(r){return r.pipe(u((function(n,r){return Object(s.a)(e(n,r)).pipe(Object(a.a)((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new c(e,n))})}var c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,e),this.project=t,this.concurrent=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new l(e,this.project,this.concurrent))}}]),e}(),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var i=new o.a(this,t,n),a=this.destination;a.add(i);var s=Object(r.a)(this,e,void 0,void 0,i);s!==i&&a.add(s)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(i.a)},"51Dv":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this)).parent=e,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(n("7o/Q").a)},"5KT8":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("XNiG"),i=n("fXoL"),o=function(){var e=function(){function e(){_classCallCheck(this,e),this.layout=new r.a,this.layoutState=this.layout.asObservable()}return _createClass(e,[{key:"changeLayout",value:function(e){this.layout.next(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Rb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},"5eHb":function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return E}));var r=n("fXoL"),i=n("R0Ic"),o=n("XNiG"),a=n("jhN1"),s=n("ofXK"),u=["toast-component",""];function c(e,t){if(1&e){var n=r.bc();r.ac(0,"button",5),r.ic("click",(function(){return r.wc(n),r.lc().remove()})),r.ac(1,"span",6),r.Cc(2,"\xd7"),r.Zb(),r.Zb()}}function l(e,t){if(1&e&&(r.Yb(0),r.Cc(1),r.Xb()),2&e){var n=r.lc(2);r.Jb(1),r.Ec("[",n.duplicatesCount+1,"]")}}function h(e,t){if(1&e&&(r.ac(0,"div"),r.Cc(1),r.Bc(2,l,2,1,"ng-container",4),r.Zb()),2&e){var n=r.lc();r.Lb(n.options.titleClass),r.Kb("aria-label",n.title),r.Jb(1),r.Ec(" ",n.title," "),r.Jb(1),r.pc("ngIf",n.duplicatesCount)}}function f(e,t){if(1&e&&r.Wb(0,"div",7),2&e){var n=r.lc();r.Lb(n.options.messageClass),r.pc("innerHTML",n.message,r.xc)}}function d(e,t){if(1&e&&(r.ac(0,"div",8),r.Cc(1),r.Zb()),2&e){var n=r.lc();r.Lb(n.options.messageClass),r.Kb("aria-label",n.message),r.Jb(1),r.Ec(" ",n.message," ")}}function p(e,t){if(1&e&&(r.ac(0,"div"),r.Wb(1,"div",9),r.Zb()),2&e){var n=r.lc();r.Jb(1),r.Ac("width",n.width+"%")}}var v=function(){function e(t,n,r,i,a,s){var u=this;_classCallCheck(this,e),this.toastId=t,this.config=n,this.message=r,this.title=i,this.toastType=a,this.toastRef=s,this._onTap=new o.a,this._onAction=new o.a,this.toastRef.afterClosed().subscribe((function(){u._onAction.complete(),u._onTap.complete()}))}return _createClass(e,[{key:"triggerTap",value:function(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}},{key:"onTap",value:function(){return this._onTap.asObservable()}},{key:"triggerAction",value:function(e){this._onAction.next(e)}},{key:"onAction",value:function(){return this._onAction.asObservable()}}]),e}(),y=new r.t("ToastConfig"),g=function(){function e(t,n){_classCallCheck(this,e),this.component=t,this.injector=n}return _createClass(e,[{key:"attach",value:function(e,t){return this._attachedHost=e,e.attach(this,t)}},{key:"detach",value:function(){var e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}},{key:"isAttached",get:function(){return null!=this._attachedHost}},{key:"setAttachedHost",value:function(e){this._attachedHost=e}}]),e}(),m=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._hostDomElement=e,o._componentFactoryResolver=r,o._appRef=i,o}return _createClass(n,[{key:"attachComponentPortal",value:function(e,t){var n,r=this,i=this._componentFactoryResolver.resolveComponentFactory(e.component);return n=i.create(e.injector),this._appRef.attachView(n.hostView),this.setDisposeFn((function(){r._appRef.detachView(n.hostView),n.destroy()})),t?this._hostDomElement.insertBefore(this._getComponentRootNode(n),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(n)),n}},{key:"_getComponentRootNode",value:function(e){return e.hostView.rootNodes[0]}}]),n}(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"attach",value:function(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}},{key:"detach",value:function(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}},{key:"setDisposeFn",value:function(e){this._disposeFn=e}}]),e}()),_=function(){var e=function(){function e(t){_classCallCheck(this,e),this._document=t}return _createClass(e,[{key:"ngOnDestroy",value:function(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){var e=this._document.createElement("div");e.classList.add("overlay-container"),this._document.body.appendChild(e),this._containerElement=e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.ec(s.e))},e.\u0275prov=Object(r.Rb)({factory:function(){return new e(Object(r.ec)(s.e))},token:e,providedIn:"root"}),e}(),b=function(){function e(t){_classCallCheck(this,e),this._portalHost=t}return _createClass(e,[{key:"attach",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this._portalHost.attach(e,t)}},{key:"detach",value:function(){return this._portalHost.detach()}}]),e}(),C=function(){var e=function(){function e(t,n,r,i){_classCallCheck(this,e),this._overlayContainer=t,this._componentFactoryResolver=n,this._appRef=r,this._document=i,this._paneElements=new Map}return _createClass(e,[{key:"create",value:function(e,t){return this._createOverlayRef(this.getPaneElement(e,t))}},{key:"getPaneElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return this._paneElements.get(t)||this._paneElements.set(t,{}),this._paneElements.get(t)[e]||(this._paneElements.get(t)[e]=this._createPaneElement(e,t)),this._paneElements.get(t)[e]}},{key:"_createPaneElement",value:function(e,t){var n=this._document.createElement("div");return n.id="toast-container",n.classList.add(e),n.classList.add("toast-container"),t?t.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}},{key:"_createPortalHost",value:function(e){return new m(e,this._componentFactoryResolver,this._appRef)}},{key:"_createOverlayRef",value:function(e){return new b(this._createPortalHost(e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.ec(_),r.ec(r.l),r.ec(r.g),r.ec(s.e))},e.\u0275prov=Object(r.Rb)({factory:function(){return new e(Object(r.ec)(_),Object(r.ec)(r.l),Object(r.ec)(r.g),Object(r.ec)(s.e))},token:e,providedIn:"root"}),e}(),w=function(){function e(t){_classCallCheck(this,e),this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new o.a,this._activate=new o.a,this._manualClose=new o.a,this._resetTimeout=new o.a,this._countDuplicate=new o.a}return _createClass(e,[{key:"manualClose",value:function(){this._manualClose.next(),this._manualClose.complete()}},{key:"manualClosed",value:function(){return this._manualClose.asObservable()}},{key:"timeoutReset",value:function(){return this._resetTimeout.asObservable()}},{key:"countDuplicate",value:function(){return this._countDuplicate.asObservable()}},{key:"close",value:function(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}},{key:"afterClosed",value:function(){return this._afterClosed.asObservable()}},{key:"isInactive",value:function(){return this._activate.isStopped}},{key:"activate",value:function(){this._activate.next(),this._activate.complete()}},{key:"afterActivate",value:function(){return this._activate.asObservable()}},{key:"onDuplicate",value:function(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}]),e}(),k=function(){function e(t,n){_classCallCheck(this,e),this._toastPackage=t,this._parentInjector=n}return _createClass(e,[{key:"get",value:function(e,t,n){return e===v?this._toastPackage:this._parentInjector.get(e,t,n)}}]),e}(),E=function(){var e=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.overlay=n,this._injector=r,this.sanitizer=i,this.ngZone=o,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}return _createClass(e,[{key:"show",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return this._preBuildNotification(r,e,t,this.applyConfig(n))}},{key:"success",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,t,this.applyConfig(n))}},{key:"error",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,t,this.applyConfig(n))}},{key:"info",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,t,this.applyConfig(n))}},{key:"warning",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,t,this.applyConfig(n))}},{key:"clear",value:function(e){var t,n=_createForOfIteratorHelper(this.toasts);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(void 0!==e){if(r.toastId===e)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}}catch(i){n.e(i)}finally{n.f()}}},{key:"remove",value:function(e){var t=this._findToast(e);if(!t)return!1;if(t.activeToast.toastRef.close(),this.toasts.splice(t.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){var n=this.toasts[this.currentlyActive].toastRef;n.isInactive()||(this.currentlyActive=this.currentlyActive+1,n.activate())}return!0}},{key:"findDuplicate",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=this.toastrConfig.includeTitleDuplicates,a=_createForOfIteratorHelper(this.toasts);try{for(a.s();!(e=a.n()).done;){var s=e.value,u=o&&s.title===t;if((!o||u)&&s.message===n)return s.toastRef.onDuplicate(r,i),s}}catch(c){a.e(c)}finally{a.f()}return null}},{key:"applyConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(Object.assign({},this.toastrConfig),e)}},{key:"_findToast",value:function(e){for(var t=0;t<this.toasts.length;t++)if(this.toasts[t].toastId===e)return{index:t,activeToast:this.toasts[t]};return null}},{key:"_preBuildNotification",value:function(e,t,n,r){var i=this;return r.onActivateTick?this.ngZone.run((function(){return i._buildNotification(e,t,n,r)})):this._buildNotification(e,t,n,r)}},{key:"_buildNotification",value:function(e,t,n,i){if(!i.toastComponent)throw new Error("toastComponent required");var o=this.findDuplicate(n,t,this.toastrConfig.resetTimeoutOnDuplicate&&i.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||t)&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=t;var a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));var s=this.overlay.create(i.positionClass,this.overlayContainer);this.index=this.index+1;var u=t;t&&i.enableHtml&&(u=this.sanitizer.sanitize(r.O.HTML,t));var c=new w(s),l=new v(this.index,i,u,n,e,c),h=new k(l,this._injector),f=new g(i.toastComponent,h),d=s.attach(f,this.toastrConfig.newestOnTop);c.componentInstance=d.instance;var p={toastId:this.index,title:n||"",message:t||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:l.onTap(),onAction:l.onAction(),portal:d};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout((function(){p.toastRef.activate()}))),this.toasts.push(p),p}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.ec(y),r.ec(C),r.ec(r.u),r.ec(a.b),r.ec(r.E))},e.\u0275prov=Object(r.Rb)({factory:function(){return new e(Object(r.ec)(y),Object(r.ec)(C),Object(r.ec)(r.r),Object(r.ec)(a.b),Object(r.ec)(r.E))},token:e,providedIn:"root"}),e}(),S=function(){var e=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.toastrService=t,this.toastPackage=n,this.ngZone=r,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses="".concat(n.toastType," ").concat(n.config.toastClass),this.sub=n.toastRef.afterActivate().subscribe((function(){i.activateToast()})),this.sub1=n.toastRef.manualClosed().subscribe((function(){i.remove()})),this.sub2=n.toastRef.timeoutReset().subscribe((function(){i.resetTimeout()})),this.sub3=n.toastRef.countDuplicate().subscribe((function(e){i.duplicatesCount=e}))}return _createClass(e,[{key:"displayStyle",get:function(){if("inactive"===this.state.value)return"none"}},{key:"ngOnDestroy",value:function(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}},{key:"activateToast",value:function(){var e=this;this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout((function(){return e.remove()}),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval((function(){return e.updateProgress()}),10))}},{key:"updateProgress",value:function(){if(0!==this.width&&100!==this.width&&this.options.timeOut){var e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}}},{key:"resetTimeout",value:function(){var e=this;clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout((function(){return e.remove()}),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval((function(){return e.updateProgress()}),10)}},{key:"remove",value:function(){var e=this;"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout((function(){return e.toastrService.remove(e.toastPackage.toastId)}),+this.toastPackage.config.easeTime))}},{key:"tapToast",value:function(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}},{key:"stickAround",value:function(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}},{key:"delayedHideToast",value:function(){var e=this;!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout((function(){return e.remove()}),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval((function(){return e.updateProgress()}),10))}},{key:"outsideTimeout",value:function(e,t){var n=this;this.ngZone?this.ngZone.runOutsideAngular((function(){return n.timeout=setTimeout((function(){return n.runInsideAngular(e)}),t)})):this.timeout=setTimeout((function(){return e()}),t)}},{key:"outsideInterval",value:function(e,t){var n=this;this.ngZone?this.ngZone.runOutsideAngular((function(){return n.intervalId=setInterval((function(){return n.runInsideAngular(e)}),t)})):this.intervalId=setInterval((function(){return e()}),t)}},{key:"runInsideAngular",value:function(e){this.ngZone?this.ngZone.run((function(){return e()})):e()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Vb(E),r.Vb(v),r.Vb(r.E))},e.\u0275cmp=r.Pb({type:e,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(e,t){1&e&&r.ic("click",(function(){return t.tapToast()}))("mouseenter",(function(){return t.stickAround()}))("mouseleave",(function(){return t.delayedHideToast()})),2&e&&(r.Hc("@flyInOut",t.state),r.Lb(t.toastClasses),r.Ac("display",t.displayStyle))},attrs:u,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(e,t){1&e&&(r.Bc(0,c,3,0,"button",0),r.Bc(1,h,3,5,"div",1),r.Bc(2,f,1,3,"div",2),r.Bc(3,d,2,4,"div",3),r.Bc(4,p,2,2,"div",4)),2&e&&(r.pc("ngIf",t.options.closeButton),r.Jb(1),r.pc("ngIf",t.title),r.Jb(1),r.pc("ngIf",t.message&&t.options.enableHtml),r.Jb(1),r.pc("ngIf",t.message&&!t.options.enableHtml),r.Jb(1),r.pc("ngIf",t.options.progressBar))},directives:[s.n],encapsulation:2,data:{animation:[Object(i.j)("flyInOut",[Object(i.g)("inactive",Object(i.h)({opacity:0})),Object(i.g)("active",Object(i.h)({opacity:1})),Object(i.g)("removed",Object(i.h)({opacity:0})),Object(i.i)("inactive => active",Object(i.e)("{{ easeTime }}ms {{ easing }}")),Object(i.i)("active => removed",Object(i.e)("{{ easeTime }}ms {{ easing }}"))])]}}),e}(),O=Object.assign(Object.assign({},{maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"}),{toastComponent:S}),T=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[{provide:y,useValue:{default:O,config:t}}]}}}]),e}();return e.\u0275mod=r.Tb({type:e}),e.\u0275inj=r.Sb({factory:function(t){return new(t||e)},imports:[[s.c]]}),e}()},"6Uf2":function(e,t,n){"use strict";(function(e){var t,r=n("zIRd"),i=n("/6Yf"),o=n("qOnz"),a=n("mAIw"),s=n("q/0M"),u=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Object(o.G)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Object(o.A)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),c=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return Object(o.h)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),l=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new u(t)}}catch(n){}return new c},h=l("localStorage"),f=l("sessionStorage"),d=new s.b("@firebase/database"),p=(t=1,function(){return t++}),v=function(e){var t=Object(o.F)(e),n=new o.c;n.update(t);var r=n.digest();return o.f.encodeByteArray(r)},y=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=0;i<t.length;i++){var a=t[i];Array.isArray(a)||a&&"object"==typeof a&&"number"==typeof a.length?r+=e.apply(null,a):r+="object"==typeof a?Object(o.G)(a):a,r+=" "}return r},g=null,m=!0,_=function(e,t){Object(o.d)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(d.logLevel=s.a.VERBOSE,g=d.log.bind(d),t&&f.set("logging_enabled",!0)):"function"==typeof e?g=e:(g=null,f.remove("logging_enabled"))},b=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===m&&(m=!1,null===g&&!0===f.get("logging_enabled")&&_(!0)),g){var n=y.apply(null,e);g(n)}},C=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];b.apply(void 0,Object(a.f)([e],Object(a.e)(t)))}},w=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+y.apply(void 0,Object(a.f)([],Object(a.e)(e)));d.error(n)},k=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+y.apply(void 0,Object(a.f)([],Object(a.e)(e)));throw d.error(n),new Error(n)},E=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+y.apply(void 0,Object(a.f)([],Object(a.e)(e)));d.warn(n)},S=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},O="[MIN_NAME]",T="[MAX_NAME]",I=function(e,t){if(e===t)return 0;if(e===O||t===T)return-1;if(t===O||e===T)return 1;var n=F(e),r=F(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},D=function(e,t){return e===t?0:e<t?-1:1},A=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Object(o.G)(t))},x=function e(t){if("object"!=typeof t||null===t)return Object(o.G)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Object(o.G)(n[a]),i+=":",i+=e(t[n[a]]);return i+"}"},P=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)r.push(e.substring(i,i+t>n?n:i+t));return r};function N(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var R=function(e){var t,n,r,i,a;Object(o.d)(!S(e),"Invalid JSON number"),0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},j=new RegExp("^-?(0*)\\d{1,10}$"),F=function(e){if(j.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},M=function(e){try{e()}catch(t){setTimeout((function(){throw E("Exception was thrown by user callback.",t.stack||""),t}),Math.floor(0))}},L=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},V=function(){function e(e,t){var n=this;this.app_=e,this.authProvider_=t,this.auth_=null,this.auth_=t.getImmediate({optional:!0}),this.auth_||t.get().then((function(e){return n.auth_=e}))}return e.prototype.getToken=function(e){return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(b("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):Promise.resolve(null)},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):(setTimeout((function(){return e(null)}),0),this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)})))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';E(e+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},e}(),U=function(){function e(){}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:e.EMULATOR_AUTH_TOKEN})},e.prototype.addTokenChangeListener=function(t){t(e.EMULATOR_AUTH_TOKEN)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.EMULATOR_AUTH_TOKEN="owner",e}(),B=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,q=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=h.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&h.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},e}();function H(e,t,n){var r;if(Object(o.d)("string"==typeof t,"typeof type must == string"),Object(o.d)("object"==typeof n,"typeof params must == object"),"websocket"===t)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return N(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var z=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),Object(o.h)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return Object(o.j)(this.counters_)},e}(),W={},K={};function G(e){var t=e.toString();return W[t]||(W[t]=new z),W[t]}var Q=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&M((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},e}(),Z=function(){function e(e,t,n,r,i){this.connId=e,this.repoInfo=t,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=C(e),this.stats_=G(t),this.urlFn=function(e){return H(t,"long_polling",e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Q(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Object(o.w)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new J((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object(a.e)(e,5),i=r[0],o=r[1],s=r[2];if(n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object(a.e)(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),"undefined"!=typeof location&&location.hostname&&B.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!(Object(o.w)()||!e.forceAllow_&&(e.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=Object(o.G)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Object(o.g)(t),r=P(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!Object(o.w)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=Object(o.G)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),J=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o.w)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=p(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(a='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){b("frame writing exception"),u.stack&&b(u.stack),b(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||b("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(t+=n,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;Object(o.w)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){b("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),Y="";function X(e){Y=e}var $=null;"undefined"!=typeof MozWebSocket?$=MozWebSocket:"undefined"!=typeof WebSocket&&($=WebSocket);var ee=function(){function e(t,n,r,i,o){this.connId=t,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=C(this.connId),this.stats_=G(n),this.connURL=e.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n){var r={v:"5"};return!Object(o.w)()&&"undefined"!=typeof location&&location.hostname&&B.test(location.hostname)&&(r.r="f"),t&&(r.s=t),n&&(r.ls=n),H(e,"websocket",r)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,h.set("previous_websocket_failure",!0);try{if(Object(o.w)()){var r={headers:{"User-Agent":"Firebase/5/"+Y+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},i=process.env,a=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;a&&(r.proxy={origin:a}),this.mySock=new $(this.connURL,[],r)}else this.mySock=new $(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==$&&!e.forceDisallow_},e.previouslyFailed=function(){return h.isInMemoryStorage||!0===h.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){h.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Object(o.A)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(Object(o.d)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=Object(o.G)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=P(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),te=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[Z,ee]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=ee&&ee.isAvailable(),o=i&&!ee.previouslyFailed();if(t.webSocketOnly&&(i||E("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ee];else{var s=this.transports_=[];try{for(var u=Object(a.g)(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),ne=function(){function e(e,t,n,r,i,o,a,s){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=C("c:"+this.id+":"),this.transportManager_=new te(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=L((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){this.sendData_({t:"d",d:e})},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=A("t",e),n=A("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=A("t",e),n=A("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=A("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?w("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):w("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&E("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),L((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):L((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(h.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),re=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),ie=function(){function e(e){this.allowedEvents_=e,this.listeners_={},Object(o.d)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=Object(a.f)([],Object(a.e)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){Object(o.d)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),oe=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(o.u)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return Object(a.c)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(o.d)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(ie),ae=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function se(){return new ae("")}function ue(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ce(e){return e.pieces_.length-e.pieceNum_}function le(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new ae(e.pieces_,t)}function he(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function fe(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function de(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function pe(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ae(t,0)}function ve(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ae)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new ae(n,0)}function ye(e){return e.pieceNum_>=e.pieces_.length}function ge(e,t){var n=ue(e),r=ue(t);if(null===n)return t;if(n===r)return ge(le(e),le(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function me(e,t){for(var n=de(e,0),r=de(t,0),i=0;i<n.length&&i<r.length;i++){var o=I(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function _e(e,t){if(ce(e)!==ce(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function be(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(ce(e)>ce(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Ce=function(e,t){this.errorPrefix_=t,this.parts_=de(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o.E)(this.parts_[n]);we(this)};function we(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ke(e))}function ke(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Ee,Se,Oe=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return Object(a.c)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(o.d)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(ie),Te=function(e){function t(n,r,i,a,s,u,c){var l=e.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=s,l.authTokenProvider_=u,l.authOverride_=c,l.id=t.nextPersistentConnectionId_++,l.log_=C("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=1e3,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Object(o.w)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),Oe.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&oe.getInstance().on("online",l.onOnline_,l),l}return Object(a.c)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Object(o.G)(i)),Object(o.d)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this,n=new o.a,r={p:e.path.toString(),q:e.queryObject()},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){var i=e.queryIdentifier(),a=e.path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Object(o.d)(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),Object(o.d)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r.queryObject(),a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&Object(o.h)(e,"w")){var n=Object(o.D)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t.getQueryParams().getIndex().toString()+'"',i=t.path.toString();E("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||Object(o.o)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=Object(o.z)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.unlisten=function(e,t){var n=e.path.toString(),r=e.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),Object(o.d)(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e.queryObject(),t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){"ok"!==e.s&&t.log_("reportStats","Error sending stats: "+e.d)}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+Object(o.G)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):w("Unrecognized action received from server: "+Object(o.G)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;Object(o.d)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){var e=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+t.nextConnectionId_++,s=this,u=this.lastSessionId,c=!1,l=null,h=function(){l?l.close():(c=!0,i())};this.realtime_={close:h,sendRequest:function(e){Object(o.d)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)}};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then((function(e){c?b("getToken() completed but was canceled"):(b("getToken() completed. Creating connection."),s.authToken_=e&&e.accessToken,l=new ne(a,s.repoInfo_,s.applicationId_,n,r,i,(function(e){E(e+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")}),u))})).then(null,(function(t){s.log_("Failed to get token: "+t),c||(e.repoInfo_.nodeAdmin&&E(t),h())}))}},t.prototype.interrupt=function(e){b("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){b("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Object(o.s)(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return x(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new ae(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){b("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth();try{for(var i=Object(a.g)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,Object(a.g)(s.values())),c=u.next();!c.done;c=u.next())this.sendListen_(c.value)}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},t.prototype.sendConnectStats_=function(){var e={},t="js";Object(o.w)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Y.replace(/\./g,"-")]=1,Object(o.u)()?e["framework.cordova"]=1:Object(o.x)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=oe.getInstance().currentlyOnline();return Object(o.s)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(re),Ie=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),De=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Ie(O,e),r=new Ie(O,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Ie.MIN},e}(),Ae=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Ee},set:function(e){Ee=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return I(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw Object(o.e)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Ie.MIN},t.prototype.maxPost=function(){return new Ie(T,Ee)},t.prototype.makePost=function(e,t){return Object(o.d)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Ie(e,Ee)},t.prototype.toString=function(){return".key"},t}(De),xe=new Ae,Pe=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Ne=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:je.EMPTY_NODE,this.right=null!=o?o:je.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return je.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return je.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Re=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Ne(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),je=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ne.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ne.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Pe(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Pe(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Pe(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Pe(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Re,e}();function Fe(e,t){return I(e.name,t.name)}function Me(e,t){return I(e,t)}var Le,Ve,Ue,Be,qe,He=function(e){return"number"==typeof e?"number:"+R(e):"string:"+e},ze=function(e){if(e.isLeafNode()){var t=e.val();Object(o.d)("string"==typeof t||"number"==typeof t||"object"==typeof t&&Object(o.h)(t,".sv"),"Priority must be a string or number.")}else Object(o.d)(e===Se||e.isEmpty(),"priority of unexpected type.");Object(o.d)(e===Se||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},We=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Object(o.d)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),ze(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return Le},set:function(e){Le=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return ye(t)?this:".priority"===ue(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=ue(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(o.d)(".priority"!==r||1===ce(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(le(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+He(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?R(this.value_):this.value_,this.lazyHash_=v(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Object(o.d)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Object(o.d)(i>=0,"Unknown leaf type: "+n),Object(o.d)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){return e===this||!!e.isLeafNode()&&this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}(),Ke=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?I(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Ie.MIN},t.prototype.maxPost=function(){return new Ie(T,new We("[PRIORITY-POST]",Ue))},t.prototype.makePost=function(e,t){var n=Ve(e);return new Ie(t,new We("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(De)),Ge=Math.log(2),Qe=function(){function e(e){this.count=parseInt(Math.log(e+1)/Ge,10),this.current_=this.count-1;var t=parseInt(Array(this.count+1).join("1"),2);this.bits_=e+1&t}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),Ze=function(e,t,n,r){e.sort(t);var i=function(t){for(var r=null,i=null,o=e.length,a=function(t,r){var i=o-t,a=o;o-=t;var u=function t(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=e[r],a=n?n(o):o,new Ne(a,o.node,Ne.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return o=e[u],a=n?n(o):o,new Ne(a,o.node,Ne.BLACK,c,l)}(i+1,a),c=e[i],l=n?n(c):c;s(new Ne(l,c.node,r,null,u))},s=function(e){r?(r.left=e,r=e):(i=e,r=e)},u=0;u<t.count;++u){var c=t.nextBitIsOne(),l=Math.pow(2,t.count-(u+1));c?a(l,Ne.BLACK):(a(l,Ne.BLACK),a(l,Ne.RED))}return i}(new Qe(e.length));return new je(r||t,i)},Je={},Ye=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return Object(o.d)(Je&&Ke,"ChildrenNode.ts has not been loaded"),Be=Be||new e({".priority":Je},{".priority":Ke})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=Object(o.D)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof je?t:null},e.prototype.hasIndex=function(e){return Object(o.h)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){Object(o.d)(t!==xe,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,u=n.getIterator(Ie.Wrap),c=u.getNext();c;)s=s||t.isDefinedOn(c.node),i.push(c),c=u.getNext();r=s?Ze(i,t.getCompare()):Je;var l=t.toString(),h=Object(a.a)({},this.indexSet_);h[l]=t;var f=Object(a.a)({},this.indexes_);return f[l]=r,new e(f,h)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(Object(o.B)(this.indexes_,(function(e,i){var a=Object(o.D)(r.indexSet_,i);if(Object(o.d)(a,"Missing index implementation for "+i),e===Je){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(Ie.Wrap),c=u.getNext();c;)c.name!==t.name&&s.push(c),c=u.getNext();return s.push(t),Ze(s,a.getCompare())}return Je}var l=n.get(t.name),h=e;return l&&(h=h.remove(new Ie(t.name,l))),h.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(Object(o.B)(this.indexes_,(function(e){if(e===Je)return e;var r=n.get(t.name);return r?e.remove(new Ie(t.name,r)):e})),this.indexSet_)},e}(),Xe=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&ze(this.priorityNode_),this.children_.isEmpty()&&Object(o.d)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return qe||(qe=new e(new je(Me),null,Ye.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||qe},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?qe:t},e.prototype.getChild=function(e){var t=ue(e);return null===t?this:this.getImmediateChild(t).getChild(le(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(Object(o.d)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Ie(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?qe:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=ue(e);if(null===n)return t;Object(o.d)(".priority"!==ue(e)||1===ce(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(le(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Ke,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+He(this.getPriority().val())+":"),this.forEachChild(Ke,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":v(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ie(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Ie(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Ie(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Ie.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Ie.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===$e?-1:0},e.prototype.withIndex=function(t){if(t===xe||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===xe||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Ke),r=t.getIterator(Ke),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===xe?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),$e=new(function(e){function t(){return e.call(this,new je(Me),Xe.EMPTY_NODE,Ye.Default)||this}return Object(a.c)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return Xe.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(Xe));function et(e,t){if(void 0===t&&(t=null),null===e)return Xe.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),Object(o.d)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new We(e,et(t));if(e instanceof Array){var n=Xe.EMPTY_NODE;return N(e,(function(t,r){if(Object(o.h)(e,t)&&"."!==t.substring(0,1)){var i=et(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(et(t))}var r=[],i=!1;if(N(e,(function(e,t){if("."!==e.substring(0,1)){var n=et(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Ie(e,n)))}})),0===r.length)return Xe.EMPTY_NODE;var a=Ze(r,Fe,(function(e){return e.name}),Me);if(i){var s=Ze(r,Ke.getCompare());return new Xe(a,et(t),new Ye({".priority":s},{".priority":Ke}))}return new Xe(a,et(t),Ye.Default)}Object.defineProperties(Ie,{MIN:{value:new Ie(O,Xe.EMPTY_NODE)},MAX:{value:new Ie(T,$e)}}),Ae.__EMPTY_NODE=Xe.EMPTY_NODE,We.__childrenNodeConstructor=Xe,Se=$e,Ue=$e,function(e){Ve=e}(et);var tt,nt,rt=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,Object(o.d)(!ye(t)&&".priority"!==ue(t),"Can't create PathIndex with empty path or .priority key"),n}return Object(a.c)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?I(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=et(e),r=Xe.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ie(t,r)},t.prototype.maxPost=function(){var e=Xe.EMPTY_NODE.updateChild(this.indexPath_,$e);return new Ie(T,e)},t.prototype.toString=function(){return de(this.indexPath_,0).join("/")},t}(De),it=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?I(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Ie.MIN},t.prototype.maxPost=function(){return Ie.MAX},t.prototype.makePost=function(e,t){var n=et(e);return new Ie(t,n)},t.prototype.toString=function(){return".value"},t}(De)),ot="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",at=(tt=0,nt=[],function(e){var t,n=e===tt;tt=e;var r=new Array(8);for(t=7;t>=0;t--)r[t]=ot.charAt(e%64),e=Math.floor(e/64);Object(o.d)(0===e,"Cannot push at time == 0");var i=r.join("");if(n){for(t=11;t>=0&&63===nt[t];t--)nt[t]=0;nt[t]++}else for(t=0;t<12;t++)nt[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)i+=ot.charAt(nt[t]);return Object(o.d)(20===i.length,"nextPushId: Length should be 20."),i}),st=function(e){if("2147483647"===e)return"-";var t=F(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return T;var o=ot.charAt(ot.indexOf(n[i])+1);return n[i]=o,n.slice(0,i+1).join("")},ut=function(e){if("-2147483648"===e)return O;var t=F(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=ot.charAt(ot.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function ct(e){return{type:"value",snapshotNode:e}}function lt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function ht(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ft(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var dt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){Object(o.d)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(ht(t,s)):Object(o.d)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(lt(t,n)):a.trackChildChange(ft(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Ke,(function(e,r){t.hasChild(e)||n.trackChildChange(ht(e,r))})),t.isLeafNode()||t.forEachChild(Ke,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(ft(t,r,i))}else n.trackChildChange(lt(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?Xe.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),pt=function(){function e(t){this.indexedFilter_=new dt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Ie(t,n))||(n=Xe.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=Xe.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Xe.EMPTY_NODE);var i=this;return t.forEachChild(Ke,(function(e,t){i.matches(new Ie(e,t))||(r=r.updateImmediateChild(e,Xe.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),vt=function(){function e(e){this.rangedFilter_=new pt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Ie(t,n))||(n=Xe.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Xe.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=Xe.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(Xe.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,Xe.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;Object(o.d)(u.numChildren()===this.limit_,"");var c=new Ie(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(ft(t,n,f)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(ht(t,f));var v=u.updateImmediateChild(t,Xe.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(lt(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?e:h&&a(l,c)>=0?(null!=i&&(i.trackChildChange(ht(l.name,l.node)),i.trackChildChange(lt(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,Xe.EMPTY_NODE)):e},e}(),yt=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ke}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return Object(o.d)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return Object(o.d)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:O},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return Object(o.d)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return Object(o.d)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:T},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return Object(o.d)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Ke},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function gt(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function mt(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function _t(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function bt(e,t,n){var r;return e.index_===xe?("string"==typeof t&&(t=st(t)),r=_t(e,t,n)):r=_t(e,t,null==n?T:st(n)),r.startAfterSet_=!0,r}function Ct(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function wt(e,t,n){var r;return e.index_===xe?("string"==typeof t&&(t=ut(t)),r=Ct(e,t,n)):r=Ct(e,t,null==n?O:ut(n)),r.endBeforeSet_=!0,r}function kt(e,t){var n=e.copy();return n.index_=t,n}function Et(e){var t,n={};return e.isDefault()||(e.index_===Ke?t="$priority":e.index_===it?t="$value":e.index_===xe?t="$key":(Object(o.d)(e.index_ instanceof rt,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Object(o.G)(t),e.startSet_&&(n.startAt=Object(o.G)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Object(o.G)(e.indexStartName_))),e.endSet_&&(n.endAt=Object(o.G)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Object(o.G)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}var St=function(e){function t(t,n,r){var i=e.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=C("p:rest:"),i.listens_={},i}return Object(a.c)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(Object(o.d)(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e.path.toString();this.log_("Listen called for "+s+" "+e.queryIdentifier());var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=Et(e.getQueryParams());this.restRequest_(s+".json",l,(function(e,t){var n=t;404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),Object(o.D)(a.listens_,u)===c&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=Et(e.getQueryParams()),r=e.path.toString(),i=new o.a;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;void 0===t&&(t={}),t.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var a=i&&i.accessToken;a&&(t.auth=a);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+Object(o.C)(t);r.log_("Sending REST request for "+s);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+s+" received. status:",u.status,"response:",u.responseText);var e=null;if(u.status>=200&&u.status<300){try{e=Object(o.A)(u.responseText)}catch(t){E("Failed to parse JSON response for "+s+": "+u.responseText)}n(null,e)}else 401!==u.status&&404!==u.status&&E("Got unsuccessful REST response for "+s+" Status: "+u.status),n(u.status);n=null}},u.open("GET",s,!0),u.send()}))},t}(re),Ot=function(){function e(){this.rootNode_=Xe.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function Tt(){return{value:null,children:new Map}}function It(e,t,n){if(ye(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=ue(t);e.children.has(r)||e.children.set(r,Tt()),It(e.children.get(r),t=le(t),n)}}function Dt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Dt(r,new ae(t.toString()+"/"+e),n)}))}var At=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=Object(a.a)({},e);return this.last_&&N(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),xt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new At(e);var n=1e4+2e4*Math.random();L(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;N(t,(function(t,i){i>0&&Object(o.h)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),L(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}(),Pt=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}({});function Nt(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var Rt,jt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Pt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(ye(this.path)){if(null!=this.affectedTree.value)return Object(o.d)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new ae(t));return new e(se(),n,this.revert)}return Object(o.d)(ue(this.path)===t,"operationForChild called for unrelated child."),new e(le(this.path),this.affectedTree,this.revert)},e}(),Ft=function(){function e(e,t){this.source=e,this.path=t,this.type=Pt.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return ye(this.path)?new e(this.source,se()):new e(this.source,le(this.path))},e}(),Mt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Pt.OVERWRITE}return e.prototype.operationForChild=function(t){return ye(this.path)?new e(this.source,se(),this.snap.getImmediateChild(t)):new e(this.source,le(this.path),this.snap)},e}(),Lt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Pt.MERGE}return e.prototype.operationForChild=function(t){if(ye(this.path)){var n=this.children.subtree(new ae(t));return n.isEmpty()?null:n.value?new Mt(this.source,se(),n.value):new e(this.source,se(),n)}return Object(o.d)(ue(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,le(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Vt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(ye(e))return this.isFullyInitialized()&&!this.filtered_;var t=ue(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Ut=function(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()};function Bt(e,t,n,r,i,a){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Object(o.e)("Should only compare child_ events.");var r=new Ie(t.childName,t.snapshotNode),i=new Ie(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function qt(e,t){return{eventCache:e,serverCache:t}}function Ht(e,t,n,r){return qt(new Vt(t,n,r),e.serverCache)}function zt(e,t,n,r){return qt(e.eventCache,new Vt(t,n,r))}function Wt(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Kt(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Gt=function(){function e(e,t){void 0===t&&(Rt||(Rt=new je(D)),t=Rt),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return N(t,(function(e,t){n=n.set(new ae(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:se(),value:this.value};if(ye(e))return null;var n=ue(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(le(e),t);return null!=i?{path:ve(new ae(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(ye(t))return this;var n=ue(t),r=this.children.get(n);return null!==r?r.subtree(le(t)):new e(null)},e.prototype.set=function(t,n){if(ye(t))return new e(n,this.children);var r=ue(t),i=(this.children.get(r)||new e(null)).set(le(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(ye(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ue(t),r=this.children.get(n);if(r){var i=r.remove(le(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(ye(e))return this.value;var t=ue(e),n=this.children.get(t);return n?n.get(le(e)):null},e.prototype.setTree=function(t,n){if(ye(t))return n;var r,i=ue(t),o=(this.children.get(i)||new e(null)).setTree(le(t),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new e(this.value,r)},e.prototype.fold=function(e){return this.fold_(se(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(ve(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,se(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(ye(e))return null;var i=ue(e),o=this.children.get(i);return o?o.findOnPath_(le(e),ve(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,se(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(ye(t))return this;this.value&&r(n,this.value);var i=ue(t),o=this.children.get(i);return o?o.foreachOnPath_(le(t),ve(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(se(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(ve(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),Qt=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new Gt(null))},e}();function Zt(e,t,n){if(ye(t))return new Qt(new Gt(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=ge(i,t);return o=o.updateChild(a,n),new Qt(e.writeTree_.set(i,o))}var s=new Gt(n),u=e.writeTree_.setTree(t,s);return new Qt(u)}function Jt(e,t,n){var r=e;return N(n,(function(e,n){r=Zt(r,ve(t,e),n)})),r}function Yt(e,t){if(ye(t))return Qt.empty();var n=e.writeTree_.setTree(t,new Gt(null));return new Qt(n)}function Xt(e,t){return null!=$t(e,t)}function $t(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(ge(n.path,t)):null}function en(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ke,(function(e,n){t.push(new Ie(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Ie(e,n.value))})),t}function tn(e,t){if(ye(t))return e;var n=$t(e,t);return new Qt(null!=n?new Gt(n):e.writeTree_.subtree(t))}function nn(e){return e.writeTree_.isEmpty()}function rn(e,t){return function e(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);var i=null;return n.children.inorderTraversal((function(n,a){".priority"===n?(Object(o.d)(null!==a.value,"Priority writes must always be leaf nodes"),i=a.value):r=e(ve(t,n),a,r)})),r.getChild(t).isEmpty()||null===i||(r=r.updateChild(ve(t,".priority"),i)),r}(se(),e.writeTree_,t)}function on(e,t){return yn(t,e)}function an(e,t){if(e.snap)return be(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&be(ve(e.path,n),t))return!0;return!1}function sn(e){return e.visible}function un(e,t,n){for(var r=Qt.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,u=void 0;if(a.snap)be(n,s)?r=Zt(r,u=ge(n,s),a.snap):be(s,n)&&(u=ge(s,n),r=Zt(r,se(),a.snap.getChild(u)));else{if(!a.children)throw Object(o.e)("WriteRecord should have .snap or .children");if(be(n,s))r=Jt(r,u=ge(n,s),a.children);else if(be(s,n))if(ye(u=ge(s,n)))r=Jt(r,se(),a.children);else{var c=Object(o.D)(a.children,ue(u));if(c){var l=c.getChild(le(u));r=Zt(r,se(),l)}}}}}return r}function cn(e,t,n,r,i){if(r||i){var o=tn(e.visibleWrites,t);return!i&&nn(o)?n:i||null!=n||Xt(o,se())?rn(un(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(be(e.path,t)||be(t,e.path))}),t),n||Xe.EMPTY_NODE):null}var a=$t(e.visibleWrites,t);if(null!=a)return a;var s=tn(e.visibleWrites,t);return nn(s)?n:null!=n||Xt(s,se())?rn(s,n||Xe.EMPTY_NODE):null}function ln(e,t,n,r){return cn(e.writeTree,e.treePath,t,n,r)}function hn(e,t){return function(e,t,n){var r=Xe.EMPTY_NODE,i=$t(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ke,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=tn(e.visibleWrites,t);return n.forEachChild(Ke,(function(e,t){var n=rn(tn(o,new ae(e)),t);r=r.updateImmediateChild(e,n)})),en(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return en(tn(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function fn(e,t,n,r){return function(e,t,n,r,i){Object(o.d)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=ve(t,n);if(Xt(e.visibleWrites,a))return null;var s=tn(e.visibleWrites,a);return nn(s)?i.getChild(n):rn(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function dn(e,t){return function(e,t){return $t(e.visibleWrites,t)}(e.writeTree,ve(e.treePath,t))}function pn(e,t,n){return function(e,t,n,r){var i=ve(t,n),o=$t(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?rn(tn(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function vn(e,t){return yn(ve(e.treePath,t),e.writeTree)}function yn(e,t){return{treePath:e,writeTree:t}}var gn=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;Object(o.d)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Object(o.d)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,ft(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,ht(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,lt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Object(o.e)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,ft(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),mn=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),_n=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Vt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return pn(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Kt(this.viewCache_),i=function(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=tn(e.visibleWrites,t),c=$t(u,se());if(null!=c)s=c;else{if(null==n)return[];s=rn(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=f.getNext();d&&l.length<1;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(e.writeTree,e.treePath,t,n,0,i,o)}(this.writes_,r,t,0,n,e);return 0===i.length?null:i[0]},e}();function bn(e,t,n,r,i,a){var s=t.eventCache;if(null!=dn(r,n))return t;var u=void 0,c=void 0;if(ye(n))if(Object(o.d)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=Kt(t),h=hn(r,l instanceof Xe?l:Xe.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=ln(r,Kt(t));u=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var d=ue(n);if(".priority"===d){Object(o.d)(1===ce(n),"Can't have a priority with additional path components");var p=s.getNode(),v=fn(r,n,p,c=t.serverCache.getNode());u=null!=v?e.filter.updatePriority(p,v):s.getNode()}else{var y=le(n),g=void 0;if(s.isCompleteForChild(d)){c=t.serverCache.getNode();var m=fn(r,n,s.getNode(),c);g=null!=m?s.getNode().getImmediateChild(d).updateChild(y,m):s.getNode().getImmediateChild(d)}else g=pn(r,d,t.serverCache);u=null!=g?e.filter.updateChild(s.getNode(),d,g,y,i,a):s.getNode()}}return Ht(t,u,s.isFullyInitialized()||ye(n),e.filter.filtersNodes())}function Cn(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(ye(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=ue(n);if(!c.isCompleteForPath(n)&&ce(n)>1)return t;var d=le(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,mn,null)}var v=zt(t,u,c.isFullyInitialized()||ye(n),l.filtersNodes());return bn(e,v,n,i,new _n(i,v,o),s)}function wn(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new _n(i,t,o);if(ye(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=Ht(t,u,!0,e.filter.filtersNodes());else{var h=ue(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Ht(t,u,c.isFullyInitialized(),c.isFiltered());else{var f=le(n),d=c.getNode().getImmediateChild(h),p=void 0;if(ye(f))p=r;else{var v=l.getCompleteChild(h);p=null!=v?".priority"===he(f)&&v.getChild(pe(f)).isEmpty()?v:v.updateChild(f,r):Xe.EMPTY_NODE}s=d.equals(p)?t:Ht(t,e.filter.updateChild(c.getNode(),h,p,f,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function kn(e,t){return e.eventCache.isCompleteForChild(t)}function En(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Sn(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=ye(n)?r:new Gt(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=En(0,t.serverCache.getNode().getImmediateChild(n),r);c=Cn(e,c,new ae(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=En(0,t.serverCache.getNode().getImmediateChild(n),r);c=Cn(e,c,new ae(n),h,i,o,a,s)}})),c}var On,Tn=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_.getQueryParams(),i=new dt(r.getIndex()),o=(n=r).loadsAllData()?new dt(n.getIndex()):n.hasLimit()?new vt(n):new pt(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(Xe.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(Xe.EMPTY_NODE,s.getNode(),null),l=new Vt(u,a.isFullyInitialized(),i.filtersNodes()),h=new Vt(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=qt(h,l),this.eventGenerator_=new Ut(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function In(e,t){var n=Kt(e.viewCache_);return n&&(e.query.getQueryParams().loadsAllData()||!ye(t)&&!n.getImmediateChild(ue(t)).isEmpty())?n.getChild(t):null}function Dn(e){return 0===e.eventRegistrations_.length}function An(e,t,n){var r=[];if(n){Object(o.d)(null==t,"A cancel should cancel all event registrations.");var i=e.query.path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function xn(e,t,n,r){t.type===Pt.MERGE&&null!==t.source.queryId&&(Object(o.d)(Kt(e.viewCache_),"We should always have a full cache before handling merges"),Object(o.d)(Wt(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=e.viewCache_,u=function(e,t,n,r,i){var a,s,u=new gn;if(n.type===Pt.OVERWRITE){var c=n;c.source.fromUser?a=wn(e,t,c.path,c.snap,r,i,u):(Object(o.d)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!ye(c.path),a=Cn(e,t,c.path,c.snap,r,i,s,u))}else if(n.type===Pt.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=ve(n,r);kn(t,ue(c))&&(s=wn(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=ve(n,r);kn(t,ue(c))||(s=wn(e,s,c,u,i,o,a))})),s}(e,t,l.path,l.children,r,i,u):(Object(o.d)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=Sn(e,t,l.path,l.children,r,i,s,u))}else if(n.type===Pt.ACK_USER_WRITE){var h=n;a=h.revert?function(e,t,n,r,i,a){var s;if(null!=dn(r,n))return t;var u=new _n(r,t,i),c=t.eventCache.getNode(),l=void 0;if(ye(n)||".priority"===ue(n)){var h=void 0;if(t.serverCache.isFullyInitialized())h=ln(r,Kt(t));else{var f=t.serverCache.getNode();Object(o.d)(f instanceof Xe,"serverChildren would be complete if leaf node"),h=hn(r,f)}l=e.filter.updateFullNode(c,h=h,a)}else{var d=ue(n),p=pn(r,d,t.serverCache);null==p&&t.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?e.filter.updateChild(c,d,p,le(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(c,d,Xe.EMPTY_NODE,le(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=ln(r,Kt(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,a))}return s=t.serverCache.isFullyInitialized()||null!=dn(r,se()),Ht(t,l,s,e.filter.filtersNodes())}(e,t,h.path,r,i,u):function(e,t,n,r,i,o,a){if(null!=dn(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(ye(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Cn(e,t,n,u.getNode().getChild(n),i,o,s,a);if(ye(n)){var c=new Gt(null);return u.getNode().forEachChild(xe,(function(e,t){c=c.set(new ae(e),t)})),Sn(e,t,n,c,i,o,s,a)}return t}var l=new Gt(null);return r.foreach((function(e,t){var r=ve(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Sn(e,t,n,l,i,o,s,a)}(e,t,h.path,h.affectedTree,r,i,u)}else{if(n.type!==Pt.LISTEN_COMPLETE)throw Object(o.e)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache;return bn(e,zt(t,o.getNode(),o.isFullyInitialized()||ye(n),o.isFiltered()),n,r,mn,i)}(e,t,n.path,r,u)}var f=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Wt(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ct(Wt(t)))}}(t,a,f),{viewCache:a,changes:f}}(e.processor_,s,t,n,r);return i=e.processor_,a=u.viewCache,Object(o.d)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Object(o.d)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Object(o.d)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,Pn(e,u.changes,u.viewCache.eventCache.getNode(),null)}function Pn(e,t,n,r){return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push({type:"child_moved",snapshotNode:t.snapshotNode,childName:t.childName})})),Bt(e,i,"child_removed",t,r,n),Bt(e,i,"child_added",t,r,n),Bt(e,i,"child_moved",o,r,n),Bt(e,i,"child_changed",t,r,n),Bt(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,r?[r]:e.eventRegistrations_)}var Nn=function(){this.views=new Map};function Rn(e,t,n,r){var i,s,u=t.source.queryId;if(null!==u){var c=e.views.get(u);return Object(o.d)(null!=c,"SyncTree gave us an op for an invalid query."),xn(c,t,n,r)}var l=[];try{for(var h=Object(a.g)(e.views.values()),f=h.next();!f.done;f=h.next())l=l.concat(xn(c=f.value,t,n,r))}catch(d){i={error:d}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return l}function jn(e,t,n,r,i){var o=t.queryIdentifier(),a=e.views.get(o);if(!a){var s=ln(n,i?r:null),u=!1;s?u=!0:r instanceof Xe?(s=hn(n,r),u=!1):(s=Xe.EMPTY_NODE,u=!1);var c=qt(new Vt(s,u,!1),new Vt(r,i,!1));return new Tn(t,c)}return a}function Fn(e){var t,n,r=[];try{for(var i=Object(a.g)(e.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query.getQueryParams().loadsAllData()||r.push(s)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Mn(e,t){var n,r,i=null;try{for(var o=Object(a.g)(e.views.values()),s=o.next();!s.done;s=o.next())i=i||In(s.value,t)}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Ln(e,t){if(t.getQueryParams().loadsAllData())return Bn(e);var n=t.queryIdentifier();return e.views.get(n)}function Vn(e,t){return null!=Ln(e,t)}function Un(e){return null!=Bn(e)}function Bn(e){var t,n;try{for(var r=Object(a.g)(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query.getQueryParams().loadsAllData())return o}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var qn=1,Hn=function(e){this.listenProvider_=e,this.syncPointTree_=new Gt(null),this.pendingWriteTree_={visibleWrites:Qt.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function zn(e,t,n,r,i){return function(e,t,n,r,i){Object(o.d)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Zt(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Jn(e,new Mt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Wn(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Object(o.d)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=e.allWrites.length-1;i&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&an(u,r.path)?i=!1:be(r.path,u.path)&&(a=!0)),s--}return!!i&&(a?(function(e){e.visibleWrites=un(e.allWrites,sn,se()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(r.snap?e.visibleWrites=Yt(e.visibleWrites,r.path):N(r.children,(function(t){e.visibleWrites=Yt(e.visibleWrites,ve(r.path,t))})),!0))}(e.pendingWriteTree_,t)){var i=new Gt(null);return null!=r.snap?i=i.set(se(),!0):N(r.children,(function(e){i=i.set(new ae(e),!0)})),Jn(e,new jt(r.path,i,n))}return[]}function Kn(e,t,n){return Jn(e,new Mt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Gn(e,t,n,r){var i=t.path,s=e.syncPointTree_.get(i),u=[];if(s&&("default"===t.queryIdentifier()||Vn(s,t))){var c=function(e,t,n,r){var i,s,u=t.queryIdentifier(),c=[],l=[],h=Un(e);if("default"===u)try{for(var f=Object(a.g)(e.views.entries()),d=f.next();!d.done;d=f.next()){var p,v=Object(a.e)(d.value,2),y=v[0];l=l.concat(An(p=v[1],n,r)),Dn(p)&&(e.views.delete(y),p.query.getQueryParams().loadsAllData()||c.push(p.query))}}catch(g){i={error:g}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}else(p=e.views.get(u))&&(l=l.concat(An(p,n,r)),Dn(p)&&(e.views.delete(u),p.query.getQueryParams().loadsAllData()||c.push(p.query)));return h&&!Un(e)&&c.push(new(Object(o.d)(On,"Reference.ts has not been loaded"),On)(t.database,t.path)),{removed:c,events:l}}(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var l=c.removed;u=c.events;var h=-1!==l.findIndex((function(e){return e.getQueryParams().loadsAllData()})),f=e.syncPointTree_.findOnPath(i,(function(e,t){return Un(t)}));if(h&&!f){var d=e.syncPointTree_.subtree(i);if(!d.isEmpty())for(var p=function(e){return e.fold((function(e,t,n){if(t&&Un(t))return[Bn(t)];var r=[];return t&&(r=Fn(t)),N(n,(function(e,t){r=r.concat(t)})),r}))}(d),v=0;v<p.length;++v){var y=p[v],g=y.query,m=Yn(e,y);e.listenProvider_.startListening(rr(g),Xn(e,g),m.hashFn,m.onComplete)}}!f&&l.length>0&&!r&&(h?e.listenProvider_.stopListening(rr(t),null):l.forEach((function(t){var n=e.queryToTagMap.get($n(t));e.listenProvider_.stopListening(rr(t),n)}))),function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r.getQueryParams().loadsAllData()){var i=$n(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,l)}return u}function Qn(e,t,n){var r=t.path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=ge(e,r);i=i||Mn(t,n),a=a||Un(t)}));var s,u=e.syncPointTree_.get(r);u?(a=a||Un(u),i=i||Mn(u,se())):(u=new Nn,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i?s=!0:(s=!1,i=Xe.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=Mn(t,se());n&&(i=i.updateImmediateChild(e,n))})));var c=Vn(u,t);if(!c&&!t.getQueryParams().loadsAllData()){var l=$n(t);Object(o.d)(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=qn++;e.queryToTagMap.set(l,h),e.tagToQueryMap.set(h,l)}var f=function(e,t,n,r,i,o){var a=jn(e,t,r,i,o);return e.views.has(t.queryIdentifier())||e.views.set(t.queryIdentifier(),a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ke,(function(e,t){r.push(lt(e,t))})),n.isFullyInitialized()&&r.push(ct(n.getNode())),Pn(e,r,n.getNode(),t)}(a,n)}(u,t,n,on(e.pendingWriteTree_,r),i,s);if(!c&&!a){var d=Ln(u,t);f=f.concat(function(e,t,n){var r=t.path,i=Xn(e,t),a=Yn(e,n),s=e.listenProvider_.startListening(rr(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)Object(o.d)(!Un(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!ye(e)&&t&&Un(t))return[Bn(t).query];var r=[];return t&&(r=r.concat(Fn(t).map((function(e){return e.query})))),N(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var h=c[l];e.listenProvider_.stopListening(rr(h),Xn(e,h))}return s}(e,t,d))}return f}function Zn(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Mn(n,ge(e,t));if(r)return r}));return cn(r,t,i,n,!0)}function Jn(e,t){return function e(t,n,r,i){if(ye(t.path))return function e(t,n,r,i){var o=n.get(se());null==r&&null!=o&&(r=Mn(o,se()));var a=[];return n.children.inorderTraversal((function(n,o){var s=r?r.getImmediateChild(n):null,u=vn(i,n),c=t.operationForChild(n);c&&(a=a.concat(e(c,o,s,u)))})),o&&(a=a.concat(Rn(o,t,i,r))),a}(t,n,r,i);var o=n.get(se());null==r&&null!=o&&(r=Mn(o,se()));var a=[],s=ue(t.path),u=t.operationForChild(s),c=n.children.get(s);if(c&&u){var l=r?r.getImmediateChild(s):null,h=vn(i,s);a=a.concat(e(u,c,l,h))}return o&&(a=a.concat(Rn(o,t,i,r))),a}(t,e.syncPointTree_,null,on(e.pendingWriteTree_,se()))}function Yn(e,t){var n=t.query,r=Xn(e,n);return{hashFn:function(){return(function(e){return e.viewCache_.serverCache.getNode()}(t)||Xe.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=er(e,n);if(r){var i=tr(r),o=i.path,a=i.queryId,s=ge(o,t);return nr(e,o,new Ft(Nt(a),s))}return[]}(e,n.path,r):function(e,t){return Jn(e,new Ft({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n.path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t.path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Gn(e,n,null,i)}}}function Xn(e,t){var n=$n(t);return e.queryToTagMap.get(n)}function $n(e){return e.path.toString()+"$"+e.queryIdentifier()}function er(e,t){return e.tagToQueryMap.get(t)}function tr(e){var t=e.indexOf("$");return Object(o.d)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ae(e.substr(0,t))}}function nr(e,t,n){var r=e.syncPointTree_.get(t);return Object(o.d)(r,"Missing sync point for query tag that we're tracking"),Rn(r,n,on(e.pendingWriteTree_,t),null)}function rr(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e}var ir=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),or=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=ve(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return Zn(this.syncTree_,this.path_)},e}(),ar=function(e,t,n){return e&&"object"==typeof e?(Object(o.d)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?sr(e[".sv"],t,n):"object"==typeof e[".sv"]?ur(e[".sv"],t):void Object(o.d)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},sr=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Object(o.d)(!1,"Unexpected server value: "+e)}},ur=function(e,t,n){e.hasOwnProperty("increment")||Object(o.d)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&Object(o.d)(!1,"Unexpected increment value: "+r);var i=t.node();if(Object(o.d)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!=typeof a?r:a+r},cr=function(e,t,n,r){return hr(t,new or(n,e),r)},lr=function(e,t,n){return hr(e,new ir(t),n)};function hr(e,t,n){var r,i=e.getPriority().val(),o=ar(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=ar(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new We(s,et(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new We(o))),u.forEachChild(Ke,(function(e,i){var o=hr(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var fr=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function dr(e,t){for(var n=t instanceof ae?t:new ae(t),r=e,i=ue(n);null!==i;){var a=Object(o.D)(r.node.children,i)||{children:{},childCount:0};r=new fr(i,r,a),i=ue(n=le(n))}return r}function pr(e){return e.node.value}function vr(e,t){e.node.value=t,function e(t){null!==t.parent&&function(t,n,r){var i=function(e){return void 0===pr(e)&&!yr(e)}(r),a=Object(o.h)(t.node.children,n);i&&a?(delete t.node.children[n],t.node.childCount--,e(t)):i||a||(t.node.children[n]=r.node,t.node.childCount++,e(t))}(t.parent,t.name,t)}(e)}function yr(e){return e.node.childCount>0}function gr(e,t){N(e.node.children,(function(n,r){t(new fr(n,e,r))}))}function mr(e){return new ae(null===e.parent?e.name:mr(e.parent)+"/"+e.name)}var _r=/[\[\].#$\/\u0000-\u001F\u007F]/,br=/[\[\].#$\u0000-\u001F\u007F]/,Cr=function(e){return"string"==typeof e&&0!==e.length&&!_r.test(e)},wr=function(e){return"string"==typeof e&&0!==e.length&&!br.test(e)},kr=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!S(e)||e&&"object"==typeof e&&Object(o.h)(e,".sv")},Er=function(e,t,n,r,i){i&&void 0===n||Sr(Object(o.l)(e,t,i),n,r)},Sr=function e(t,n,r){var i=r instanceof ae?new Ce(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+ke(i));if("function"==typeof n)throw new Error(t+"contains a function "+ke(i)+" with contents = "+n.toString());if(S(n))throw new Error(t+"contains "+n.toString()+" "+ke(i));if("string"==typeof n&&n.length>10485760/3&&Object(o.E)(n)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+ke(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var a=!1,s=!1;if(N(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!Cr(n)))throw new Error(t+" contains an invalid key ("+n+") "+ke(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var u,c;c=n,(u=i).parts_.length>0&&(u.byteLength_+=1),u.parts_.push(c),u.byteLength_+=Object(o.E)(c),we(u),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Object(o.E)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&s)throw new Error(t+' contains ".value" child '+ke(i)+" in addition to actual children.")}},Or=function(e,t,n,r,i){if(!i||void 0!==n){var a=Object(o.l)(e,t,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(a+" must be an object containing the children to replace.");var s=[];N(n,(function(e,t){var n=new ae(e);if(Sr(a,t,ve(r,n)),".priority"===he(n)&&!kr(t))throw new Error(a+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=de(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Cr(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(me);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&be(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(a,s)}},Tr=function(e,t,n,r){if(!r||void 0!==n){if(S(n))throw new Error(Object(o.l)(e,t,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!kr(n))throw new Error(Object(o.l)(e,t,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ir=function(e,t,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(o.l)(e,t,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Dr=function(e,t,n,r){if(!(r&&void 0===n||Cr(n)))throw new Error(Object(o.l)(e,t,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ar=function(e,t,n,r){if(!(r&&void 0===n||wr(n)))throw new Error(Object(o.l)(e,t,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},xr=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ar(e,t,n,r)},Pr=function(e,t){if(".info"===ue(t))throw new Error(e+" failed = Can't modify data under /.info/")},Nr=function(e,t,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!Cr(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),wr(e)}(r))throw new Error(Object(o.l)(e,t,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Rr=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(o.l)(e,t,r)+"must be a boolean.")},jr=function(){this.eventLists_=[],this.recursionDepth_=0};function Fr(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||_e(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Mr(e,t,n){Fr(e,n),Vr(e,(function(e){return _e(e,t)}))}function Lr(e,t,n){Fr(e,n),Vr(e,(function(e){return be(e,t)||be(t,e)}))}function Vr(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];i&&(t(i.path)?(Ur(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function Ur(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();g&&b("event: "+n.toString()),M(r)}}}var Br=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.app=n,this.authTokenProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Tt(),this.transactionQueueTree_=new fr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function qr(e){var t=e.infoData_.getNode(new ae(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Hr(e){return(t=(t={timestamp:qr(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function zr(e,t,n,r,i){e.dataUpdateCount++;var a=new ae(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var u=Object(o.B)(n,(function(e){return et(e)}));s=function(e,t,n,r){var i=er(e,r);if(i){var o=tr(i),a=o.path,s=o.queryId,u=ge(a,t),c=Gt.fromObject(n);return nr(e,a,new Lt(Nt(s),u,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var c=et(n);s=function(e,t,n,r){var i=er(e,r);if(null!=i){var o=tr(i),a=o.path,s=o.queryId,u=ge(a,t);return nr(e,a,new Mt(Nt(s),u,n))}return[]}(e.serverSyncTree_,a,c,i)}else if(r){var l=Object(o.B)(n,(function(e){return et(e)}));s=function(e,t,n){var r=Gt.fromObject(n);return Jn(e,new Lt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var h=et(n);s=Kn(e.serverSyncTree_,a,h)}var f=a;s.length>0&&(f=ci(e,a)),Lr(e.eventQueue_,f,s)}function Wr(e,t){Kr(e,"connected",t),!1===t&&function(e){ii(e,"onDisconnectEvents");var t=Hr(e),n=Tt();Dt(e.onDisconnect_,se(),(function(r,i){var o=cr(r,i,e.serverSyncTree_,t);It(n,r,o)}));var r=[];Dt(n,se(),(function(t,n){r=r.concat(Kn(e.serverSyncTree_,t,n));var i=di(e,t);ci(e,i)})),e.onDisconnect_=Tt(),Lr(e.eventQueue_,se(),r)}(e)}function Kr(e,t,n){var r=new ae("/.info/"+t),i=et(n);e.infoData_.updateSnapshot(r,i);var o=Kn(e.infoSyncTree_,r,i);Lr(e.eventQueue_,r,o)}function Gr(e){return e.nextWriteId_++}function Qr(e,t,n,r,i){ii(e,"set",{path:t.toString(),value:n,priority:r});var o=Hr(e),a=et(n,r),s=Zn(e.serverSyncTree_,t),u=lr(a,s,o),c=Gr(e),l=zn(e.serverSyncTree_,t,u,c,!0);Fr(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||E("set at "+t+" failed: "+n);var a=Wn(e.serverSyncTree_,c,!o);Lr(e.eventQueue_,t,a),oi(0,i,n,r)}));var h=di(e,t);ci(e,h),Lr(e.eventQueue_,h,[])}function Zr(e,t,n,r){ii(e,"update",{path:t.toString(),value:n});var i=!0,a=Hr(e),s={};if(N(n,(function(n,r){i=!1,s[n]=cr(ve(t,n),et(r),e.serverSyncTree_,a)})),i)b("update() called with empty data.  Don't do anything."),oi(0,r,"ok",void 0);else{var u=Gr(e),c=function(e,t,n,r){!function(e,t,n,r){Object(o.d)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Jt(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=Gt.fromObject(n);return Jn(e,new Lt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,t,s,u);Fr(e.eventQueue_,c),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||E("update at "+t+" failed: "+n);var a=Wn(e.serverSyncTree_,u,!o),s=a.length>0?ci(e,t):t;Lr(e.eventQueue_,s,a),oi(0,r,n,i)})),N(n,(function(n){var r=di(e,ve(t,n));ci(e,r)})),Lr(e.eventQueue_,t,[])}}function Jr(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&function e(t,n){if(ye(n))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var r=t.value;return t.value=null,r.forEachChild(Ke,(function(e,n){It(t,new ae(e),n)})),e(t,n)}if(t.children.size>0){var i=ue(n);return n=le(n),t.children.has(i)&&e(t.children.get(i),n)&&t.children.delete(i),0===t.children.size}return!0}(e.onDisconnect_,t),oi(0,n,r,i)}))}function Yr(e,t,n,r){var i=et(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&It(e.onDisconnect_,t,i),oi(0,r,n,o)}))}function Xr(e,t,n,r,i){var o=et(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&It(e.onDisconnect_,t,o),oi(0,i,n,r)}))}function $r(e,t,n,r){if(Object(o.s)(n))return b("onDisconnect().update() called with empty data.  Don't do anything."),void oi(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&N(n,(function(n,r){var i=et(r);It(e.onDisconnect_,ve(t,n),i)})),oi(0,r,i,o)}))}function ei(e,t,n){var r;r=".info"===ue(t.path)?Qn(e.infoSyncTree_,t,n):Qn(e.serverSyncTree_,t,n),Mr(e.eventQueue_,t.path,r)}function ti(e,t,n){var r;r=".info"===ue(t.path)?Gn(e.infoSyncTree_,t,n):Gn(e.serverSyncTree_,t,n),Mr(e.eventQueue_,t.path,r)}function ni(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}function ri(e){e.persistentConnection_&&e.persistentConnection_.resume("repo_interrupt")}function ii(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),b.apply(void 0,Object(a.f)([r],Object(a.e)(t)))}function oi(e,t,n,r){t&&M((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function ai(e,t,n,r,i,a){ii(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:p(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=si(e,t,void 0);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Sr("transaction failed: Data returned ",c,s.path),s.status=0;var l=dr(e.transactionQueueTree_,t),h=pr(l)||[];h.push(s),vr(l,h);var f=void 0;"object"==typeof c&&null!==c&&Object(o.h)(c,".priority")?(f=Object(o.D)(c,".priority"),Object(o.d)(kr(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(Zn(e.serverSyncTree_,t)||Xe.EMPTY_NODE).getPriority().val();var d=Hr(e),v=et(c,f),y=lr(v,u,d);s.currentOutputSnapshotRaw=v,s.currentOutputSnapshotResolved=y,s.currentWriteId=Gr(e);var g=zn(e.serverSyncTree_,t,y,s.currentWriteId,s.applyLocally);Lr(e.eventQueue_,t,g),ui(e,e.transactionQueueTree_)}}function si(e,t,n){return Zn(e.serverSyncTree_,t,n)||Xe.EMPTY_NODE}function ui(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||fi(e,t),pr(t)){var n=hi(e,t);Object(o.d)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=si(e,t,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];Object(o.d)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=ge(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),f=t;e.server_.put(f.toString(),h,(function(r){ii(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(Wn(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);for(fi(e,dr(e.transactionQueueTree_,t)),ui(e,e.transactionQueueTree_),Lr(e.eventQueue_,t,i),s=0;s<o.length;s++)M(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)n[s].status=3===n[s].status?4:0;else for(E("transaction at "+f.toString()+" failed: "+r),s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r;ci(e,t)}}),s)}(e,mr(t),n)}else yr(t)&&gr(t,(function(t){ui(e,t)}))}function ci(e,t){var n=li(e,t),r=mr(n);return function(e,t,n){if(0!==t.length){for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var u,c=t[s],l=ge(n,c.path),h=!1;if(Object(o.d)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,u=c.abortReason,i=i.concat(Wn(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=25)h=!0,u="maxretry",i=i.concat(Wn(e.serverSyncTree_,c.currentWriteId,!0));else{var f=si(e,c.path,a);c.currentInputSnapshot=f;var d=t[s].update(f.val());if(void 0!==d){Sr("transaction failed: Data returned ",d,c.path);var p=et(d);"object"==typeof d&&null!=d&&Object(o.h)(d,".priority")||(p=p.updatePriority(f.getPriority()));var v=c.currentWriteId,y=Hr(e),g=lr(p,f,y);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=g,c.currentWriteId=Gr(e),a.splice(a.indexOf(v),1),i=(i=i.concat(zn(e.serverSyncTree_,c.path,g,c.currentWriteId,c.applyLocally))).concat(Wn(e.serverSyncTree_,v,!0))}else h=!0,u="nodata",i=i.concat(Wn(e.serverSyncTree_,c.currentWriteId,!0))}Lr(e.eventQueue_,n,i),i=[],h&&(t[s].status=2,setTimeout(t[s].unwatcher,Math.floor(0)),t[s].onComplete&&r.push("nodata"===u?function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)}:function(){return t[s].onComplete(new Error(u),!1,null)}))},u=0;u<t.length;u++)s(u);for(fi(e,e.transactionQueueTree_),u=0;u<r.length;u++)M(r[u]);ui(e,e.transactionQueueTree_)}}(e,hi(e,n),r),r}function li(e,t){var n,r=e.transactionQueueTree_;for(n=ue(t);null!==n&&void 0===pr(r);)r=dr(r,n),n=ue(t=le(t));return r}function hi(e,t){var n=[];return function e(t,n,r){var i=pr(n);if(i)for(var o=0;o<i.length;o++)r.push(i[o]);gr(n,(function(n){e(t,n,r)}))}(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function fi(e,t){var n=pr(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,vr(t,n.length>0?n:void 0)}gr(t,(function(t){fi(e,t)}))}function di(e,t){var n=mr(li(e,t)),r=dr(e.transactionQueueTree_,t);return function(e,t,n){for(var r=e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){pi(e,t)})),pi(e,r),function e(t,n,r,i){r&&!i&&n(t),gr(t,(function(t){e(t,n,!0,i)})),r&&i&&n(t)}(r,(function(t){pi(e,t)})),n}function pi(e,t){var n=pr(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(Object(o.d)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):(Object(o.d)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Wn(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));for(-1===a?vr(t,void 0):n.length=a+1,Lr(e.eventQueue_,mr(t),i),s=0;s<r.length;s++)M(r[s])}}var vi,yi=function(e,t){var n=gi(e),r=n.namespace;return"firebase.com"===n.domain&&k(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||k("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&E("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new q(n.host,n.secure,r,t,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new ae(n.pathString)}},gi=function(e){var t="",n="",r="",i="",o="",s=!0,u="https",c=443;if("string"==typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var h=e.indexOf("/");-1===h&&(h=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(h,f)),h<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(h,f)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=Object(a.g)(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):E("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,f)));(l=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(t.substring(l+1),10)):l=t.length;var p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},mi=function(){function e(e,t,n){this.node_=e,this.ref_=t,this.index_=n}return e.prototype.val=function(){return Object(o.H)("DataSnapshot.val",0,0,arguments.length),this.node_.val()},e.prototype.exportVal=function(){return Object(o.H)("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},e.prototype.toJSON=function(){return Object(o.H)("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},e.prototype.exists=function(){return Object(o.H)("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},e.prototype.child=function(t){Object(o.H)("DataSnapshot.child",0,1,arguments.length),t=String(t),Ar("DataSnapshot.child",1,t,!1);var n=new ae(t),r=this.ref_.child(n);return new e(this.node_.getChild(n),r,Ke)},e.prototype.hasChild=function(e){Object(o.H)("DataSnapshot.hasChild",1,1,arguments.length),Ar("DataSnapshot.hasChild",1,e,!1);var t=new ae(e);return!this.node_.getChild(t).isEmpty()},e.prototype.getPriority=function(){return Object(o.H)("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},e.prototype.forEach=function(t){var n=this;if(Object(o.H)("DataSnapshot.forEach",1,1,arguments.length),Object(o.I)("DataSnapshot.forEach",1,t,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return t(new e(i,n.ref_.child(r),Ke))}))},e.prototype.hasChildren=function(){return Object(o.H)("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(e.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return Object(o.H)("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},e.prototype.getRef=function(){return Object(o.H)("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),_i=function(){function e(e,t){this.repo_=e,this.path_=t}return e.prototype.cancel=function(e){Object(o.H)("OnDisconnect.cancel",0,1,arguments.length),Object(o.I)("OnDisconnect.cancel",1,e,!0);var t=new o.a;return Jr(this.repo_,this.path_,t.wrapCallback(e)),t.promise},e.prototype.remove=function(e){Object(o.H)("OnDisconnect.remove",0,1,arguments.length),Pr("OnDisconnect.remove",this.path_),Object(o.I)("OnDisconnect.remove",1,e,!0);var t=new o.a;return Yr(this.repo_,this.path_,null,t.wrapCallback(e)),t.promise},e.prototype.set=function(e,t){Object(o.H)("OnDisconnect.set",1,2,arguments.length),Pr("OnDisconnect.set",this.path_),Er("OnDisconnect.set",1,e,this.path_,!1),Object(o.I)("OnDisconnect.set",2,t,!0);var n=new o.a;return Yr(this.repo_,this.path_,e,n.wrapCallback(t)),n.promise},e.prototype.setWithPriority=function(e,t,n){Object(o.H)("OnDisconnect.setWithPriority",2,3,arguments.length),Pr("OnDisconnect.setWithPriority",this.path_),Er("OnDisconnect.setWithPriority",1,e,this.path_,!1),Tr("OnDisconnect.setWithPriority",2,t,!1),Object(o.I)("OnDisconnect.setWithPriority",3,n,!0);var r=new o.a;return Xr(this.repo_,this.path_,e,t,r.wrapCallback(n)),r.promise},e.prototype.update=function(e,t){if(Object(o.H)("OnDisconnect.update",1,2,arguments.length),Pr("OnDisconnect.update",this.path_),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,E("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Or("OnDisconnect.update",1,e,this.path_,!1),Object(o.I)("OnDisconnect.update",2,t,!0);var i=new o.a;return $r(this.repo_,this.path_,e,i.wrapCallback(t)),i.promise},e}(),bi=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.getRef();return"value"===this.eventType?e.path:e.getParent().path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(o.G)(this.snapshot.exportVal())},e}(),Ci=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),wi=function(){function e(e,t,n){this.callback_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t.getQueryParams().getIndex();return new bi("value",this,new mi(e.snapshotNode,t.getRef(),n))},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){Object(o.d)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callback_;return function(){r.call(t,e.snapshot)}},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new Ci(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},e.prototype.hasAnyCallback=function(){return null!==this.callback_},e}(),ki=function(){function e(e,t,n){this.callbacks_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,Object(o.h)(this.callbacks_,t)},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new Ci(this,e,t):null},e.prototype.createEvent=function(e,t){Object(o.d)(null!=e.childName,"Child events should have a childName.");var n=t.getRef().child(e.childName),r=t.getQueryParams().getIndex();return new bi(e.type,this,new mi(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){Object(o.d)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callbacks_[e.eventType];return function(){r.call(t,e.snapshot,e.prevName)}},e.prototype.matches=function(t){var n=this;if(t instanceof e){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var r=Object.keys(t.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var a=r[0],s=i[0];return!(s!==a||t.callbacks_[a]&&this.callbacks_[s]&&t.callbacks_[a]!==this.callbacks_[s])}return i.every((function(e){return t.callbacks_[e]===n.callbacks_[e]}))}}}return!1},e.prototype.hasAnyCallback=function(){return null!==this.callbacks_},e}(),Ei=function(){function e(e,t,n,r){this.database=e,this.path=t,this.queryParams_=n,this.orderByCalled_=r,this.repo=e.repo_}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return Object(o.d)(vi,"Reference.ts has not been loaded"),vi},set:function(e){vi=e},enumerable:!1,configurable:!0}),e.validateQueryEndpoints_=function(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===xe){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==O)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==T)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===Ke){if(null!=t&&!kr(t)||null!=n&&!kr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(o.d)(e.getIndex()instanceof rt||e.getIndex()===it,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")},e.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")},e.prototype.validateNoPreviousOrderByCall_=function(e){if(!0===this.orderByCalled_)throw new Error(e+": You can't combine multiple orderBy calls.")},e.prototype.getQueryParams=function(){return this.queryParams_},e.prototype.getRef=function(){return Object(o.H)("Query.ref",0,0,arguments.length),new e.__referenceConstructor(this.database,this.path)},e.prototype.on=function(t,n,r,i){Object(o.H)("Query.on",2,4,arguments.length),Ir("Query.on",1,t,!1),Object(o.I)("Query.on",2,n,!1);var a=e.getCancelAndContextArgs_("Query.on",r,i);if("value"===t)this.onValueEvent(n,a.cancel,a.context);else{var s={};s[t]=n,this.onChildEvent(s,a.cancel,a.context)}return n},e.prototype.onValueEvent=function(e,t,n){var r=new wi(e,t||null,n||null);ei(this.repo,this,r)},e.prototype.onChildEvent=function(e,t,n){var r=new ki(e,t,n);ei(this.repo,this,r)},e.prototype.off=function(e,t,n){Object(o.H)("Query.off",0,3,arguments.length),Ir("Query.off",1,e,!0),Object(o.I)("Query.off",2,t,!0),Object(o.J)("Query.off",3,n,!0);var r=null,i=null;if("value"===e){var a=t||null;r=new wi(a,null,n||null)}else e&&(t&&((i={})[e]=t),r=new ki(i,null,n||null));ti(this.repo,this,r)},e.prototype.get=function(){var e,t,n,r=this;return(e=this.repo,t=this,n=function(e,t){var n=t.path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=ge(e,n);r=r||Mn(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Mn(i,se()):(i=new Nn,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new Vt(r,!0,!1):null;return Wt(jn(i,t,on(e.pendingWriteTree_,t.path),o?a.getNode():Xe.EMPTY_NODE,o).viewCache_)}(e.serverSyncTree_,t),null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=et(n),i=Kn(e.serverSyncTree_,t.path,r);return Mr(e.eventQueue_,t.path,i),Promise.resolve(r)}),(function(n){return ii(e,"get for query "+Object(o.G)(t)+" failed: "+n),Promise.reject(new Error(n))}))).then((function(e){return new mi(e,r.getRef(),r.getQueryParams().getIndex())}))},e.prototype.once=function(t,n,r,i){var a=this;Object(o.H)("Query.once",1,4,arguments.length),Ir("Query.once",1,t,!1),Object(o.I)("Query.once",2,n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),u=!0,c=new o.a;c.promise.catch((function(){}));var l=function e(r){u&&(u=!1,a.off(t,e),n&&n.bind(s.context)(r),c.resolve(r))};return this.on(t,l,(function(e){a.off(t,l),s.cancel&&s.cancel.bind(s.context)(e),c.reject(e)})),c.promise},e.prototype.limitToFirst=function(t){if(Object(o.H)("Query.limitToFirst",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.database,this.path,gt(this.queryParams_,t),this.orderByCalled_)},e.prototype.limitToLast=function(t){if(Object(o.H)("Query.limitToLast",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.database,this.path,mt(this.queryParams_,t),this.orderByCalled_)},e.prototype.orderByChild=function(t){if(Object(o.H)("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Ar("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new ae(t);if(ye(n))throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new rt(n),i=kt(this.queryParams_,r);return e.validateQueryEndpoints_(i),new e(this.database,this.path,i,!0)},e.prototype.orderByKey=function(){Object(o.H)("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=kt(this.queryParams_,xe);return e.validateQueryEndpoints_(t),new e(this.database,this.path,t,!0)},e.prototype.orderByPriority=function(){Object(o.H)("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=kt(this.queryParams_,Ke);return e.validateQueryEndpoints_(t),new e(this.database,this.path,t,!0)},e.prototype.orderByValue=function(){Object(o.H)("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=kt(this.queryParams_,it);return e.validateQueryEndpoints_(t),new e(this.database,this.path,t,!0)},e.prototype.startAt=function(t,n){void 0===t&&(t=null),Object(o.H)("Query.startAt",0,2,arguments.length),Er("Query.startAt",1,t,this.path,!0),Dr("Query.startAt",2,n,!0);var r=_t(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(t=null,n=null),new e(this.database,this.path,r,this.orderByCalled_)},e.prototype.startAfter=function(t,n){void 0===t&&(t=null),Object(o.H)("Query.startAfter",0,2,arguments.length),Er("Query.startAfter",1,t,this.path,!1),Dr("Query.startAfter",2,n,!0);var r=bt(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAfter: Starting point was already set (by another call to startAt, startAfter or equalTo).");return new e(this.database,this.path,r,this.orderByCalled_)},e.prototype.endAt=function(t,n){void 0===t&&(t=null),Object(o.H)("Query.endAt",0,2,arguments.length),Er("Query.endAt",1,t,this.path,!0),Dr("Query.endAt",2,n,!0);var r=Ct(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new e(this.database,this.path,r,this.orderByCalled_)},e.prototype.endBefore=function(t,n){void 0===t&&(t=null),Object(o.H)("Query.endBefore",0,2,arguments.length),Er("Query.endBefore",1,t,this.path,!1),Dr("Query.endBefore",2,n,!0);var r=wt(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endBefore: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new e(this.database,this.path,r,this.orderByCalled_)},e.prototype.equalTo=function(e,t){if(Object(o.H)("Query.equalTo",1,2,arguments.length),Er("Query.equalTo",1,e,this.path,!1),Dr("Query.equalTo",2,t,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return this.startAt(e,t).endAt(e,t)},e.prototype.toString=function(){return Object(o.H)("Query.toString",0,0,arguments.length),this.repo.toString()+fe(this.path)},e.prototype.toJSON=function(){return Object(o.H)("Query.toJSON",0,1,arguments.length),this.toString()},e.prototype.queryObject=function(){return function(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Ke&&(t.i=e.index_.toString()),t}(this.queryParams_)},e.prototype.queryIdentifier=function(){var e=this.queryObject(),t=x(e);return"{}"===t?"default":t},e.prototype.isEqual=function(t){if(Object(o.H)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===t.repo,i=_e(this.path,t.path),a=this.queryIdentifier()===t.queryIdentifier();return r&&i&&a},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:null,context:null};if(t&&n)r.cancel=t,Object(o.I)(e,3,r.cancel,!0),r.context=n,Object(o.J)(e,4,r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(Object(o.l)(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Si=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return Object(o.H)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Oi=function(e){function t(t,n){return e.call(this,t,n,new yt,!1)||this}return Object(a.c)(t,e),t.prototype.getKey=function(){return Object(o.H)("Reference.key",0,0,arguments.length),ye(this.path)?null:he(this.path)},t.prototype.child=function(e){return Object(o.H)("Reference.child",1,1,arguments.length),"number"==typeof e?e=String(e):e instanceof ae||(null===ue(this.path)?xr("Reference.child",1,e,!1):Ar("Reference.child",1,e,!1)),new t(this.database,ve(this.path,e))},t.prototype.getParent=function(){Object(o.H)("Reference.parent",0,0,arguments.length);var e=pe(this.path);return null===e?null:new t(this.database,e)},t.prototype.getRoot=function(){Object(o.H)("Reference.root",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},t.prototype.set=function(e,t){Object(o.H)("Reference.set",1,2,arguments.length),Pr("Reference.set",this.path),Er("Reference.set",1,e,this.path,!1),Object(o.I)("Reference.set",2,t,!0);var n=new o.a;return Qr(this.repo,this.path,e,null,n.wrapCallback(t)),n.promise},t.prototype.update=function(e,t){if(Object(o.H)("Reference.update",1,2,arguments.length),Pr("Reference.update",this.path),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,E("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Or("Reference.update",1,e,this.path,!1),Object(o.I)("Reference.update",2,t,!0);var i=new o.a;return Zr(this.repo,this.path,e,i.wrapCallback(t)),i.promise},t.prototype.setWithPriority=function(e,t,n){if(Object(o.H)("Reference.setWithPriority",2,3,arguments.length),Pr("Reference.setWithPriority",this.path),Er("Reference.setWithPriority",1,e,this.path,!1),Tr("Reference.setWithPriority",2,t,!1),Object(o.I)("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new o.a;return Qr(this.repo,this.path,e,t,r.wrapCallback(n)),r.promise},t.prototype.remove=function(e){return Object(o.H)("Reference.remove",0,1,arguments.length),Pr("Reference.remove",this.path),Object(o.I)("Reference.remove",1,e,!0),this.set(null,e)},t.prototype.transaction=function(e,n,r){var i=this;if(Object(o.H)("Reference.transaction",1,3,arguments.length),Pr("Reference.transaction",this.path),Object(o.I)("Reference.transaction",1,e,!1),Object(o.I)("Reference.transaction",2,n,!0),Rr("Reference.transaction",3,r,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===r&&(r=!0);var a=new o.a;"function"==typeof n&&a.promise.catch((function(){}));var s=function(e,r,o){if(e)a.reject(e),"function"==typeof n&&n(e,r,null);else{var s=new mi(o,new t(i.database,i.path),Ke);a.resolve(new Si(r,s)),"function"==typeof n&&n(null,r,s)}},u=function(){},c=new t(this.database,this.path);c.on("value",u);var l=function(){c.off("value",u)};return ai(this.repo,this.path,e,s,l,r),a.promise},t.prototype.setPriority=function(e,t){Object(o.H)("Reference.setPriority",1,2,arguments.length),Pr("Reference.setPriority",this.path),Tr("Reference.setPriority",1,e,!1),Object(o.I)("Reference.setPriority",2,t,!0);var n=new o.a;return Qr(this.repo,ve(this.path,".priority"),e,null,n.wrapCallback(t)),n.promise},t.prototype.push=function(e,t){Object(o.H)("Reference.push",0,2,arguments.length),Pr("Reference.push",this.path),Er("Reference.push",1,e,this.path,!0),Object(o.I)("Reference.push",2,t,!0);var n,r=qr(this.repo),i=at(r),a=this.child(i),s=this.child(i);return n=null!=e?a.set(e,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),"function"==typeof t&&n.catch((function(){})),a},t.prototype.onDisconnect=function(){return Pr("Reference.onDisconnect",this.path),new _i(this.repo,this.path)},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Ei);Ei.__referenceConstructor=Oi,function(e){Object(o.d)(!On,"__referenceConstructor has already been defined"),On=e}(Oi);var Ti={},Ii=!1;function Di(e,t,n,r){var i=n||e.options.databaseURL;void 0===i&&(e.options.projectId||k("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),b("Using default host for project ",e.options.projectId),i=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=yi(i,r),u=s.repoInfo,c=void 0;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,u=(s=yi(i="http://"+c+"?ns="+u.namespace,r)).repoInfo):a=!s.repoInfo.secure;var l=r&&a?new U:new V(e,t);Nr("Invalid Firebase Database URL",1,s),ye(s.path)||k("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n){var r=Object(o.D)(Ti,t.name);r||(Ti[t.name]=r={});var i=Object(o.D)(r,e.toURLString());return i&&k("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new Br(e,Ii,t,n),r[e.toURLString()]=i,i}(u,e,l);return new Ai(h)}var Ai=function(){function e(e){var t=this;this.repoInternal_=e,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return Object(a.b)(t,void 0,void 0,(function(){return Object(a.d)(this,(function(e){var t,n;return this.checkDeleted_("delete"),t=this.repo_,(n=Object(o.D)(Ti,t.app.name))&&Object(o.D)(n,t.key)===t||k("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),ni(t),delete n[t.key],this.repoInternal_=null,this.rootInternal_=null,[2]}))}))}},e instanceof Br||k("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(e.prototype,"repo_",{get:function(){return this.instanceStarted_||(function(e){if(e.stats_=G(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new St(e.repoInfo_,(function(t,n,r,i){zr(e,t,n,r,i)}),e.authTokenProvider_),setTimeout((function(){return Wr(e,!0)}),0);else{var t=e.app.options.databaseAuthVariableOverride;if(null!=t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o.G)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new Te(e.repoInfo_,e.app.options.appId,(function(t,n,r,i){zr(e,t,n,r,i)}),(function(t){Wr(e,t)}),(function(t){!function(e,t){N(t,(function(t,n){Kr(e,t,n)}))}(e,t)}),e.authTokenProvider_,t),e.server_=e.persistentConnection_}var n,r;e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.statsReporter_=(n=function(){return new xt(e.stats_,e.server_)},r=e.repoInfo_.toString(),K[r]||(K[r]=n()),K[r]),e.infoData_=new Ot,e.infoSyncTree_=new Hn({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t.path);return a.isEmpty()||(o=Kn(e.infoSyncTree_,t.path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),Kr(e,"connected",!1),e.serverSyncTree_=new Hn({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);Lr(e.eventQueue_,t.path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}(this.repoInternal_),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new Oi(this,se())),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),e.prototype.useEmulator=function(e,t){this.checkDeleted_("useEmulator"),this.instanceStarted_?k("Cannot call useEmulator() after instance has already been initialized."):function(e,t,n){e.repoInfo_=new q(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),e.repoInfo_.nodeAdmin&&(e.authTokenProvider_=new U)}(this.repoInternal_,e,t)},e.prototype.ref=function(e){return this.checkDeleted_("ref"),Object(o.H)("database.ref",0,1,arguments.length),e instanceof Oi?this.refFromURL(e.toString()):void 0!==e?this.root_.child(e):this.root_},e.prototype.refFromURL=function(e){var t="database.refFromURL";this.checkDeleted_(t),Object(o.H)(t,1,1,arguments.length);var n=yi(e,this.repo_.repoInfo_.nodeAdmin);Nr(t,1,n);var r=n.repoInfo;return this.repo_.repoInfo_.isCustomHost()||r.host===this.repo_.repoInfo_.host||k(t+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},e.prototype.checkDeleted_=function(e){null===this.repoInternal_&&k("Cannot call "+e+" on a deleted database.")},e.prototype.goOffline=function(){Object(o.H)("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),ni(this.repo_)},e.prototype.goOnline=function(){Object(o.H)("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),ri(this.repo_)},e.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(e){return{".sv":{increment:e}}}},e}(),xi=Object.freeze({__proto__:null,forceLongPolling:function(){ee.forceDisallow(),Z.forceAllow()},forceWebSockets:function(){Z.forceDisallow()},isWebSocketsAvailable:function(){return ee.isAvailable()},setSecurityDebugCallback:function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var n;t?(e.statsListener_||(e.statsListener_=new At(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);N(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e.repo,t)},statsIncrementCounter:function(e,t){!function(e,t){e.stats_.incrementCounter(t),e.statsReporter_.statsToReport_[t]=!0}(e.repo,t)},dataUpdateCount:function(e){return e.repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e.repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.customAuthImpl,o=e.namespace,a=e.nodeAdmin,s=void 0!==a&&a;X(e.version);var u=new i.c("auth-internal",new i.b("database-standalone"));return u.setComponent(new i.a("auth-internal",(function(){return r}),"PRIVATE")),{instance:Di(t,u,n,s),namespace:o}}}),Pi=Te;Te.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Te.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Ni=Object.freeze({__proto__:null,DataConnection:Pi,RealTimeConnection:ne,hijackHash:function(e){var t=Te.prototype.put;return Te.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Te.prototype.put=t}},ConnectionTarget:q,queryIdentifier:function(e){return e.queryIdentifier()},forceRestClient:function(e){!function(e){Ii=e}(e)}}),Ri=Ai.ServerValue;!function(t){X(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new i.a("database",(function(e,t){var n=t.instanceIdentifier;return Di(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),n,void 0)}),"PUBLIC").setServiceProps({Reference:Oi,Query:Ei,Database:Ai,DataSnapshot:mi,enableLogging:_,INTERNAL:xi,ServerValue:Ri,TEST_ACCESS:Ni}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.9.7"),Object(o.w)()&&(e.exports=n)}(r.a)}).call(this,n("3UD+")(e))},"7o/Q":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),a=n("2QA8"),s=n("2fFW"),u=n("NJ4a"),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,o){var a;switch(_classCallCheck(this,n),(a=t.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!e){a.destination=i.a;break}if("object"==typeof e){e instanceof n?(a.syncErrorThrowable=e.syncErrorThrowable,a.destination=e,e.add(_assertThisInitialized(a))):(a.syncErrorThrowable=!0,a.destination=new l(_assertThisInitialized(a),e));break}default:a.syncErrorThrowable=!0,a.destination=new l(_assertThisInitialized(a),e,r,o)}return a}return _createClass(n,[{key:a.a,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,r){var i=new n(e,t,r);return i.syncErrorThrowable=!1,i}}]),n}(o.a),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,o,a,s){var u,c;_classCallCheck(this,n),(u=t.call(this))._parentSubscriber=e;var l=_assertThisInitialized(u);return Object(r.a)(o)?c=o:o&&(c=o.next,a=o.error,s=o.complete,o!==i.a&&(l=Object.create(o),Object(r.a)(l.unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(_assertThisInitialized(u)))),u._context=l,u._next=c,u._error=a,u._complete=s,u}return _createClass(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(u.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(u.a)(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};s.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return s.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(c)},"8Su2":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n("kt0X"),i=Object(r.n)("[Auth/API] Start Login",Object(r.s)()),o=Object(r.n)("[Auth/API] Success Login"),a=Object(r.n)("[Auth/API] Failure Login",Object(r.s)())},"9jGm":function(e,t,n){"use strict";n.d(t,"a",(function(){return M})),n.d(t,"b",(function(){return ie})),n.d(t,"c",(function(){return A})),n.d(t,"d",(function(){return L}));var r=n("kt0X"),i=n("VRyK"),o=n("HDdC"),a=n("XNiG"),s=(n("NXyV"),n("WMd4")),u=n("7o/Q"),c=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new l(e))}}]),e}(),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_next",value:function(e){}}]),n}(u.a),h=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new f(e))}}]),e}(),f=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"_next",value:function(e){this.destination.next(s.a.createNext(e))}},{key:"_error",value:function(e){var t=this.destination;t.next(s.a.createError(e)),t.complete()}},{key:"_complete",value:function(){var e=this.destination;e.next(s.a.createComplete()),e.complete()}}]),n}(u.a),d=n("lJxs"),p=n("JIr8"),v=n("pLZG"),y=n("quSY");function g(e,t,n,r){return function(i){return i.lift(new m(e,t,n,r))}}var m=function(){function e(t,n,r,i){_classCallCheck(this,e),this.keySelector=t,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new _(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}]),e}(),_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;return _classCallCheck(this,n),(s=t.call(this,e)).keySelector=r,s.elementSelector=i,s.durationSelector=o,s.subjectSelector=a,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.keySelector(e)}catch(n){return void this.error(n)}this._group(e,t)}},{key:"_group",value:function(e,t){var n=this.groups;n||(n=this.groups=new Map);var r,i=n.get(t);if(this.elementSelector)try{r=this.elementSelector(e)}catch(u){this.error(u)}else r=e;if(!i){i=this.subjectSelector?this.subjectSelector():new a.a,n.set(t,i);var o=new C(t,i,this);if(this.destination.next(o),this.durationSelector){var s;try{s=this.durationSelector(new C(t,i))}catch(u){return void this.error(u)}this.add(s.subscribe(new b(t,i,this)))}}i.closed||i.next(r)}},{key:"_error",value:function(e){var t=this.groups;t&&(t.forEach((function(t,n){t.error(e)})),t.clear()),this.destination.error(e)}},{key:"_complete",value:function(){var e=this.groups;e&&(e.forEach((function(e,t){e.complete()})),e.clear()),this.destination.complete()}},{key:"removeGroup",value:function(e){this.groups.delete(e)}},{key:"unsubscribe",value:function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}}]),n}(u.a),b=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,r)).key=e,o.group=r,o.parent=i,o}return _createClass(n,[{key:"_next",value:function(e){this.complete()}},{key:"_unsubscribe",value:function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)}}]),n}(u.a),C=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this)).key=e,o.groupSubject=r,o.refCountSubscription=i,o}return _createClass(n,[{key:"_subscribe",value:function(e){var t=new y.a,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&t.add(new w(n)),t.add(r.subscribe(e)),t}}]),n}(o.a),w=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).parent=e,e.count++,r}return _createClass(n,[{key:"unsubscribe",value:function(){var e=this.parent;e.closed||this.closed||(_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())}}]),n}(y.a),k=n("5+tZ"),E=n("XqQ8"),S=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new O(e))}}]),e}(),O=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"_next",value:function(e){e.observe(this.destination)}}]),n}(u.a),T=n("IzEk"),I=(n("bOdf"),n("nYR2"),n("fXoL")),D={dispatch:!0,useEffectsErrorHandler:!0};function A(e,t){var n=e(),r=Object.assign(Object.assign({},D),t);return Object.defineProperty(n,"__@ngrx/effects_create__",{value:r}),n}function x(e){return Object.getOwnPropertyNames(e).filter((function(t){return e[t]&&e[t].hasOwnProperty("__@ngrx/effects_create__")})).map((function(t){return Object.assign({propertyName:t},e[t]["__@ngrx/effects_create__"])}))}function P(e){return Object.getPrototypeOf(e)}function N(e){return Object(r.m)(R,P)(e)}function R(e){return function(e){return e.constructor.hasOwnProperty("__@ngrx/effects__")}(e)?e.constructor["__@ngrx/effects__"]:[]}function j(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return e.pipe(Object(p.a)((function(r){return t&&t.handleError(r),n<=1?e:j(e,t,n-1)})))}var F,M=((F=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),r=t.call(this),e&&(r.source=e),r}return _createClass(n,[{key:"lift",value:function(e){var t=new n;return t.source=this,t.operator=e,t}}]),n}(o.a)).\u0275fac=function(e){return new(e||F)(I.ec(r.f))},F.\u0275prov=I.Rb({token:F,factory:F.\u0275fac}),F);function L(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(v.a)((function(e){return t.some((function(t){return"string"==typeof t?t===e.type:t.type===e.type}))}))}function V(e){return U(e,"ngrxOnInitEffects")}function U(e,t){return e&&t in e&&"function"==typeof e[t]}var B,q=new I.t("@ngrx/effects Internal Root Guard"),H=new I.t("ngrx/effects: User Provided Effects"),z=new I.t("ngrx/effects: Internal Root Effects"),W=new I.t("ngrx/effects: Root Effects"),K=new I.t("ngrx/effects: Internal Feature Effects"),G=new I.t("ngrx/effects: Feature Effects"),Q=new I.t("ngrx/effects: Effects Error Handler"),Z=((B=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).errorHandler=e,i.effectsErrorHandler=r,i}return _createClass(n,[{key:"addEffects",value:function(e){this.next(e)}},{key:"toActions",value:function(){var e=this;return this.pipe(g(P),Object(k.a)((function(e){return e.pipe(g(J))})),Object(k.a)((function(t){var n=t.pipe(Object(E.a)((function(t){return(n=e.errorHandler,r=e.effectsErrorHandler,function(e){var t=function(e,t,n){var r,o=P(e).constructor.name,a=(r=e,[N,x].reduce((function(e,t){return e.concat(t(r))}),[])).map((function(r){var i=r.propertyName,a=r.dispatch,s=r.useEffectsErrorHandler,u="function"==typeof e[i]?e[i]():e[i],l=s?n(u,t):u;return!1===a?l.pipe((function(e){return e.lift(new c)})):l.pipe((function(e){return e.lift(new h)})).pipe(Object(d.a)((function(t){return{effect:e[i],notification:t,propertyName:i,sourceName:o,sourceInstance:e}})))}));return Object(i.a).apply(void 0,_toConsumableArray(a))}(e,n,r);return U(e,"ngrxOnRunEffects")?e.ngrxOnRunEffects(t):t})(t);var n,r})),Object(d.a)((function(t){return function(e,t){if("N"===e.notification.kind){var n=e.notification.value;!function(e){return"function"!=typeof e&&e&&e.type&&"string"==typeof e.type}(n)&&t.handleError(new Error("Effect ".concat((r=e,i=r.propertyName,o=r.sourceInstance,a=r.sourceName,s="function"==typeof o[i],'"'.concat(a,".").concat(String(i)).concat(s?"()":"",'"'))," dispatched an invalid action: ").concat(function(e){try{return JSON.stringify(e)}catch(t){return e}}(n))))}var r,i,o,a,s}(t,e.errorHandler),t.notification})),Object(v.a)((function(e){return"N"===e.kind})),(function(e){return e.lift(new S)})),r=t.pipe(Object(T.a)(1),Object(v.a)(V),Object(d.a)((function(e){return e.ngrxOnInitEffects()})));return Object(i.a)(n,r)})))}}]),n}(a.a)).\u0275fac=function(e){return new(e||B)(I.ec(I.p),I.ec(Q))},B.\u0275prov=I.Rb({token:B,factory:B.\u0275fac}),B);function J(e){return U(e,"ngrxOnIdentifyEffects")?e.ngrxOnIdentifyEffects():""}var Y,X,$,ee,te=((ee=function(){function e(t,n){_classCallCheck(this,e),this.effectSources=t,this.store=n,this.effectsSubscription=null}return _createClass(e,[{key:"start",value:function(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}},{key:"ngOnDestroy",value:function(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}]),e}()).\u0275fac=function(e){return new(e||ee)(I.ec(Z),I.ec(r.h))},ee.\u0275prov=I.Rb({token:ee,factory:ee.\u0275fac}),ee),ne=(($=function(){function e(t,n,r,i,o,a,s){_classCallCheck(this,e),this.sources=t,n.start(),i.forEach((function(e){return t.addEffects(e)})),r.dispatch({type:"@ngrx/effects/init"})}return _createClass(e,[{key:"addEffects",value:function(e){this.sources.addEffects(e)}}]),e}()).\u0275mod=I.Tb({type:$}),$.\u0275inj=I.Sb({factory:function(e){return new(e||$)(I.ec(Z),I.ec(te),I.ec(r.h),I.ec(W),I.ec(r.k,8),I.ec(r.i,8),I.ec(q,8))}}),$),re=((X=function e(t,n,r,i){_classCallCheck(this,e),n.forEach((function(e){return e.forEach((function(e){return t.addEffects(e)}))}))}).\u0275mod=I.Tb({type:X}),X.\u0275inj=I.Sb({factory:function(e){return new(e||X)(I.ec(ne),I.ec(G),I.ec(r.k,8),I.ec(r.i,8))}}),X),ie=((Y=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forFeature",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{ngModule:re,providers:[e,{provide:K,multi:!0,useValue:e},{provide:H,multi:!0,useValue:[]},{provide:G,multi:!0,useFactory:oe,deps:[I.u,K,H]}]}}},{key:"forRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{ngModule:ne,providers:[{provide:Q,useValue:j},te,Z,M,e,{provide:z,useValue:[e]},{provide:q,useFactory:ae,deps:[[te,new I.F,new I.Q],[z,new I.P]]},{provide:H,multi:!0,useValue:[]},{provide:W,useFactory:oe,deps:[I.u,z,H]}]}}}]),e}()).\u0275mod=I.Tb({type:Y}),Y.\u0275inj=I.Sb({factory:function(e){return new(e||Y)}}),Y);function oe(e,t,n){var r,i=[],o=_createForOfIteratorHelper(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;i.push.apply(i,_toConsumableArray(a))}}catch(l){o.e(l)}finally{o.f()}var s,u=_createForOfIteratorHelper(n);try{for(u.s();!(s=u.n()).done;){var c=s.value;i.push.apply(i,_toConsumableArray(c))}}catch(l){u.e(l)}finally{u.f()}return function(e,t){return t.map((function(t){return e.get(t)}))}(e,i)}function ae(e,t){if((1!==t.length||0!==t[0].length)&&e)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}},"9ppp":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},Cfvw:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),a=n("kJWO"),s=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[a.a]}(e))return function(e,t){return new r.a((function(n){var r=new o.a;return r.add(t.schedule((function(){var i=e[a.a]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(Object(c.a)(e))return function(e,t){return new r.a((function(n){var r=new o.a;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}(e,t);if(Object(l.a)(e))return Object(s.a)(e,t);if(function(e){return e&&"function"==typeof e[u.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.a((function(n){var r,i=new o.a;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(t.schedule((function(){r=e[u.a](),i.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}})))}))),i}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.a?e:new r.a(Object(i.a)(e))}},D0XW:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("3N8a"),i=new(n("IjjT").a)(r.a)},DH7j:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=Array.isArray||function(e){return e&&"number"==typeof e.length}},EWl0:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("cxbk"),i=function(){var e=function e(){_classCallCheck(this,e)};return e.sourceAPI=r.a.sourceAPI,e.loginAPI=e.sourceAPI+"login_check",e.dashboardStatisticAPI=e.sourceAPI+"statistics",e.adminsAPI=e.sourceAPI+"getadministrators",e.createAdminAPI=e.sourceAPI+"createadmin",e.deleteAdminAPI=e.sourceAPI+"deleteadmin",e.regionsAPI=e.sourceAPI+"regions",e.regionAPI=e.sourceAPI+"region",e.updateRegionAPI=e.sourceAPI+"updateRegion",e.eventsAPI=e.sourceAPI+"events",e.eventAPI=e.sourceAPI+"event",e.guidesAPI=e.sourceAPI+"guides",e.guideByIdAPI=e.sourceAPI+"guidebyid",e.updateGuideAPI=e.sourceAPI+"guidbyadminupdate",e.allUnacceptedOrdersAPI=e.sourceAPI+"allunacceptedorders",e.allAcceptedOrdersAPI=e.sourceAPI+"acceptedordersbystatus",e.googleMapTokenAPI=e.sourceAPI+r.a.googleTokenAPI,e.googleMapSearchAPI="https://maps.googleapis.com/maps/api/place/autocomplete/",e.googleMapPlaceDetailsAPI="https://maps.googleapis.com/maps/api/place/details/",e.generalUploadAPI=e.sourceAPI+"uploadfile",e}()},EY2u:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("HDdC"),i=new r.a((function(e){return e.complete()}));function o(e){return e?function(e){return new r.a((function(t){return e.schedule((function(){return t.complete()}))}))}(e):i}},GyhO:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("LRne"),i=n("0EUg");function o(){return Object(i.a)()(Object(r.a).apply(void 0,arguments))}},HDdC:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,i=n("7o/Q"),o=n("2QA8"),a=n("gRHU"),s=n("kJWO"),u=n("mCNh"),c=n("2fFW"),l=((r=function(){function e(t){_classCallCheck(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return _createClass(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var r=this.operator,s=function(e,t,n){if(e){if(e instanceof i.a)return e;if(e[o.a])return e[o.a]()}return e||t||n?new i.a(e,t,n):new i.a(a.a)}(e,t,n);if(s.add(r?r.call(s,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),c.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){c.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,r=t.destination,o=t.isStopped;if(n||o)return!1;e=r&&r instanceof i.a?r:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=h(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}}),r,t)}))}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:s.a,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:Object(u.b)(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=h(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))}}]),e}()).create=function(e){return new r(e)},r);function h(e){if(e||(e=c.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},I55L:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},IjjT:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_classCallCheck(this,e),this.SchedulerAction=t,this.now=n}return _createClass(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return _classCallCheck(this,n),(i=t.call(this,e,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(i)?n.delegate.now():o()}))).actions=[],i.active=!1,i.scheduled=void 0,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,r):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t,r)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(r)},IzEk:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("7o/Q"),i=n("4I5i"),o=n("EY2u");function a(e){return function(t){return 0===e?Object(o.b)():t.lift(new s(e))}}var s=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new i.a}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.total))}}]),e}(),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(r.a)},JIr8:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("l7GE"),i=n("51Dv"),o=n("ZUHj");function a(e){return function(t){var n=new s(e),r=t.lift(n);return n.caught=r}}var s=function(){function e(t){_classCallCheck(this,e),this.selector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.selector,this.caught))}}]),e}(),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).selector=r,o.caught=i,o}return _createClass(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(s){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,s)}this._unsubscribeAndRecycle();var r=new i.a(this,void 0,void 0);this.add(r);var a=Object(o.a)(this,t,void 0,void 0,r);a!==r&&this.add(a)}}}]),n}(r.a)},JX91:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("GyhO"),i=n("z+Ro");function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[t.length-1];return Object(i.a)(o)?(t.pop(),function(e){return Object(r.a)(t,e,o)}):function(e){return Object(r.a)(t,e)}}},Jgta:function(e,t,n){"use strict";var r=n("zIRd");n.d(t,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.3.2","app")},KWzY:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n("ofXK"),i=n("fXoL"),o=n("lf8/"),a=n("NG8C"),s=n("5KT8"),u=n("sYmb"),c=n("tyNb"),l=n("3Pt+");function h(e,t){if(1&e&&(i.ac(0,"option",23),i.Cc(1),i.mc(2,"titlecase"),i.Zb()),2&e){var n=t.$implicit;i.qc("value",n),i.Jb(1),i.Dc(i.nc(2,2,n))}}function f(e,t){if(1&e&&(i.ac(0,"button",27),i.Wb(1,"i",28),i.Cc(2),i.mc(3,"translate"),i.Wb(4,"i",29),i.Wb(5,"i",30),i.Zb()),2&e){var n=i.lc(),r=n.$implicit;i.Mb("btn btn-link ",0!=n.index?"collapsed":"",""),i.Kb("data-target","#"+r.id)("aria-controls",r.id),i.Jb(1),i.Mb("",r.icon," dash-header-icon"),i.Jb(1),i.Ec(" ",i.nc(3,9,r.translate)," ")}}function d(e,t){if(1&e){var n=i.bc();i.ac(0,"button",31),i.ic("click",(function(){return i.wc(n),i.lc(2).clicked()})),i.Wb(1,"i",28),i.Cc(2),i.mc(3,"translate"),i.Zb()}if(2&e){var r=i.lc(),o=r.$implicit;i.Mb("btn btn-link ",0!=r.index?"collapsed":"",""),i.qc("routerLink",o.link),i.Kb("data-target","#"+o.id)("aria-controls",o.id),i.Jb(1),i.Mb("",o.icon," dash-header-icon"),i.Jb(1),i.Ec(" ",i.nc(3,10,o.translate)," ")}}function p(e,t){if(1&e){var n=i.bc();i.ac(0,"p",35),i.ac(1,"a",36),i.ic("click",(function(){i.wc(n);var e=t.$implicit;return i.lc(3).clicked(e.value)})),i.Cc(2),i.mc(3,"translate"),i.Zb(),i.Zb()}if(2&e){var r=t.$implicit;i.Jb(1),i.qc("routerLink",r.link),i.Jb(1),i.Dc(i.nc(3,2,r.translate))}}function v(e,t){if(1&e&&(i.ac(0,"div",32),i.ac(1,"div",33),i.Bc(2,p,4,4,"p",34),i.Zb(),i.Zb()),2&e){var n=i.lc(),r=n.index,o=n.$implicit;i.Mb("collapse bg-light-blue text-white ",0==r?"show":"",""),i.qc("id",o.id),i.Kb("aria-labelledby",o.id+"-"+r),i.Jb(2),i.pc("ngForOf",o.children)}}function y(e,t){if(1&e&&(i.ac(0,"div",19),i.ac(1,"div",14),i.ac(2,"h5",15),i.Bc(3,f,6,11,"button",24),i.Bc(4,d,4,12,"button",25),i.Zb(),i.Zb(),i.Bc(5,v,3,6,"div",26),i.Zb()),2&e){var n=t.$implicit,r=t.index,o=i.lc();i.Jb(1),i.Nb("d-none","admins"==n.id&&!o.isSuperAdmin),i.Kb("id",n.id?n.id+"-"+r:""),i.Jb(2),i.pc("ngIf",n.id),i.Jb(1),i.pc("ngIf",!n.id),i.Jb(1),i.pc("ngIf",n.id)}}function g(e,t){if(1&e){var n=i.bc();i.ac(0,"a",43),i.ic("click",(function(){i.wc(n);var e=i.lc().$implicit;return i.lc(2).select(e.id)})),i.ac(1,"div",44),i.ac(2,"div",33),i.ac(3,"h5",45),i.Cc(4,"#ID : "),i.ac(5,"span",46),i.Cc(6),i.Zb(),i.Zb(),i.ac(7,"h5",47),i.Cc(8),i.mc(9,"translate"),i.ac(10,"span",46),i.Cc(11),i.Zb(),i.Zb(),i.ac(12,"p",47),i.Cc(13),i.mc(14,"translate"),i.ac(15,"span",46),i.Cc(16),i.Zb(),i.Zb(),i.ac(17,"p",47),i.Cc(18),i.mc(19,"translate"),i.ac(20,"span",46),i.Cc(21),i.mc(22,"date"),i.Zb(),i.Zb(),i.Zb(),i.Zb(),i.Zb()}if(2&e){var r=i.lc().$implicit;i.Jb(6),i.Dc(r.id),i.Jb(2),i.Ec("",i.nc(9,7,"recipient-name")," : "),i.Jb(3),i.Dc(r.recipientName),i.Jb(2),i.Ec("",i.nc(14,9,"state")," : "),i.Jb(3),i.Dc(r.state),i.Jb(2),i.Ec("",i.nc(19,11,"date")," : "),i.Jb(3),i.Dc(i.oc(22,13,1e3*r.date.timestamp,"yyyy-MM-dd"))}}function m(e,t){if(1&e){var n=i.bc();i.ac(0,"a",43),i.ic("click",(function(){i.wc(n);var e=i.lc().$implicit;return i.lc(2).select(e.orderID)})),i.ac(1,"div",44),i.ac(2,"div",33),i.ac(3,"h5",45),i.Cc(4,"#ID : "),i.ac(5,"span",46),i.Cc(6),i.Zb(),i.Zb(),i.ac(7,"h5",47),i.Cc(8),i.mc(9,"translate"),i.ac(10,"span",46),i.Cc(11),i.Zb(),i.Zb(),i.ac(12,"p",47),i.Cc(13),i.mc(14,"translate"),i.ac(15,"span",46),i.Cc(16),i.Zb(),i.Zb(),i.ac(17,"p",47),i.Cc(18),i.mc(19,"translate"),i.ac(20,"span",46),i.Cc(21),i.mc(22,"date"),i.Zb(),i.Zb(),i.Zb(),i.Zb(),i.Zb()}if(2&e){var r=i.lc().$implicit;i.Jb(6),i.Dc(r.orderID),i.Jb(2),i.Ec("",i.nc(9,7,"recipient-name")," : "),i.Jb(3),i.Dc(r.recipientName),i.Jb(2),i.Ec("",i.nc(14,9,"state")," : "),i.Jb(3),i.Dc(r.state),i.Jb(2),i.Ec("",i.nc(19,11,"date")," : "),i.Jb(3),i.Dc(i.oc(22,13,1e3*r.orderDate.timestamp,"yyyy-MM-dd"))}}function _(e,t){if(1&e&&(i.ac(0,"div",41),i.Bc(1,g,23,16,"a",42),i.Bc(2,m,23,16,"a",42),i.Zb()),2&e){var n=t.$implicit;i.Jb(1),i.pc("ngIf",n.id),i.Jb(1),i.pc("ngIf",n.orderID)}}function b(e,t){if(1&e&&(i.ac(0,"div",37),i.ac(1,"div",38),i.ac(2,"div",39),i.Bc(3,_,3,2,"div",40),i.Zb(),i.Zb(),i.Zb()),2&e){var n=i.lc();i.Jb(3),i.pc("ngForOf",n.ordersListFilter)}}var C=function(){var e=function(){function e(t,n,r,i,o,a,s,u){_classCallCheck(this,e),this.tokenService=t,this.authService=n,this.layoutService=r,this.translate=i,this.router=o,this.datePipe=a,this.document=s,this.render=u,this.orders=[],this.ordersListFilter=[],this.disabled=!1,this.selectLang="",this.TransLang=[],i.setDefaultLang("en"),i.addLangs(["en","ar"]),this.selectLang="en",i.use("en")}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.getTransLanguage(),this.authService.authState.subscribe((function(t){return e.loggedIn=t})),this.isSuperAdmin=this.tokenService.isSuperAdmin()}},{key:"setTransLanguage",value:function(){var e=this;console.log("set new language",this.selectLang);var t=this.document.querySelector("html");this.document.querySelector(".lds-ring"),this.collapseMenu(),"ar"==this.selectLang?(this.render.setStyle(t,"direction","rtl"),this.document.querySelectorAll(".btn.btn-link").forEach((function(t){e.render.setStyle(t,"text-align","right")})),this.document.querySelectorAll(".fa-custom").forEach((function(t){e.render.setStyle(t,"right","unset"),e.render.setStyle(t,"left","10px")})),this.render.setStyle(this.document.querySelector(".mobile-search-form"),"direction","ltr"),this.render.setStyle(this.document.querySelector(".input-group-prepend"),"display","flex"),this.render.addClass(this.document.querySelector(".input-group-text"),"input-group-text-custom"),this.document.querySelectorAll("link").forEach((function(e,t,n){e.href.search("bootstrap.min.css")>0&&(e.href="assets/css/bootstrap-rtl.min.css",e.removeAttribute("integrity"),e.removeAttribute("crossorigin"))}))):(this.render.setStyle(t,"direction","ltr"),this.document.querySelectorAll(".btn.btn-link").forEach((function(t){e.render.setStyle(t,"text-align","left")})),this.document.querySelectorAll(".fa-custom").forEach((function(t){e.render.setStyle(t,"right","10px"),e.render.setStyle(t,"left","unset")})),this.render.removeClass(this.document.querySelector(".input-group-text"),"input-group-text-custom"),this.document.querySelectorAll("link").forEach((function(e,t,n){console.log(e.href),e.href.search("bootstrap-rtl.min.css")>0&&(e.href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css",e.setAttribute("integrity","sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"),e.setAttribute("crossorigin","anonymous"))}))),this.translate.use(this.selectLang)}},{key:"getTransLanguage",value:function(){this.TransLang=_toConsumableArray(this.translate.getLangs())}},{key:"logout",value:function(){this.tokenService.deleteToken(),this.authService.changeAuthStatus(!1),this.router.navigate(["/login"])}},{key:"clicked",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.collapseMenu(),e&&(this.layoutService.changeLayout(e),this.router.navigate(["/"]))}},{key:"select",value:function(e){this.collapseMenu(),this.disabled=!1,this.render.setProperty(this.document.getElementById("inlineFormInputGroupUsername2"),"value",""),this.router.navigate(["/orders/view/",e])}},{key:"collapseMenu",value:function(){window.innerWidth<768&&(this.render.addClass(this.document.querySelector(".navbar-toggler"),"collapsed"),this.render.removeClass(this.document.getElementById("navbarSupportedContent"),"show"))}},{key:"applyFilter",value:function(){this.collapseMenu()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Vb(o.a),i.Vb(a.a),i.Vb(s.a),i.Vb(u.d),i.Vb(c.d),i.Vb(r.f),i.Vb(r.e),i.Vb(i.K))},e.\u0275cmp=i.Pb({type:e,selectors:[["app-header"]],inputs:{menus:"menus"},features:[i.Ib([r.f])],decls:32,vars:17,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light-blue",2,"z-index","9999"],["routerLink","/",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"sidebar-search"],[1,"form-inline","mt-3","mobile-search-form",2,"visibility","hidden"],["for","inlineFormInputGroupUsername2",1,"sr-only"],[1,"w-100","input-group","mb-2","mr-sm-2"],["type","text","id","inlineFormInputGroupUsername2","name","search",1,"form-control",3,"ngModel","title","placeholder","ngModelChange","keyup"],[1,"input-group-prepend"],[1,"input-group-text"],["aria-hidden","true",1,"fa","fa-search","fa-fw","text-muted"],[1,"card","mb-3"],[1,"card-header"],[1,"mb-0"],["name","selectLang",1,"form-control","custom-select-lang",3,"ngModel","ngModelChange","change"],["style","background-color: #46566b",3,"value",4,"ngFor","ngForOf"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"btn","btn-link",3,"click"],["aria-hidden","true",1,"fa","fa-sign-out","dash-header-icon"],["class","search-result bg-white py-5",4,"ngIf"],[2,"background-color","#46566b",3,"value"],["data-toggle","collapse","aria-expanded","true","style","cursor: pointer;",3,"class",4,"ngIf"],["data-toggle","collapse","aria-expanded","true","style","cursor: pointer;",3,"class","routerLink","click",4,"ngIf"],["data-parent","#accordion",3,"id","class",4,"ngIf"],["data-toggle","collapse","aria-expanded","true",2,"cursor","pointer"],["aria-hidden","true"],[1,"fa","fa-angle-down","fa-custom","fa-lg","fa-fw"],[1,"fa","fa-angle-up","fa-custom","fa-lg","fa-fw"],["data-toggle","collapse","aria-expanded","true",2,"cursor","pointer",3,"routerLink","click"],["data-parent","#accordion",3,"id"],[1,"card-body"],["class","mb-2",4,"ngFor","ngForOf"],[1,"mb-2"],[3,"routerLink","click"],[1,"search-result","bg-white","py-5"],[1,"container"],[1,"row"],["class","col-12 col-md-6 col-lg-4 mb-3",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","col-lg-4","mb-3"],["style","cursor: pointer;",3,"click",4,"ngIf"],[2,"cursor","pointer",3,"click"],[1,"card","w-100","text-dark",2,"width","18rem"],[1,"card-title"],[1,"text-info"],[1,"card-desc","mb-0"]],template:function(e,t){1&e&&(i.ac(0,"nav",0),i.ac(1,"a",1),i.Cc(2,"Turky"),i.Zb(),i.ac(3,"button",2),i.Wb(4,"span",3),i.Zb(),i.ac(5,"div",4),i.ac(6,"div",5),i.ac(7,"form",6),i.ac(8,"label",7),i.Cc(9),i.mc(10,"translate"),i.Zb(),i.ac(11,"div",8),i.ac(12,"input",9),i.ic("ngModelChange",(function(e){return t.name=e}))("keyup",(function(){return t.applyFilter()})),i.mc(13,"translate"),i.mc(14,"translate"),i.Zb(),i.ac(15,"div",10),i.ac(16,"div",11),i.Wb(17,"i",12),i.Zb(),i.Zb(),i.Zb(),i.Zb(),i.Zb(),i.ac(18,"div",13),i.ac(19,"div",14),i.ac(20,"h5",15),i.ac(21,"select",16),i.ic("ngModelChange",(function(e){return t.selectLang=e}))("change",(function(){return t.setTransLanguage()})),i.Bc(22,h,3,4,"option",17),i.Zb(),i.Zb(),i.Zb(),i.Zb(),i.Bc(23,y,6,6,"div",18),i.ac(24,"div",19),i.ac(25,"div",14),i.ac(26,"h5",15),i.ac(27,"button",20),i.ic("click",(function(){return t.logout()})),i.Wb(28,"i",21),i.Cc(29),i.mc(30,"translate"),i.Zb(),i.Zb(),i.Zb(),i.Zb(),i.Zb(),i.Zb(),i.Bc(31,b,4,1,"div",22)),2&e&&(i.Jb(9),i.Dc(i.nc(10,9,"search")),i.Jb(3),i.qc("title",i.nc(13,11,"title")),i.qc("placeholder",i.nc(14,13,"placeholder")),i.pc("ngModel",t.name),i.Jb(9),i.pc("ngModel",t.selectLang),i.Jb(1),i.pc("ngForOf",t.TransLang),i.Jb(1),i.pc("ngForOf",t.menus),i.Jb(6),i.Ec(" ",i.nc(30,15,"logout")," "),i.Jb(2),i.pc("ngIf",t.disabled))},directives:[c.f,l.q,l.h,l.i,l.a,l.g,l.j,l.n,r.m,r.n,l.k,l.p,c.e],pipes:[u.c,r.q,r.f],styles:[".navbar.navbar-expand-lg[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{color:#f1faee}.navbar.navbar-expand-lg[_ngcontent-%COMP%]   .sidebar-search[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%]{border-radius:30px 0 0 30px;border-right:0}.navbar.navbar-expand-lg[_ngcontent-%COMP%]   .sidebar-search[_ngcontent-%COMP%]   div.input-group-text[_ngcontent-%COMP%]{border-radius:0 30px 30px 0;background:#fff;border-left:0}.navbar.navbar-expand-lg[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:none}.navbar.navbar-expand-lg[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:0;border-radius:0!important;background:rgba(54,72,94,.92);position:relative}.navbar.navbar-expand-lg[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   button.btn-link[_ngcontent-%COMP%]{width:100%;text-align:left;color:#fff;text-decoration:none;font-weight:bolder;font-size:1.3rem;letter-spacing:.07rem}.navbar.navbar-expand-lg[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   button.btn-link[_ngcontent-%COMP%]:active, .navbar.navbar-expand-lg[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   button.btn-link[_ngcontent-%COMP%]:hover{text-decoration:none;color:#e6eff1}.navbar.navbar-expand-lg[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   button.btn-link[_ngcontent-%COMP%]   .fa-angle-down[_ngcontent-%COMP%]{display:none}.navbar.navbar-expand-lg[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   button.btn-link.collapsed[_ngcontent-%COMP%]   .fa-angle-down[_ngcontent-%COMP%], .navbar.navbar-expand-lg[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   button.btn-link[_ngcontent-%COMP%]   .fa-angle-up[_ngcontent-%COMP%]{display:block}.navbar.navbar-expand-lg[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   button.btn-link.collapsed[_ngcontent-%COMP%]   .fa-angle-up[_ngcontent-%COMP%]{display:none}@media (min-width:768px) and (max-width:991px){.navbar.navbar-expand-lg[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   button.btn-link[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width:575px){.navbar.navbar-expand-lg[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   button.btn-link[_ngcontent-%COMP%]{font-size:1rem}}.navbar.navbar-expand-lg[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   button.btn-link[_ngcontent-%COMP%]   .dash-header-icon[_ngcontent-%COMP%]{position:relative;display:inline-block;left:0;right:unset;top:0}.navbar.navbar-expand-lg[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;display:block;top:14px;color:#fff;right:10px}.navbar.navbar-expand-lg[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .custom-select-lang[_ngcontent-%COMP%]{background:rgba(54,72,94,0);border:none;color:#fff;cursor:pointer;font-size:1.2rem}.search-result[_ngcontent-%COMP%]{position:absolute;width:65vw;height:100vh;left:-65vw;top:0}@media (max-width:767px){.search-result[_ngcontent-%COMP%]{width:100vw;height:-webkit-max-content;height:-moz-max-content;height:max-content;left:0;top:0;right:0;bottom:0;z-index:999}}"]}),e}()},Kj3r:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("7o/Q"),i=n("D0XW");function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.a;return function(n){return n.lift(new a(e,t))}}var a=function(){function e(t,n){_classCallCheck(this,e),this.dueTime=t,this.scheduler=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.dueTime,this.scheduler))}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).dueTime=r,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return _createClass(n,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(u,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),n}(r.a);function u(e){e.debouncedNext()}},Kqap:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new o(e,t,n))}}var o=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.accumulator=t,this.seed=n,this.hasSeed=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return _createClass(n,[{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}},{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}}]),n}(r.a)},LRne:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[t.length-1];return Object(r.a)(a)?(t.pop(),Object(o.a)(t,a)):Object(i.a)(t)}},Lhse:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NG8C:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("2Vo4"),i=n("fXoL"),o=n("lf8/"),a=function(){var e=function(){function e(t){_classCallCheck(this,e),this.tokenService=t,this.loggedIn=new r.a(this.tokenService.loggedIn()),this.authState=this.loggedIn.asObservable()}return _createClass(e,[{key:"changeAuthStatus",value:function(e){this.loggedIn.next(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.ec(o.a))},e.\u0275prov=i.Rb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},NJ4a:function(e,t,n){"use strict";function r(e){setTimeout((function(){throw e}),0)}n.d(t,"a",(function(){return r}))},NXyV:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("HDdC"),i=n("Cfvw"),o=n("EY2u");function a(e){return new r.a((function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?Object(i.a)(n):Object(o.b)()).subscribe(t)}))}},R0Ic:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return h})),n.d(t,"j",(function(){return a})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return v}));var r=function e(){_classCallCheck(this,e)},i=function e(){_classCallCheck(this,e)},o="*";function a(e,t){return{type:7,name:e,definitions:t,options:{}}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:t,timings:e}}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:e,options:t}}function c(e){return{type:6,styles:e,offset:null}}function l(e,t,n){return{type:0,name:e,styles:t,options:n}}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:e,animation:t,options:n}}function f(e){Promise.resolve(null).then(e)}var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+n}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;f((function(){return e._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(e){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),p=function(){function e(t){var n=this;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var r=0,i=0,o=0,a=this.players.length;0==a?f((function(){return n._onFinish()})):this.players.forEach((function(e){e.onDone((function(){++r==a&&n._onFinish()})),e.onDestroy((function(){++i==a&&n._onDestroy()})),e.onStart((function(){++o==a&&n._onStart()}))})),this.totalTime=this.players.reduce((function(e,t){return Math.max(e,t.totalTime)}),0)}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(e){return e.init()}))}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(e){return e.play()}))}},{key:"pause",value:function(){this.players.forEach((function(e){return e.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(e){return e.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(e){return e.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(e){return e.destroy()})),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(e){return e.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach((function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)}))}},{key:"getPosition",value:function(){var e=0;return this.players.forEach((function(t){var n=t.getPosition();e=Math.min(n,e)})),e}},{key:"beforeDestroy",value:function(){this.players.forEach((function(e){e.beforeDestroy&&e.beforeDestroy()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),v="!"},R0sL:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("kt0X"),i=n("fXoL"),o=function(){var e={EntitiesOnly:0,Both:1,None:2};return e[e.EntitiesOnly]="EntitiesOnly",e[e.Both]="Both",e[e.None]="None",e}();function a(e){return function(t,n){var r={ids:_toConsumableArray(n.ids),entities:Object.assign({},n.entities)},i=e(t,r);return i===o.Both?Object.assign({},n,r):i===o.EntitiesOnly?Object.assign(Object.assign({},n),{entities:r.entities}):n}}function s(e,t){var n=t(e);return Object(i.cb)()&&void 0===n&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",e,"The `selectId` implementation:",t.toString()),n}function u(e){function t(t,n){var r=s(t,e);return r in n.entities?o.None:(n.ids.push(r),n.entities[r]=t,o.Both)}function n(e,n){var r,i=!1,a=_createForOfIteratorHelper(e);try{for(a.s();!(r=a.n()).done;){i=t(r.value,n)!==o.None||i}}catch(s){a.e(s)}finally{a.f()}return i?o.Both:o.None}function r(e,t){return t.ids=[],t.entities={},n(e,t),o.Both}function i(e,t){var n=(e instanceof Array?e:t.ids.filter((function(n){return e(t.entities[n])}))).filter((function(e){return e in t.entities})).map((function(e){return delete t.entities[e]})).length>0;return n&&(t.ids=t.ids.filter((function(e){return e in t.entities}))),n?o.Both:o.None}function u(e,t){return c([e],t)}function c(t,n){var r={};return(t=t.filter((function(e){return e.id in n.entities}))).length>0?t.filter((function(t){return function(t,n,r){var i=Object.assign({},r.entities[n.id],n.changes),o=s(i,e),a=o!==n.id;return a&&(t[n.id]=o,delete r.entities[n.id]),r.entities[o]=i,a}(r,t,n)})).length>0?(n.ids=n.ids.map((function(e){return r[e]||e})),o.Both):o.EntitiesOnly:o.None}function l(t,r){var i,a=[],u=[],l=_createForOfIteratorHelper(t);try{for(l.s();!(i=l.n()).done;){var h=i.value,f=s(h,e);f in r.entities?u.push({id:f,changes:h}):a.push(h)}}catch(v){l.e(v)}finally{l.f()}var d=c(u,r),p=n(a,r);switch(!0){case p===o.None&&d===o.None:return o.None;case p===o.Both||d===o.Both:return o.Both;default:return o.EntitiesOnly}}return{removeAll:function(e){return Object.assign({},e,{ids:[],entities:{}})},addOne:a(t),addMany:a(n),addAll:a(r),setAll:a(r),setOne:a((function(t,n){var r=s(t,e);return r in n.entities?(n.entities[r]=t,o.EntitiesOnly):(n.ids.push(r),n.entities[r]=t,o.Both)})),updateOne:a(u),updateMany:a(c),upsertOne:a((function(e,t){return l([e],t)})),upsertMany:a(l),removeOne:a((function(e,t){return i([e],t)})),removeMany:a(i),map:a((function(e,t){return c(t.ids.reduce((function(n,r){var i=e(t.entities[r]);return i!==t.entities[r]&&n.push({id:r,changes:i}),n}),[]).filter((function(e){return e.id in t.entities})),t)})),mapOne:a((function(e,t){var n=e.map,r=e.id,i=t.entities[r];return i?u({id:r,changes:n(i)},t):o.None}))}}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({sortComparer:!1,selectId:function(e){return e.id}},e),n=t.selectId,i=t.sortComparer,c={getInitialState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({ids:[],entities:{}},e)}},l={getSelectors:function(e){var t=function(e){return e.ids},n=function(e){return e.entities},i=Object(r.q)(t,n,(function(e,t){return e.map((function(e){return t[e]}))})),o=Object(r.q)(t,(function(e){return e.length}));return e?{selectIds:Object(r.q)(e,t),selectEntities:Object(r.q)(e,n),selectAll:Object(r.q)(e,i),selectTotal:Object(r.q)(e,o)}:{selectIds:t,selectEntities:n,selectAll:i,selectTotal:o}}},h=i?function(e,t){var n=u(e);function r(e,t){return i([e],t)}function i(t,n){var r=t.filter((function(t){return!(s(t,e)in n.entities)}));return 0===r.length?o.None:(d(r,n),o.Both)}function c(e,t){return t.entities={},t.ids=[],i(e,t),o.Both}function l(e,t){return h([e],t)}function h(t,n){var r=[],i=t.filter((function(t){return function(t,n,r){if(!(n.id in r.entities))return!1;var i=Object.assign({},r.entities[n.id],n.changes),o=s(i,e);return delete r.entities[n.id],t.push(i),o!==n.id}(r,t,n)})).length>0;if(0===r.length)return o.None;var a=n.ids,u=[];return n.ids=n.ids.filter((function(e,t){return e in n.entities||(u.push(t),!1)})),d(r,n),!i&&u.every((function(e){return n.ids[e]===a[e]}))?o.EntitiesOnly:o.Both}function f(t,n){var r,a=[],u=[],c=_createForOfIteratorHelper(t);try{for(c.s();!(r=c.n()).done;){var l=r.value,f=s(l,e);f in n.entities?u.push({id:f,changes:l}):a.push(l)}}catch(v){c.e(v)}finally{c.f()}var d=h(u,n),p=i(a,n);switch(!0){case p===o.None&&d===o.None:return o.None;case p===o.Both||d===o.Both:return o.Both;default:return o.EntitiesOnly}}function d(n,r){n.sort(t);for(var i=[],o=0,a=0;o<n.length&&a<r.ids.length;){var u=n[o],c=s(u,e),l=r.ids[a];t(u,r.entities[l])<=0?(i.push(c),o++):(i.push(l),a++)}r.ids=i.concat(o<n.length?n.slice(o).map(e):r.ids.slice(a)),n.forEach((function(t,n){r.entities[e(t)]=t}))}return{removeOne:n.removeOne,removeMany:n.removeMany,removeAll:n.removeAll,addOne:a(r),updateOne:a(l),upsertOne:a((function(e,t){return f([e],t)})),addAll:a(c),setAll:a(c),setOne:a((function(t,n){var i=s(t,e);return i in n.entities?(n.ids=n.ids.filter((function(e){return e!==i})),d([t],n),o.Both):r(t,n)})),addMany:a(i),updateMany:a(h),upsertMany:a(f),map:a((function(e,t){return h(t.ids.reduce((function(n,r){var i=e(t.entities[r]);return i!==t.entities[r]&&n.push({id:r,changes:i}),n}),[]),t)})),mapOne:a((function(e,t){var n=e.map,r=e.id,i=t.entities[r];return i?l({id:r,changes:n(i)},t):o.None}))}}(n,i):u(n);return Object.assign(Object.assign(Object.assign({selectId:n,sortComparer:i},c),l),h)}},SXPc:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("fXoL"),i=n("lf8/"),o=n("NG8C"),a=n("tyNb"),s=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.tokenService=t,this.authService=n,this.router=r}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.authService.authState.subscribe((function(t){return e.loggedIn=t}))}},{key:"logout",value:function(){this.tokenService.deleteToken(),this.authService.changeAuthStatus(!1),this.router.navigate(["/login"])}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Vb(i.a),r.Vb(o.a),r.Vb(a.d))},e.\u0275cmp=r.Pb({type:e,selectors:[["app-footer"]],decls:6,vars:0,consts:[[1,"bg-light","p-3"],[1,"container","text-center"],[1,"mb-0"],["href","https://yes-soft.de/",1,"text-primary"]],template:function(e,t){1&e&&(r.ac(0,"footer",0),r.ac(1,"div",1),r.ac(2,"p",2),r.Cc(3,"Powered By "),r.ac(4,"a",3),r.Cc(5,"Yes Soft"),r.Zb(),r.Zb(),r.Zb(),r.Zb())},styles:["footer[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;width:100%}a[_ngcontent-%COMP%]{text-decoration:none}a[_ngcontent-%COMP%]:hover{color:#3498db}"]}),e}()},SeVD:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),a=n("kJWO"),s=n("I55L"),u=n("c2HN"),c=n("XoHu"),l=function(e){if(e&&"function"==typeof e[a.a])return l=e,function(e){var t=l[a.a]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Object(s.a)(e))return Object(r.a)(e);if(Object(u.a)(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,i.a),e};if(e&&"function"==typeof e[o.a])return t=e,function(e){for(var n=t[o.a]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,l,h=Object(c.a)(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(h," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(e,t,n){"use strict";function r(e){return e}n.d(t,"a",(function(){return r}))},SxV6:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("sVev"),i=n("pLZG"),o=n("IzEk"),a=n("xbPD"),s=n("XDbj"),u=n("SpAZ");function c(e,t){var n=arguments.length>=2;return function(c){return c.pipe(e?Object(i.a)((function(t,n){return e(t,n,c)})):u.a,Object(o.a)(1),n?Object(a.a)(t):Object(s.a)((function(){return new r.a})))}}},UXun:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("jtHE");function i(e,t,n){var i;return i=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},function(e){return e.lift(function(e){var t,n,i=e.bufferSize,o=void 0===i?Number.POSITIVE_INFINITY:i,a=e.windowTime,s=void 0===a?Number.POSITIVE_INFINITY:a,u=e.refCount,c=e.scheduler,l=0,h=!1,f=!1;return function(e){l++,t&&!h||(h=!1,t=new r.a(o,s,c),n=e.subscribe({next:function(e){t.next(e)},error:function(e){h=!0,t.error(e)},complete:function(){f=!0,n=void 0,t.complete()}}));var i=t.subscribe(this);this.add((function(){l--,i.unsubscribe(),n&&!f&&u&&0===l&&(n.unsubscribe(),n=void 0,t=void 0)}))}}(i))}}},VRyK:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),a=n("yCtX");function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var s=Number.POSITIVE_INFINITY,u=null,c=t[t.length-1];return Object(i.a)(c)?(u=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(s=t.pop())):"number"==typeof c&&(s=t.pop()),null===u&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(s)(Object(a.a)(t,u))}},WMd4:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("EY2u"),i=n("LRne"),o=n("z6cu"),a=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.kind=t,this.value=n,this.error=r,this.hasValue="N"===t}return _createClass(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}();return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},XDbj:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("sVev"),i=n("7o/Q");function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return function(t){return t.lift(new a(e))}}var a=function(){function e(t){_classCallCheck(this,e),this.errorFactory=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.errorFactory))}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).errorFactory=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}]),n}(i.a);function u(){return new r.a}},XNiG:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),a=n("9ppp"),s=n("Ylt2"),u=n("2QA8"),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).destination=e,r}return n}(i.a),l=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _createClass(n,[{key:u.a,value:function(){return new c(this)}},{key:"lift",value:function(e){var t=new h(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new a.a;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new a.a;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new a.a;return this.hasError?(e.error(this.thrownError),o.a.EMPTY):this.isStopped?(e.complete(),o.a.EMPTY):(this.observers.push(e),new s.a(this,e))}},{key:"asObservable",value:function(){var e=new r.a;return e.source=this,e}}]),n}(r.a);return e.create=function(e,t){return new h(e,t)},e}(),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).destination=e,i.source=r,i}return _createClass(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):o.a.EMPTY}}]),n}(l)},XoHu:function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,"a",(function(){return r}))},XqQ8:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("l7GE"),i=n("51Dv"),o=n("ZUHj"),a=n("lJxs"),s=n("Cfvw");function u(e,t){return t?function(n){return n.pipe(u((function(n,r){return Object(s.a)(e(n,r)).pipe(Object(a.a)((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new c(e))}}var c=function(){function e(t){_classCallCheck(this,e),this.project=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new l(e,this.project))}}]),e}(),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){this.hasSubscription||this.tryNext(e)}},{key:"tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.hasSubscription=!0,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=new i.a(this,t,n),a=this.destination;a.add(r);var s=Object(o.a)(this,e,void 0,void 0,r);s!==r&&a.add(s)}},{key:"_complete",value:function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}]),n}(r.a)},YYeE:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n("ofXK"),i=n("tyNb"),o=n("fXoL"),a=n("lf8/"),s=n("NG8C"),u=n("5KT8"),c=n("sYmb"),l=n("3Pt+");function h(e,t){if(1&e&&(o.ac(0,"option",23),o.Cc(1),o.mc(2,"titlecase"),o.Zb()),2&e){var n=t.$implicit;o.qc("value",n),o.Jb(1),o.Dc(o.nc(2,2,n))}}function f(e,t){if(1&e&&(o.ac(0,"button",27),o.Wb(1,"i",28),o.Cc(2),o.mc(3,"translate"),o.Wb(4,"i",29),o.Wb(5,"i",30),o.Zb()),2&e){var n=o.lc(),r=n.$implicit;o.Mb("btn btn-link ",0!=n.index?"collapsed":"",""),o.Kb("data-target","#"+r.id)("aria-controls",r.id),o.Jb(1),o.Mb("",r.icon," dash-header-icon"),o.Jb(1),o.Ec(" ",o.nc(3,9,r.translate)," ")}}function d(e,t){if(1&e&&(o.ac(0,"button",31),o.Wb(1,"i",28),o.Cc(2),o.mc(3,"translate"),o.Zb()),2&e){var n=o.lc(),r=n.$implicit;o.Mb("btn btn-link ",0!=n.index?"collapsed":"",""),o.qc("routerLink",r.link),o.Kb("data-target","#"+r.id)("aria-controls",r.id),o.Jb(1),o.Mb("",r.icon," dash-header-icon"),o.Jb(1),o.Ec(" ",o.nc(3,10,r.translate)," ")}}function p(e,t){if(1&e){var n=o.bc();o.ac(0,"p",35),o.ac(1,"a",36),o.ic("click",(function(){o.wc(n);var e=t.$implicit;return o.lc(4).clicked(e.value)})),o.Cc(2),o.mc(3,"translate"),o.Zb(),o.Zb()}if(2&e){var r=t.$implicit;o.Jb(1),o.qc("routerLink",r.link),o.Jb(1),o.Dc(o.nc(3,2,r.translate))}}function v(e,t){if(1&e&&(o.ac(0,"div",32),o.ac(1,"div",33),o.Bc(2,p,4,4,"p",34),o.Zb(),o.Zb()),2&e){var n=o.lc(),r=n.index,i=n.$implicit;o.Mb("collapse bg-light-blue text-white ",0==r?"show":"",""),o.qc("id",i.id),o.Kb("aria-labelledby",i.id+"-"+r),o.Jb(2),o.pc("ngForOf",i.children)}}function y(e,t){if(1&e&&(o.ac(0,"div",20),o.ac(1,"div",15),o.ac(2,"h5",16),o.Bc(3,f,6,11,"button",24),o.Bc(4,d,4,12,"button",25),o.Zb(),o.Zb(),o.Bc(5,v,3,6,"div",26),o.Zb()),2&e){var n=t.$implicit,r=t.index,i=o.lc(2);o.Jb(1),o.Nb("d-none","admins"==n.id&&!i.isSuperAdmin),o.Kb("id",n.id?n.id+"-"+r:""),o.Jb(2),o.pc("ngIf",n.id),o.Jb(1),o.pc("ngIf",!n.id),o.Jb(1),o.pc("ngIf",n.id)}}function g(e,t){if(1&e){var n=o.bc();o.ac(0,"div",2),o.ac(1,"div",3),o.ac(2,"form",4),o.ac(3,"label",5),o.Cc(4),o.mc(5,"translate"),o.Zb(),o.ac(6,"div",6),o.ac(7,"input",7),o.ic("ngModelChange",(function(e){return o.wc(n),o.lc().name=e}))("keyup",(function(){return o.wc(n),o.lc().applyFilter()})),o.mc(8,"translate"),o.mc(9,"translate"),o.Zb(),o.ac(10,"div",8),o.ac(11,"div",9),o.Wb(12,"i",10),o.Zb(),o.Zb(),o.Zb(),o.Zb(),o.Zb(),o.ac(13,"div",11),o.ac(14,"div",12),o.ac(15,"div",13),o.ac(16,"div",14),o.ac(17,"div",15),o.ac(18,"h5",16),o.ac(19,"select",17),o.ic("ngModelChange",(function(e){return o.wc(n),o.lc().selectLang=e}))("change",(function(){return o.wc(n),o.lc().setTransLanguage()})),o.Bc(20,h,3,4,"option",18),o.Zb(),o.Zb(),o.Zb(),o.Zb(),o.Bc(21,y,6,6,"div",19),o.ac(22,"div",20),o.ac(23,"div",15),o.ac(24,"h5",16),o.ac(25,"button",21),o.ic("click",(function(){return o.wc(n),o.lc().logout()})),o.Wb(26,"i",22),o.Cc(27),o.mc(28,"translate"),o.Zb(),o.Zb(),o.Zb(),o.Zb(),o.Zb(),o.Zb(),o.Zb(),o.Zb()}if(2&e){var r=o.lc();o.Jb(4),o.Dc(o.nc(5,8,"search")),o.Jb(3),o.qc("title",o.nc(8,10,"title")),o.qc("placeholder",o.nc(9,12,"placeholder")),o.pc("ngModel",r.name),o.Jb(12),o.pc("ngModel",r.selectLang),o.Jb(1),o.pc("ngForOf",r.TransLang),o.Jb(1),o.pc("ngForOf",r.menus),o.Jb(6),o.Ec(" ",o.nc(28,14,"logout")," ")}}function m(e,t){if(1&e){var n=o.bc();o.ac(0,"a",42),o.ic("click",(function(){o.wc(n);var e=o.lc().$implicit;return o.lc(2).select(e.id)})),o.ac(1,"div",43),o.ac(2,"div",33),o.ac(3,"h5",44),o.Cc(4,"#ID : "),o.ac(5,"span",45),o.Cc(6),o.Zb(),o.Zb(),o.ac(7,"h5",46),o.Cc(8),o.mc(9,"translate"),o.ac(10,"span",45),o.Cc(11),o.Zb(),o.Zb(),o.ac(12,"p",46),o.Cc(13),o.mc(14,"translate"),o.ac(15,"span",45),o.Cc(16),o.Zb(),o.Zb(),o.ac(17,"p",46),o.Cc(18),o.mc(19,"translate"),o.ac(20,"span",45),o.Cc(21),o.mc(22,"date"),o.Zb(),o.Zb(),o.Zb(),o.Zb(),o.Zb()}if(2&e){var r=o.lc().$implicit;o.Jb(6),o.Dc(r.id),o.Jb(2),o.Ec("",o.nc(9,7,"recipient-name")," : "),o.Jb(3),o.Dc(r.recipientName),o.Jb(2),o.Ec("",o.nc(14,9,"state")," : "),o.Jb(3),o.Dc(r.state),o.Jb(2),o.Ec("",o.nc(19,11,"date")," : "),o.Jb(3),o.Dc(o.oc(22,13,1e3*r.date.timestamp,"yyyy-MM-dd"))}}function _(e,t){if(1&e){var n=o.bc();o.ac(0,"a",42),o.ic("click",(function(){o.wc(n);var e=o.lc().$implicit;return o.lc(2).select(e.orderID)})),o.ac(1,"div",43),o.ac(2,"div",33),o.ac(3,"h5",44),o.Cc(4,"#ID : "),o.ac(5,"span",45),o.Cc(6),o.Zb(),o.Zb(),o.ac(7,"h5",46),o.Cc(8),o.mc(9,"translate"),o.ac(10,"span",45),o.Cc(11),o.Zb(),o.Zb(),o.ac(12,"p",46),o.Cc(13),o.mc(14,"translate"),o.ac(15,"span",45),o.Cc(16),o.Zb(),o.Zb(),o.ac(17,"p",46),o.Cc(18),o.mc(19,"translate"),o.ac(20,"span",45),o.Cc(21),o.mc(22,"date"),o.Zb(),o.Zb(),o.Zb(),o.Zb(),o.Zb()}if(2&e){var r=o.lc().$implicit;o.Jb(6),o.Dc(r.orderID),o.Jb(2),o.Ec("",o.nc(9,7,"recipient-name")," : "),o.Jb(3),o.Dc(r.recipientName),o.Jb(2),o.Ec("",o.nc(14,9,"state")," : "),o.Jb(3),o.Dc(r.state),o.Jb(2),o.Ec("",o.nc(19,11,"date")," : "),o.Jb(3),o.Dc(o.oc(22,13,1e3*r.orderDate.timestamp,"yyyy-MM-dd"))}}function b(e,t){if(1&e&&(o.ac(0,"div",40),o.Bc(1,m,23,16,"a",41),o.Bc(2,_,23,16,"a",41),o.Zb()),2&e){var n=t.$implicit;o.Jb(1),o.pc("ngIf",n.id),o.Jb(1),o.pc("ngIf",n.orderID)}}function C(e,t){if(1&e&&(o.ac(0,"div",37),o.ac(1,"div",12),o.ac(2,"div",38),o.Bc(3,b,3,2,"div",39),o.Zb(),o.Zb(),o.Zb()),2&e){var n=o.lc();o.Jb(3),o.pc("ngForOf",n.ordersListFilter)}}var w=function(){var e=function(){function e(t,n,r,i,o,a,s,u){_classCallCheck(this,e),this.tokenService=t,this.authService=n,this.layoutService=r,this.translate=i,this.router=o,this.datePipe=a,this.document=s,this.render=u,this.orders=[],this.ordersListFilter=[],this.disabled=!1,this.selectLang="",this.TransLang=[],i.setDefaultLang("en"),i.addLangs(["en","ar"]),this.selectLang="en",i.use("en")}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.getTransLanguage(),this.authService.authState.subscribe((function(t){return e.loggedIn=t})),this.isSuperAdmin=this.tokenService.isSuperAdmin(),this.router.events.subscribe((function(t){t instanceof i.b&&e.isElementExists()}))}},{key:"setTransLanguage",value:function(){var e=this;console.log("set new language",this.selectLang);var t=this.document.querySelector("html");this.document.querySelector(".search-result"),this.isElementExists(),"ar"==this.selectLang?(this.render.setStyle(t,"direction","rtl"),this.render.setStyle(this.document.querySelector(".main-sidebar"),"right","0"),this.document.querySelectorAll(".btn.btn-link").forEach((function(t){e.render.setStyle(t,"text-align","right")})),this.document.querySelectorAll(".fa-custom").forEach((function(t){e.render.setStyle(t,"right","unset"),e.render.setStyle(t,"left","10px")})),this.render.setStyle(this.document.querySelector(".custom-search-form"),"direction","ltr"),this.render.setStyle(this.document.querySelector(".input-group-prepend"),"display","flex"),this.render.addClass(this.document.querySelector(".input-group-text"),"input-group-text-custom"),this.document.querySelectorAll("link").forEach((function(e,t,n){e.href.search("bootstrap.min.css")>0&&(e.href="assets/css/bootstrap-rtl.min.css",e.removeAttribute("integrity"),e.removeAttribute("crossorigin"))}))):(this.render.setStyle(t,"direction","ltr"),this.render.setStyle(this.document.querySelector(".main-sidebar"),"right","0"),this.document.querySelectorAll(".btn.btn-link").forEach((function(t){e.render.setStyle(t,"text-align","left")})),this.document.querySelectorAll(".fa-custom").forEach((function(t){e.render.setStyle(t,"right","10px"),e.render.setStyle(t,"left","unset")})),this.render.removeClass(this.document.querySelector(".input-group-text"),"input-group-text-custom"),this.document.querySelectorAll("link").forEach((function(e,t,n){e.href.search("bootstrap-rtl.min.css")>0&&(e.href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css",e.setAttribute("integrity","sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"),e.setAttribute("crossorigin","anonymous"))}))),this.translate.use(this.selectLang)}},{key:"getTransLanguage",value:function(){this.TransLang=_toConsumableArray(this.translate.getLangs())}},{key:"logout",value:function(){this.tokenService.deleteToken(),this.authService.changeAuthStatus(!1),this.router.navigate(["/login"])}},{key:"clicked",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&(this.layoutService.changeLayout(e),this.router.navigate(["/"]))}},{key:"select",value:function(e){this.disabled=!1,this.render.setProperty(this.document.getElementById("inlineFormInputGroupUsername2"),"value",""),this.router.navigate(["/orders/view/",e])}},{key:"onKeydownHandler",value:function(e){this.disabled=!1,this.render.setProperty(this.document.getElementById("inlineFormInputGroupUsername2"),"value","")}},{key:"checkSearchDivExists",value:function(){}},{key:"isElementExists",value:function(){var e=this;if("ar"==this.selectLang)var t=0,n=setInterval((function(r,i){t++;var o=e.document.querySelector(".lds-ring");console.log("run"),o&&(e.render.setStyle(e.document.querySelector(".lds-ring"),"left","33.3%"),e.render.setStyle(e.document.querySelector(".lds-ring"),"right","unset"),clearInterval(n)),500==t&&clearInterval(n)}),10)}},{key:"applyFilter",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Vb(a.a),o.Vb(s.a),o.Vb(u.a),o.Vb(c.d),o.Vb(i.d),o.Vb(r.f),o.Vb(r.e),o.Vb(o.K))},e.\u0275cmp=o.Pb({type:e,selectors:[["app-sidebar"]],hostBindings:function(e,t){1&e&&o.ic("keydown.escape",(function(e){return t.onKeydownHandler(e)}),!1,o.vc)},inputs:{menus:"menus"},features:[o.Ib([r.f])],decls:2,vars:2,consts:[["class","main-sidebar bg-light-blue",4,"ngIf"],["class","search-result bg-white py-5",4,"ngIf"],[1,"main-sidebar","bg-light-blue"],[1,"sidebar-search","p-3"],[1,"form-inline","custom-search-form",2,"visibility","hidden"],["for","inlineFormInputGroupUsername2",1,"sr-only"],[1,"w-100","input-group","mb-2","mr-sm-2"],["type","text","id","inlineFormInputGroupUsername2","name","search",1,"form-control",3,"ngModel","title","placeholder","ngModelChange","keyup"],[1,"input-group-prepend"],[1,"input-group-text","input-group-text-custom"],["aria-hidden","true",1,"fa","fa-search","fa-fw","text-muted"],[1,"sidebar-menu","py-5"],[1,"container"],["id","accordion"],[1,"card","mb-3"],[1,"card-header"],[1,"mb-0"],["name","selectLang",1,"form-control","custom-select-lang",3,"ngModel","ngModelChange","change"],["style","background-color: #46566b","class","options",3,"value",4,"ngFor","ngForOf"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"btn","btn-link",2,"cursor","pointer",3,"click"],["aria-hidden","true",1,"fa","fa-sign-out","dash-header-icon"],[1,"options",2,"background-color","#46566b",3,"value"],["data-toggle","collapse","aria-expanded","true","style","cursor: pointer;",3,"class",4,"ngIf"],["data-toggle","collapse","aria-expanded","true","style","cursor: pointer;",3,"class","routerLink",4,"ngIf"],["data-parent","#accordion",3,"id","class",4,"ngIf"],["data-toggle","collapse","aria-expanded","true",2,"cursor","pointer"],["aria-hidden","true"],[1,"fa","fa-angle-down","fa-custom","fa-lg","fa-fw"],[1,"fa","fa-angle-up","fa-custom","fa-lg","fa-fw"],["data-toggle","collapse","aria-expanded","true",2,"cursor","pointer",3,"routerLink"],["data-parent","#accordion",3,"id"],[1,"card-body"],["class","mb-2",4,"ngFor","ngForOf"],[1,"mb-2"],[3,"routerLink","click"],[1,"search-result","bg-white","py-5"],[1,"row"],["class","col-12 col-md-6 col-lg-4 mb-3",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","col-lg-4","mb-3"],["style","cursor: pointer;",3,"click",4,"ngIf"],[2,"cursor","pointer",3,"click"],[1,"card","w-100","text-dark",2,"width","18rem"],[1,"card-title"],[1,"text-info"],[1,"card-desc","mb-0"]],template:function(e,t){1&e&&(o.Bc(0,g,29,16,"div",0),o.Bc(1,C,4,1,"div",1)),2&e&&(o.pc("ngIf",t.loggedIn),o.Jb(1),o.pc("ngIf",t.disabled))},directives:[r.n,l.q,l.h,l.i,l.a,l.g,l.j,l.n,r.m,l.k,l.p,i.e,i.f],pipes:[c.c,r.q,r.f],styles:[".main-sidebar[_ngcontent-%COMP%]{height:100vh;overflow-y:scroll;overflow-x:hidden;position:fixed;left:0;width:34.3%;z-index:1}@media (min-width:1200px){.main-sidebar[_ngcontent-%COMP%]{width:24.5%}}.main-sidebar[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}.main-sidebar[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.main-sidebar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888}.main-sidebar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.main-sidebar[_ngcontent-%COMP%]   .sidebar-search[_ngcontent-%COMP%]{box-shadow:1px 0 15px hsla(0,0%,100%,.2784313725490196)}.main-sidebar[_ngcontent-%COMP%]   .sidebar-search[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%]{border-radius:30px 0 0 30px;border-right:0}.main-sidebar[_ngcontent-%COMP%]   .sidebar-search[_ngcontent-%COMP%]   div.input-group-text[_ngcontent-%COMP%]{border-radius:0 30px 30px 0;background:#fff;border-left:0}.main-sidebar[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:none}.main-sidebar[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:0;border-radius:0!important;background:rgba(54,72,94,.92);position:relative}.main-sidebar[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   button.btn-link[_ngcontent-%COMP%]{width:100%;text-align:left;color:#fff;text-decoration:none;font-weight:bolder;font-size:1.3rem;letter-spacing:.07rem}.main-sidebar[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   button.btn-link[_ngcontent-%COMP%]:active, .main-sidebar[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   button.btn-link[_ngcontent-%COMP%]:hover{text-decoration:none;color:#a6a7a9}.main-sidebar[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   button.btn-link[_ngcontent-%COMP%]   .fa-angle-down[_ngcontent-%COMP%]{display:none}.main-sidebar[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   button.btn-link.collapsed[_ngcontent-%COMP%]   .fa-angle-down[_ngcontent-%COMP%], .main-sidebar[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   button.btn-link[_ngcontent-%COMP%]   .fa-angle-up[_ngcontent-%COMP%]{display:block}.main-sidebar[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   button.btn-link.collapsed[_ngcontent-%COMP%]   .fa-angle-up[_ngcontent-%COMP%]{display:none}@media (min-width:768px) and (max-width:991px){.main-sidebar[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   button.btn-link[_ngcontent-%COMP%]{font-size:1.1rem}}.main-sidebar[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   button.btn-link[_ngcontent-%COMP%]   .dash-header-icon[_ngcontent-%COMP%]{position:relative;display:inline-block;left:0;right:unset;top:0}.main-sidebar[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;display:block;top:14px;color:#fff;right:10px}.main-sidebar[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .custom-select-lang[_ngcontent-%COMP%]{background:rgba(54,72,94,0);border:none;color:#fff;cursor:pointer;font-size:1.2rem}.search-result[_ngcontent-%COMP%]{position:absolute;width:65vw;height:100vh;left:-65vw;top:0}@media (min-width:768px) and (max-width:991px){.search-result[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.1rem}}@media (min-width:576px) and (max-width:767px){.search-result[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1rem}}@media (min-width:576px) and (max-width:991px){.search-result[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}}"]}),e}()},Ylt2:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).subject=e,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(n("quSY").a)},ZUHj:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function a(e,t,n,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new r.a(e,n,a);if(!s.closed)return t instanceof o.a?t.subscribe(s):Object(i.a)(t)(s)}},agSv:function agSv(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return StoreDevtoolsModule}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("kt0X"),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("EY2u"),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("HDdC"),rxjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("LRne"),rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("VRyK"),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("qgXg"),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("jtHE"),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("w1tV"),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("pLZG"),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("lJxs"),rxjs_operators__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("bOdf"),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("tS1D"),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("Kj3r"),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("JIr8"),rxjs_operators__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("IzEk"),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("1G5W"),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("eIep"),rxjs_operators__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("zP0r"),rxjs_operators__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("pxpQ"),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("zp1y"),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("Kqap");function DevToolsFeatureOptions(){}var StoreDevtoolsConfig=function e(){_classCallCheck(this,e),this.maxAge=!1},STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.t("@ngrx/devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.t("@ngrx/devtools Initial Config");function noMonitor(){return null}var DEFAULT_NAME="NgRx Store DevTools";function createConfig(e){var t={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},n="function"==typeof e?e():e,r=Object.assign({},t,{features:n.features||!!n.logOnly&&{pause:!0,export:!0,test:!0}||t.features},n);if(r.maxAge&&r.maxAge<2)throw new Error("Devtools 'maxAge' cannot be less than 2, got "+r.maxAge);return r}var PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING",PerformAction=function e(t,n){if(_classCallCheck(this,e),this.action=t,this.timestamp=n,this.type=PERFORM_ACTION,void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')},Refresh=function e(){_classCallCheck(this,e),this.type=REFRESH},Reset=function e(t){_classCallCheck(this,e),this.timestamp=t,this.type=RESET},Rollback=function e(t){_classCallCheck(this,e),this.timestamp=t,this.type=ROLLBACK},Commit=function e(t){_classCallCheck(this,e),this.timestamp=t,this.type=COMMIT},Sweep=function e(){_classCallCheck(this,e),this.type=SWEEP},ToggleAction=function e(t){_classCallCheck(this,e),this.id=t,this.type=TOGGLE_ACTION},SetActionsActive=function e(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];_classCallCheck(this,e),this.start=t,this.end=n,this.active=r,this.type=SET_ACTIONS_ACTIVE},JumpToState=function e(t){_classCallCheck(this,e),this.index=t,this.type=JUMP_TO_STATE},JumpToAction=function e(t){_classCallCheck(this,e),this.actionId=t,this.type=JUMP_TO_ACTION},ImportState=function e(t){_classCallCheck(this,e),this.nextLiftedState=t,this.type=IMPORT_STATE},LockChanges=function e(t){_classCallCheck(this,e),this.status=t,this.type=LOCK_CHANGES},PauseRecording=function e(t){_classCallCheck(this,e),this.status=t,this.type=PAUSE_RECORDING},DevtoolsDispatcher=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.a);return e.\u0275fac=function(t){return \u0275DevtoolsDispatcher_BaseFactory(t||e)},e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb({token:e,factory:e.\u0275fac}),e}(),\u0275DevtoolsDispatcher_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(DevtoolsDispatcher);function difference(e,t){return e.filter((function(e){return t.indexOf(e)<0}))}function unliftState(e){var t=e.computedStates,n=e.currentStateIndex;return n>=t.length?t[t.length-1].state:t[n].state}function unliftAction(e){return e.actionsById[e.nextActionId-1]}function liftAction(e){return new PerformAction(e,+Date.now())}function sanitizeActions(e,t){return Object.keys(t).reduce((function(n,r){var i=Number(r);return n[i]=sanitizeAction(e,t[i],i),n}),{})}function sanitizeAction(e,t,n){return Object.assign(Object.assign({},t),{action:e(t.action,n)})}function sanitizeStates(e,t){return t.map((function(t,n){return{state:sanitizeState(e,t.state,n),error:t.error}}))}function sanitizeState(e,t,n){return e(t,n)}function shouldFilterActions(e){return e.predicate||e.actionsSafelist||e.actionsBlocklist}function filterLiftedState(e,t,n,r){var i=[],o={},a=[];return e.stagedActionIds.forEach((function(s,u){var c=e.actionsById[s];c&&(u&&isActionFiltered(e.computedStates[u],c,t,n,r)||(o[s]=c,i.push(s),a.push(e.computedStates[u])))})),Object.assign(Object.assign({},e),{stagedActionIds:i,actionsById:o,computedStates:a})}function isActionFiltered(e,t,n,r,i){var o=n&&!n(e,t.action),a=r&&!t.action.type.match(r.map((function(e){return escapeRegExp(e)})).join("|")),s=i&&t.action.type.match(i.map((function(e){return escapeRegExp(e)})).join("|"));return o||a||s}function escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.t("Redux Devtools Extension");function ReduxDevtoolsExtensionConnection(){}function ReduxDevtoolsExtensionConfig(){}function ReduxDevtoolsExtension(){}var DevtoolsExtension=function(){var DevtoolsExtension=function(){function DevtoolsExtension(e,t,n){_classCallCheck(this,DevtoolsExtension),this.config=t,this.dispatcher=n,this.devtoolsExtension=e,this.createActionStreams()}return _createClass(DevtoolsExtension,[{key:"notify",value:function(e,t){var n=this;if(this.devtoolsExtension)if(e.type===PERFORM_ACTION){if(t.isLocked||t.isPaused)return;var r=unliftState(t);if(shouldFilterActions(this.config)&&isActionFiltered(r,e,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;var i=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,r,t.currentStateIndex):r,o=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,e,t.nextActionId):e;this.sendToReduxDevtools((function(){return n.extensionConnection.send(o,i)}))}else{var a=Object.assign(Object.assign({},t),{stagedActionIds:t.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,t.actionsById):t.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,t.computedStates):t.computedStates});this.sendToReduxDevtools((function(){return n.devtoolsExtension.send(null,a,n.getExtensionConfig(n.config))}))}}},{key:"createChangesObservable",value:function(){var e=this;return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.a((function(t){var n=e.devtoolsExtension.connect(e.getExtensionConfig(e.config));return e.extensionConnection=n,n.init(),n.subscribe((function(e){return t.next(e)})),n.unsubscribe})):Object(rxjs__WEBPACK_IMPORTED_MODULE_2__.b)()}},{key:"createActionStreams",value:function(){var e=this,t=this.createChangesObservable().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.a)()),n=t.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)((function(e){return e.type===ExtensionActionTypes.START}))),r=t.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)((function(e){return e.type===ExtensionActionTypes.STOP}))),i=t.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)((function(e){return e.type===ExtensionActionTypes.DISPATCH})),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)((function(t){return e.unwrapAction(t.payload)})),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.a)((function(t){return t.type===IMPORT_STATE?e.dispatcher.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)((function(e){return e.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.l})),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.a)(1e3),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.a)(1e3),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)((function(){return t})),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.a)((function(){return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__.a)(t)})),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.a)(1)):Object(rxjs__WEBPACK_IMPORTED_MODULE_4__.a)(t)}))),o=t.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)((function(e){return e.type===ExtensionActionTypes.ACTION})),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)((function(t){return e.unwrapAction(t.payload)}))).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.a)(r)),a=i.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.a)(r));this.start$=n.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.a)(r)),this.actions$=this.start$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.a)((function(){return o}))),this.liftedActions$=this.start$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.a)((function(){return a})))}},{key:"unwrapAction",value:function unwrapAction(action){return"string"==typeof action?eval("(".concat(action,")")):action}},{key:"getExtensionConfig",value:function(e){var t={name:e.name,features:e.features,serialize:e.serialize};return!1!==e.maxAge&&(t.maxAge=e.maxAge),t}},{key:"sendToReduxDevtools",value:function(e){try{e()}catch(t){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",t)}}}]),DevtoolsExtension}();return DevtoolsExtension.\u0275fac=function(e){return new(e||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ec(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ec(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ec(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension}(),INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.b},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function ComputedState(){}function LiftedAction(){}function LiftedActions(){}function LiftedState(){}function computeNextEntry(e,t,n,r,i){if(r)return{state:n,error:"Interrupted by an error up the chain"};var o,a=n;try{a=e(n,t)}catch(s){o=s.toString(),i.handleError(s.stack||s)}return{state:a,error:o}}function recomputeStates(e,t,n,r,i,o,a,s,u){if(t>=e.length&&e.length===o.length)return e;for(var c=e.slice(0,t),l=o.length-(u?1:0),h=t;h<l;h++){var f=o[h],d=i[f].action,p=c[h-1],v=p?p.state:r,y=p?p.error:void 0,g=a.indexOf(f)>-1?p:computeNextEntry(n,d,v,y,s);c.push(g)}return u&&c.push(e[e.length-1]),c}function liftInitialState(e,t){return{monitorState:t(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:e,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return function(o){return function(a,s){var u=a||t,c=u.monitorState,l=u.actionsById,h=u.nextActionId,f=u.stagedActionIds,d=u.skippedActionIds,p=u.committedState,v=u.currentStateIndex,y=u.computedStates,g=u.isLocked,m=u.isPaused;function _(e){for(var t=e,n=f.slice(1,t+1),r=0;r<n.length;r++){if(y[r+1].error){t=r,n=f.slice(1,t+1);break}delete l[n[r]]}d=d.filter((function(e){return-1===n.indexOf(e)})),f=[0].concat(_toConsumableArray(f.slice(t+1))),p=y[t].state,y=y.slice(t),v=v>t?v-t:0}function b(){l={0:liftAction(INIT_ACTION)},h=1,f=[0],d=[],p=y[v].state,v=0,y=[]}a||(l=Object.create(l));var C=0;switch(s.type){case LOCK_CHANGES:g=s.status,C=1/0;break;case PAUSE_RECORDING:(m=s.status)?(f=[].concat(_toConsumableArray(f),[h]),l[h]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),h++,C=f.length-1,y=y.concat(y[y.length-1]),v===f.length-2&&v++,C=1/0):b();break;case RESET:l={0:liftAction(INIT_ACTION)},h=1,f=[0],d=[],p=e,v=0,y=[];break;case COMMIT:b();break;case ROLLBACK:l={0:liftAction(INIT_ACTION)},h=1,f=[0],d=[],v=0,y=[];break;case TOGGLE_ACTION:var w=s.id,k=d.indexOf(w);d=-1===k?[w].concat(_toConsumableArray(d)):d.filter((function(e){return e!==w})),C=f.indexOf(w);break;case SET_ACTIONS_ACTIVE:for(var E=s.start,S=s.end,O=s.active,T=[],I=E;I<S;I++)T.push(I);d=O?difference(d,T):[].concat(_toConsumableArray(d),T),C=f.indexOf(E);break;case JUMP_TO_STATE:v=s.index,C=1/0;break;case JUMP_TO_ACTION:var D=f.indexOf(s.actionId);-1!==D&&(v=D),C=1/0;break;case SWEEP:f=difference(f,d),d=[],v=Math.min(v,f.length-1);break;case PERFORM_ACTION:if(g)return a||t;if(m||a&&isActionFiltered(a.computedStates[v],s,i.predicate,i.actionsSafelist,i.actionsBlocklist)){var A=y[y.length-1];y=[].concat(_toConsumableArray(y.slice(0,-1)),[computeNextEntry(o,s.action,A.state,A.error,n)]),C=1/0;break}i.maxAge&&f.length===i.maxAge&&_(1),v===f.length-1&&v++;var x=h++;l[x]=s,C=(f=[].concat(_toConsumableArray(f),[x])).length-1;break;case IMPORT_STATE:var P=s.nextLiftedState;c=P.monitorState,l=P.actionsById,h=P.nextActionId,f=P.stagedActionIds,d=P.skippedActionIds,p=P.committedState,v=P.currentStateIndex,y=P.computedStates,g=P.isLocked,m=P.isPaused;break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.b:C=0,i.maxAge&&f.length>i.maxAge&&(y=recomputeStates(y,C,o,p,l,f,d,n,m),_(f.length-i.maxAge),C=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.l:if(y.filter((function(e){return e.error})).length>0)C=0,i.maxAge&&f.length>i.maxAge&&(y=recomputeStates(y,C,o,p,l,f,d,n,m),_(f.length-i.maxAge),C=1/0);else{if(!m&&!g){v===f.length-1&&v++;var N=h++;l[N]=new PerformAction(s,+Date.now()),C=(f=[].concat(_toConsumableArray(f),[N])).length-1,y=recomputeStates(y,C,o,p,l,f,d,n,m)}y=y.map((function(e){return Object.assign(Object.assign({},e),{state:o(e.state,RECOMPUTE_ACTION)})})),v=f.length-1,i.maxAge&&f.length>i.maxAge&&_(f.length-i.maxAge),C=1/0}break;default:C=1/0}return y=recomputeStates(y,C,o,p,l,f,d,n,m),{monitorState:c=r(c,s),actionsById:l,nextActionId:h,stagedActionIds:f,skippedActionIds:d,committedState:p,currentStateIndex:v,computedStates:y,isLocked:g,isPaused:m}}}}var StoreDevtools=function(){var e=function(){function e(t,n,r,i,o,a,s,u){var c=this;_classCallCheck(this,e);var l=liftInitialState(s,u.monitor),h=liftReducerWith(s,l,a,u.monitor,u),f=Object(rxjs__WEBPACK_IMPORTED_MODULE_5__.a)(Object(rxjs__WEBPACK_IMPORTED_MODULE_5__.a)(n.asObservable().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.a)(1)),i.actions$).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(liftAction)),t,i.liftedActions$).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.b)(rxjs__WEBPACK_IMPORTED_MODULE_6__.a)),d=r.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(h)),p=new rxjs__WEBPACK_IMPORTED_MODULE_7__.a(1),v=f.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.a)(d),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.a)((function(e,t){var n=e.state,r=_slicedToArray(t,2),o=r[0],a=(0,r[1])(n,o);return o.type!==PERFORM_ACTION&&shouldFilterActions(u)&&(a=filterLiftedState(a,u.predicate,u.actionsSafelist,u.actionsBlocklist)),i.notify(o,a),{state:a,action:o}}),{state:l,action:null})).subscribe((function(e){var t=e.state,n=e.action;p.next(t),n.type===PERFORM_ACTION&&o.next(n.action)})),y=i.start$.subscribe((function(){c.refresh()})),g=p.asObservable(),m=g.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(unliftState));this.extensionStartSubscription=y,this.stateSubscription=v,this.dispatcher=t,this.liftedState=g,this.state=m}return _createClass(e,[{key:"dispatch",value:function(e){this.dispatcher.next(e)}},{key:"next",value:function(e){this.dispatcher.next(e)}},{key:"error",value:function(e){}},{key:"complete",value:function(){}},{key:"performAction",value:function(e){this.dispatch(new PerformAction(e,+Date.now()))}},{key:"refresh",value:function(){this.dispatch(new Refresh)}},{key:"reset",value:function(){this.dispatch(new Reset(+Date.now()))}},{key:"rollback",value:function(){this.dispatch(new Rollback(+Date.now()))}},{key:"commit",value:function(){this.dispatch(new Commit(+Date.now()))}},{key:"sweep",value:function(){this.dispatch(new Sweep)}},{key:"toggleAction",value:function(e){this.dispatch(new ToggleAction(e))}},{key:"jumpToAction",value:function(e){this.dispatch(new JumpToAction(e))}},{key:"jumpToState",value:function(e){this.dispatch(new JumpToState(e))}},{key:"importState",value:function(e){this.dispatch(new ImportState(e))}},{key:"lockChanges",value:function(e){this.dispatch(new LockChanges(e))}},{key:"pauseRecording",value:function(e){this.dispatch(new PauseRecording(e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ec(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ec(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ec(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.e),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ec(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ec(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.f),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ec(_angular_core__WEBPACK_IMPORTED_MODULE_0__.p),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ec(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.c),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ec(STORE_DEVTOOLS_CONFIG))},e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb({token:e,factory:e.\u0275fac}),e}(),IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.t("Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(e,t){return Boolean(e)||t.monitor!==noMonitor}function createReduxDevtoolsExtension(){return"object"==typeof window&&void 0!==window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:null}function createStateObservable(e){return e.state}var StoreDevtoolsModule=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"instrument",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:t},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.g,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.d,useExisting:DevtoolsDispatcher}]}}}]),e}();return e.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Tb({type:e}),e.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Sb({factory:function(t){return new(t||e)}}),e}()},bHdf:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,e)}},bOdf:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("5+tZ");function i(e,t){return Object(r.a)(e,t,1)}},bhnW:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var r=n("kt0X"),i=n("R0sL"),o=n("8Su2"),a="auths",s=Object(i.a)(),u=s.getInitialState({token:void 0,error:void 0}),c=Object(r.p)(u,Object(r.r)(o.b,(function(e,t){return Object.assign({},e)})),Object(r.r)(o.a,(function(e,t){return Object.assign(Object.assign({},e),{error:t.error})})));s.getSelectors()},c2HN:function(e,t,n){"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",(function(){return r}))},cnBi:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("kt0X"),i=Object(r.n)("[shared state] set loading spinner",Object(r.s)())},cp0P:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("HDdC"),i=n("DH7j"),o=n("lJxs"),a=n("XoHu"),s=n("Cfvw");function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var r=t[0];if(Object(i.a)(r))return c(r,null);if(Object(a.a)(r)&&Object.getPrototypeOf(r)===Object.prototype){var s=Object.keys(r);return c(s.map((function(e){return r[e]})),s)}}if("function"==typeof t[t.length-1]){var u=t.pop();return c(t=1===t.length&&Object(i.a)(t[0])?t[0]:t,null).pipe(Object(o.a)((function(e){return u.apply(void 0,_toConsumableArray(e))})))}return c(t,null)}function c(e,t){return new r.a((function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,a=0,u=function(u){var c=Object(s.a)(e[u]),l=!1;n.add(c.subscribe({next:function(e){l||(l=!0,a++),i[u]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&l||(a===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=i[n],e}),{}):i),n.complete())}}))},c=0;c<r;c++)u(c);else n.complete()}))}},cxbk:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={production:!0,googleMapTokenKey:"",sourceAPI:"http://tourist.yes-cloud.de/html/public/index.php/",googleTokenAPI:"maphelper",firebaseConfig:{apiKey:"AIzaSyDOAu8tqavfWnEit8vuOr7JyxRt2XHjEcs",authDomain:"yes-soft-6866a.firebaseapp.com",databaseURL:"https://yes-soft-6866a.firebaseio.com",projectId:"yes-soft-6866a",storageBucket:"yes-soft-6866a.appspot.com",messagingSenderId:"396882908080",appId:"1:396882908080:web:e86f986ae56c6070fabc75",measurementId:"G-HPC10T199F"}}},eIep:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("l7GE"),i=n("51Dv"),o=n("ZUHj"),a=n("lJxs"),s=n("Cfvw");function u(e,t){return"function"==typeof t?function(n){return n.pipe(u((function(n,r){return Object(s.a)(e(n,r)).pipe(Object(a.a)((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new c(e))}}var c=function(){function e(t){_classCallCheck(this,e),this.project=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new l(e,this.project))}}]),e}(),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var a=new i.a(this,t,n),s=this.destination;s.add(a),this.innerSubscription=Object(o.a)(this,e,void 0,void 0,a),this.innerSubscription!==a&&s.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}}]),n}(r.a)},fXoL:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ca})),n.d(t,"b",(function(){return Qf})),n.d(t,"c",(function(){return Hf})),n.d(t,"d",(function(){return Bf})),n.d(t,"e",(function(){return qf})),n.d(t,"f",(function(){return Vd})),n.d(t,"g",(function(){return Dd})),n.d(t,"h",(function(){return Te})),n.d(t,"i",(function(){return Ko})),n.d(t,"j",(function(){return od})),n.d(t,"k",(function(){return Pf})),n.d(t,"l",(function(){return Tc})),n.d(t,"m",(function(){return Yf})),n.d(t,"n",(function(){return xf})),n.d(t,"o",(function(){return Ic})),n.d(t,"p",(function(){return zn})),n.d(t,"q",(function(){return Fh})),n.d(t,"r",(function(){return re})),n.d(t,"s",(function(){return y})),n.d(t,"t",(function(){return ne})),n.d(t,"u",(function(){return ba})),n.d(t,"v",(function(){return Rf})),n.d(t,"w",(function(){return Gc})),n.d(t,"x",(function(){return Qc})),n.d(t,"y",(function(){return Jf})),n.d(t,"z",(function(){return Vf})),n.d(t,"A",(function(){return ge})),n.d(t,"B",(function(){return xd})),n.d(t,"C",(function(){return ye})),n.d(t,"D",(function(){return Ed})),n.d(t,"E",(function(){return cd})),n.d(t,"F",(function(){return g})),n.d(t,"G",(function(){return jf})),n.d(t,"H",(function(){return Gf})),n.d(t,"I",(function(){return Kf})),n.d(t,"J",(function(){return Nf})),n.d(t,"K",(function(){return Pc})),n.d(t,"L",(function(){return Ac})),n.d(t,"M",(function(){return xc})),n.d(t,"N",(function(){return Rc})),n.d(t,"O",(function(){return Pr})),n.d(t,"P",(function(){return m})),n.d(t,"Q",(function(){return _})),n.d(t,"R",(function(){return Rd})),n.d(t,"S",(function(){return Xc})),n.d(t,"T",(function(){return gd})),n.d(t,"U",(function(){return Fc})),n.d(t,"V",(function(){return jc})),n.d(t,"W",(function(){return el})),n.d(t,"X",(function(){return Ie})),n.d(t,"Y",(function(){return Aa})),n.d(t,"Z",(function(){return Sd})),n.d(t,"ab",(function(){return ur})),n.d(t,"bb",(function(){return L})),n.d(t,"cb",(function(){return sr})),n.d(t,"db",(function(){return Md})),n.d(t,"eb",(function(){return _d})),n.d(t,"fb",(function(){return Zf})),n.d(t,"gb",(function(){return aa})),n.d(t,"hb",(function(){return yl})),n.d(t,"ib",(function(){return Ar})),n.d(t,"jb",(function(){return jr})),n.d(t,"kb",(function(){return fr})),n.d(t,"lb",(function(){return Xn})),n.d(t,"mb",(function(){return er})),n.d(t,"nb",(function(){return ir})),n.d(t,"ob",(function(){return nr})),n.d(t,"pb",(function(){return tr})),n.d(t,"qb",(function(){return rr})),n.d(t,"rb",(function(){return fl})),n.d(t,"sb",(function(){return Fd})),n.d(t,"tb",(function(){return dl})),n.d(t,"ub",(function(){return pl})),n.d(t,"vb",(function(){return $n})),n.d(t,"wb",(function(){return W})),n.d(t,"xb",(function(){return xa})),n.d(t,"yb",(function(){return _s})),n.d(t,"zb",(function(){return ms})),n.d(t,"Ab",(function(){return Da})),n.d(t,"Bb",(function(){return hl})),n.d(t,"Cb",(function(){return uh})),n.d(t,"Db",(function(){return tt})),n.d(t,"Eb",(function(){return j})),n.d(t,"Fb",(function(){return Yn})),n.d(t,"Gb",(function(){return oc})),n.d(t,"Hb",(function(){return pc})),n.d(t,"Ib",(function(){return Ec})),n.d(t,"Jb",(function(){return li})),n.d(t,"Kb",(function(){return Va})),n.d(t,"Lb",(function(){return iu})),n.d(t,"Mb",(function(){return Iu})),n.d(t,"Nb",(function(){return tu})),n.d(t,"Ob",(function(){return Yh})),n.d(t,"Pb",(function(){return Pe})),n.d(t,"Qb",(function(){return Ue})),n.d(t,"Rb",(function(){return S})),n.d(t,"Sb",(function(){return O})),n.d(t,"Tb",(function(){return Me})),n.d(t,"Ub",(function(){return Be})),n.d(t,"Vb",(function(){return as})),n.d(t,"Wb",(function(){return ds})),n.d(t,"Xb",(function(){return vs})),n.d(t,"Yb",(function(){return ps})),n.d(t,"Zb",(function(){return fs})),n.d(t,"ac",(function(){return hs})),n.d(t,"bc",(function(){return gs})),n.d(t,"cc",(function(){return Un})),n.d(t,"dc",(function(){return tc})),n.d(t,"ec",(function(){return he})),n.d(t,"fc",(function(){return ss})),n.d(t,"gc",(function(){return af})),n.d(t,"hc",(function(){return us})),n.d(t,"ic",(function(){return bs})),n.d(t,"jc",(function(){return ef})),n.d(t,"kc",(function(){return Jt})),n.d(t,"lc",(function(){return Ss})),n.d(t,"mc",(function(){return Ih})),n.d(t,"nc",(function(){return Dh})),n.d(t,"oc",(function(){return Ah})),n.d(t,"pc",(function(){return cs})),n.d(t,"qc",(function(){return xs})),n.d(t,"rc",(function(){return Ps})),n.d(t,"sc",(function(){return dh})),n.d(t,"tc",(function(){return Gh})),n.d(t,"uc",(function(){return os})),n.d(t,"vc",(function(){return bn})),n.d(t,"wc",(function(){return kt})),n.d(t,"xc",(function(){return Fr})),n.d(t,"yc",(function(){return Lr})),n.d(t,"zc",(function(){return Le})),n.d(t,"Ac",(function(){return eu})),n.d(t,"Bc",(function(){return is})),n.d(t,"Cc",(function(){return gu})),n.d(t,"Dc",(function(){return mu})),n.d(t,"Ec",(function(){return _u})),n.d(t,"Fc",(function(){return bu})),n.d(t,"Gc",(function(){return Cu})),n.d(t,"Hc",(function(){return nc})),n.d(t,"Ic",(function(){return Zh}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),a=n("VRyK"),s=n("w1tV");function u(e){return{toString:e}.toString()}var c="__annotations__",l="__parameters__",h="__prop__metadata__";function f(e,t,n,r,i){return u((function(){var o=d(t);function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof a)return o.call.apply(o,[this].concat(t)),this;var s=_construct(a,t);return function(e){return i&&i.apply(void 0,[e].concat(t)),(e.hasOwnProperty(c)?e[c]:Object.defineProperty(e,c,{value:[]})[c]).push(s),r&&r(e),e}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a}))}function d(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}function p(e,t,n){return u((function(){var r=d(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var o=_construct(i,t);return a.annotation=o,a;function a(e,t,n){for(var r=e.hasOwnProperty(l)?e[l]:Object.defineProperty(e,l,{value:[]})[l];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}))}function v(e,t,n,r){return u((function(){var i=d(t);function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof o)return i.apply(this,t),this;var a=_construct(o,t);return function(e,n){var i=e.constructor,o=i.hasOwnProperty(h)?i[h]:Object.defineProperty(i,h,{value:{}})[h];o[n]=o.hasOwnProperty(n)&&o[n]||[],o[n].unshift(a),r&&r.apply(void 0,[e,n].concat(t))}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o}))}var y=p("Inject",(function(e){return{token:e}})),g=p("Optional"),m=p("Self"),_=p("SkipSelf"),b=p("Host"),C=p("Attribute",(function(e){return{attributeName:e}})),w=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function k(e){for(var t in e)if(e[t]===k)return t;throw Error("Could not find renamed property on target object.")}function E(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function S(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function O(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function T(e){return I(e,e[A])||I(e,e[N])}function I(e,t){return t&&t.token===e?t:null}function D(e){return e&&(e.hasOwnProperty(x)||e.hasOwnProperty(R))?e[x]:null}var A=k({"\u0275prov":k}),x=k({"\u0275inj":k}),P=k({"\u0275provFallback":k}),N=k({ngInjectableDef:k}),R=k({ngInjectorDef:k});function j(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(j).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function F(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var M=k({__forward_ref__:k});function L(e){return e.__forward_ref__=L,e.toString=function(){return j(this())},e}function V(e){return U(e)?e():e}function U(e){return"function"==typeof e&&e.hasOwnProperty(M)&&e.__forward_ref__===L}var B="undefined"!=typeof globalThis&&globalThis,q="undefined"!=typeof window&&window,H="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,z="undefined"!=typeof global&&global,W=B||z||q||H,K=function(e){return e[e.Token=0]="Token",e[e.Attribute=1]="Attribute",e[e.ChangeDetectorRef=2]="ChangeDetectorRef",e[e.Invalid=3]="Invalid",e}({});function G(){var e=W.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}var Q,Z=k({"\u0275cmp":k}),J=k({"\u0275dir":k}),Y=k({"\u0275pipe":k}),X=k({"\u0275mod":k}),$=k({"\u0275loc":k}),ee=k({"\u0275fac":k}),te=k({__NG_ELEMENT_ID__:k}),ne=function(){function e(t,n){_classCallCheck(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=S({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(e,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),e}(),re=new ne("INJECTOR",-1),ie={},oe=/\n/gm,ae=k({provide:String,useValue:k}),se=void 0;function ue(e){var t=se;return se=e,t}function ce(e){var t=Q;return Q=e,t}function le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w.Default;if(void 0===se)throw new Error("inject() must be called from an injection context");return null===se?de(e,void 0,t):se.get(e,t&w.Optional?null:void 0,t)}function he(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w.Default;return(Q||le)(V(e),t)}function fe(e){throw new Error("invalid")}function de(e,t,n){var r=T(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&w.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND [".concat(j(e),"]"))}function pe(e){for(var t=[],n=0;n<e.length;n++){var r=V(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=w.Default,a=0;a<r.length;a++){var s=r[a];s instanceof g||"Optional"===s.ngMetadataName||s===g?o|=w.Optional:s instanceof _||"SkipSelf"===s.ngMetadataName||s===_?o|=w.SkipSelf:s instanceof m||"Self"===s.ngMetadataName||s===m?o|=w.Self:i=s instanceof y||s===y?s.token:s}t.push(he(i,o))}else t.push(he(r))}return t}var ve=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ie;if(t===ie){var n=new Error("NullInjectorError: No provider for ".concat(j(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),ye=function e(){_classCallCheck(this,e)},ge=function e(){_classCallCheck(this,e)};function me(e,t){for(var n=0;n<e.length;n++)t.push(e[n])}function _e(e,t){void 0===t&&(t=e);for(var n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),_e(r,t)):t!==e&&t.push(r)}return t}function be(e,t){e.forEach((function(e){return Array.isArray(e)?be(e,t):t(e)}))}function Ce(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function we(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function ke(e,t){for(var n=[],r=0;r<e;r++)n.push(t);return n}function Ee(e,t,n){var r=Oe(e,t);return r>=0?e[1|r]=n:function(e,t,n,r){var i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r=~r,t,n),r}function Se(e,t){var n=Oe(e,t);if(n>=0)return e[1|n]}function Oe(e,t){return function(e,t,n){for(var r=0,i=e.length>>1;i!==r;){var o=r+(i-r>>1),a=e[o<<1];if(t===a)return o<<1;a>t?i=o:r=o+1}return~(i<<1)}(e,t)}var Te=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),Ie=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),De={},Ae=[],xe=0;function Pe(e){return u((function(){var t=e.type,n=t.prototype,r={},i={type:t,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===Te.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Ae,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Ie.Emulated,id:"c",styles:e.styles||Ae,_:null,setInput:null,schemas:e.schemas||null,tView:null},o=e.directives,a=e.features,s=e.pipes;return i.id+=xe++,i.inputs=Ve(e.inputs,r),i.outputs=Ve(e.outputs),a&&a.forEach((function(e){return e(i)})),i.directiveDefs=o?function(){return("function"==typeof o?o():o).map(Re)}:null,i.pipeDefs=s?function(){return("function"==typeof s?s():s).map(je)}:null,i}))}function Ne(e,t,n){var r=e.\u0275cmp;r.directiveDefs=function(){return t.map(Re)},r.pipeDefs=function(){return n.map(je)}}function Re(e){return qe(e)||He(e)}function je(e){return ze(e)}var Fe={};function Me(e){var t={type:e.type,bootstrap:e.bootstrap||Ae,declarations:e.declarations||Ae,imports:e.imports||Ae,exports:e.exports||Ae,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&u((function(){Fe[e.id]=e.type})),t}function Le(e,t){return u((function(){var n=Ke(e,!0);n.declarations=t.declarations||Ae,n.imports=t.imports||Ae,n.exports=t.exports||Ae}))}function Ve(e,t){if(null==e)return De;var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}var Ue=Pe;function Be(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function qe(e){return e[Z]||null}function He(e){return e[J]||null}function ze(e){return e[Y]||null}function We(e,t){return e.hasOwnProperty(ee)?e[ee]:null}function Ke(e,t){var n=e[X]||null;if(!n&&!0===t)throw new Error("Type ".concat(j(e)," does not have '\u0275mod' property."));return n}function Ge(e){return Array.isArray(e)&&"object"==typeof e[1]}function Qe(e){return Array.isArray(e)&&!0===e[1]}function Ze(e){return 0!=(8&e.flags)}function Je(e){return 2==(2&e.flags)}function Ye(e){return 1==(1&e.flags)}function Xe(e){return null!==e.template}function $e(e){return 0!=(512&e[2])}var et=void 0;function tt(e){et=e}function nt(){return void 0!==et?et:"undefined"!=typeof document?document:void 0}function rt(e){return!!e.listen}var it={createRenderer:function(e,t){return nt()}};function ot(e){for(;Array.isArray(e);)e=e[0];return e}function at(e,t){return ot(t[e+20])}function st(e,t){return ot(t[e.index])}function ut(e,t){return e.data[t+20]}function ct(e,t){return e[t+20]}function lt(e,t){var n=t[e];return Ge(n)?n:n[0]}function ht(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function ft(e){return 4==(4&e[2])}function dt(e){return 128==(128&e[2])}function pt(e,t){return null===e||null==t?null:e[t]}function vt(e){e[18]=0}function yt(e,t){e[5]+=t;for(var n=e,r=e[3];null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}var gt={lFrame:Ht(null),bindingsEnabled:!0,checkNoChangesMode:!1};function mt(){return gt.bindingsEnabled}function _t(){gt.bindingsEnabled=!0}function bt(){gt.bindingsEnabled=!1}function Ct(){return gt.lFrame.lView}function wt(){return gt.lFrame.tView}function kt(e){gt.lFrame.contextLView=e}function Et(){return gt.lFrame.previousOrParentTNode}function St(e,t){gt.lFrame.previousOrParentTNode=e,gt.lFrame.isParent=t}function Ot(){return gt.lFrame.isParent}function Tt(){gt.lFrame.isParent=!1}function It(){return gt.checkNoChangesMode}function Dt(e){gt.checkNoChangesMode=e}function At(){var e=gt.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function xt(){return gt.lFrame.bindingIndex}function Pt(e){return gt.lFrame.bindingIndex=e}function Nt(){return gt.lFrame.bindingIndex++}function Rt(e){var t=gt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function jt(e,t){var n=gt.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ft(t)}function Ft(e){gt.lFrame.currentDirectiveIndex=e}function Mt(e){var t=gt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function Lt(){return gt.lFrame.currentQueryIndex}function Vt(e){gt.lFrame.currentQueryIndex=e}function Ut(e,t){var n=qt();gt.lFrame=n,n.previousOrParentTNode=t,n.lView=e}function Bt(e,t){var n=qt(),r=e[1];gt.lFrame=n,n.previousOrParentTNode=t,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex}function qt(){var e=gt.lFrame,t=null===e?null:e.child;return null===t?Ht(e):t}function Ht(e){var t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function zt(){var e=gt.lFrame;return gt.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}var Wt=zt;function Kt(){var e=zt();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.currentSanitizer=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Gt(){return gt.lFrame.selectedIndex}function Qt(e){gt.lFrame.selectedIndex=e}function Zt(){var e=gt.lFrame;return ut(e.tView,e.selectedIndex)}function Jt(){gt.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function Yt(){gt.lFrame.currentNamespace="http://www.w3.org/1998/MathML/"}function Xt(){gt.lFrame.currentNamespace=null}function $t(e,t){for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var i=e.data[n];i.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(-n,i.afterContentInit),i.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,i.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i.afterContentChecked)),i.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(-n,i.afterViewInit),i.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,i.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,i.afterViewChecked)),null!=i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,i.onDestroy)}}function en(e,t,n){rn(e,t,3,n)}function tn(e,t,n,r){(3&e[2])===n&&rn(e,t,n,r)}function nn(e,t){var n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function rn(e,t,n,r){for(var i=null!=r?r:-1,o=0,a=void 0!==r?65535&e[18]:0;a<t.length;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else t[a]<0&&(e[18]+=65536),(o<i||-1==i)&&(on(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function on(e,t,n,r){var i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,o.call(a)):o.call(a)}var an=function e(t,n,r){_classCallCheck(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function sn(e,t,n){for(var r=rt(e),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?e.setAttribute(t,s,u,a):t.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];cn(c)?r&&e.setProperty(t,c,l):r?e.setAttribute(t,c,l):t.setAttribute(c,l),i++}}return i}function un(e){return 3===e||4===e||6===e}function cn(e){return 64===e.charCodeAt(0)}function ln(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,r=0;r<t.length;r++){var i=t[r];"number"==typeof i?n=i:0===n||hn(e,n,i,null,-1===n||2===n?t[++r]:null)}return e}function hn(e,t,n,r,i){var o=0,a=e.length;if(-1===t)a=-1;else for(;o<e.length;){var s=e[o++];if("number"==typeof s){if(s===t){a=-1;break}if(s>t){a=o-1;break}}}for(;o<e.length;){var u=e[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(e.splice(a,0,t),o=a+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function fn(e){return-1!==e}function dn(e){return 32767&e}function pn(e){return e>>16}function vn(e,t){for(var n=pn(e),r=t;n>0;)r=r[15],n--;return r}function yn(e){return"string"==typeof e?e:null==e?"":""+e}function gn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():yn(e)}var mn=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(W);function _n(e){return{name:"window",target:e.ownerDocument.defaultView}}function bn(e){return{name:"document",target:e.ownerDocument}}function Cn(e){return{name:"body",target:e.ownerDocument.body}}function wn(e){return e instanceof Function?e():e}var kn=!0;function En(e){var t=kn;return kn=e,t}var Sn=0;function On(e,t){var n=In(e,t);if(-1!==n)return n;var r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Tn(r.data,e),Tn(t,null),Tn(r.blueprint,null));var i=Dn(e,t),o=e.injectorIndex;if(fn(i))for(var a=dn(i),s=vn(i,t),u=s[1].data,c=0;c<8;c++)t[o+c]=s[a+c]|u[a+c];return t[o+8]=i,o}function Tn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function In(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function Dn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=t[6],r=1;n&&-1===n.injectorIndex;)n=(t=t[15])?t[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function An(e,t,n){!function(e,t,n){var r="string"!=typeof n?n[te]:n.charCodeAt(0)||0;null==r&&(r=n[te]=Sn++);var i=255&r,o=1<<i,a=64&i,s=32&i,u=t.data;128&i?a?s?u[e+7]|=o:u[e+6]|=o:s?u[e+5]|=o:u[e+4]|=o:a?s?u[e+3]|=o:u[e+2]|=o:s?u[e+1]|=o:u[e]|=o}(e,t,n)}function xn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:w.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){var o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e[te];return"number"==typeof t&&t>0?255&t:t}(n);if("function"==typeof o){Ut(t,e);try{var a=o();if(null!=a||r&w.Optional)return a;throw new Error("No provider for ".concat(gn(n),"!"))}finally{Wt()}}else if("number"==typeof o){if(-1===o)return new Ln(e,t);var s=null,u=In(e,t),c=-1,l=r&w.Host?t[16][6]:null;for((-1===u||r&w.SkipSelf)&&(c=-1===u?Dn(e,t):t[u+8],Mn(r,!1)?(s=t[1],u=dn(c),t=vn(c,t)):u=-1);-1!==u;){c=t[u+8];var h=t[1];if(Fn(o,u,h.data)){var f=Nn(u,t,n,s,r,l);if(f!==Pn)return f}Mn(r,t[1].data[u+8]===l)&&Fn(o,u,t)?(s=h,u=dn(c),t=vn(c,t)):u=-1}}}if(r&w.Optional&&void 0===i&&(i=null),0==(r&(w.Self|w.Host))){var d=t[9],p=ce(void 0);try{return d?d.get(n,i,r&w.Optional):de(n,i,r&w.Optional)}finally{ce(p)}}if(r&w.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(gn(n),"]"))}var Pn={};function Nn(e,t,n,r,i,o){var a=t[1],s=a.data[e+8],u=Rn(s,a,n,null==r?Je(s)&&kn:r!=a&&3===s.type,i&w.Host&&o===s);return null!==u?jn(t,a,u,s):Pn}function Rn(e,t,n,r,i){for(var o=e.providerIndexes,a=t.data,s=65535&o,u=e.directiveStart,c=o>>16,l=i?s+c:e.directiveEnd,h=r?s:s+c;h<l;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=a[u];if(d&&Xe(d)&&d.type===n)return u}return null}function jn(e,t,n,r){var i=e[n],o=t.data;if(i instanceof an){var a=i;if(a.resolving)throw new Error("Circular dep for "+gn(o[n]));var s,u=En(a.canSeeViewProviders);a.resolving=!0,a.injectImpl&&(s=ce(a.injectImpl)),Ut(e,r);try{i=e[n]=a.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){var r=t.onChanges,i=t.onInit,o=t.doCheck;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{a.injectImpl&&ce(s),En(u),a.resolving=!1,Wt()}}return i}function Fn(e,t,n){var r=64&e,i=32&e;return!!((128&e?r?i?n[t+7]:n[t+6]:i?n[t+5]:n[t+4]:r?i?n[t+3]:n[t+2]:i?n[t+1]:n[t])&1<<e)}function Mn(e,t){return!(e&w.Self||e&w.Host&&t)}var Ln=function(){function e(t,n){_classCallCheck(this,e),this._tNode=t,this._lView=n}return _createClass(e,[{key:"get",value:function(e,t){return xn(this._tNode,this._lView,e,void 0,t)}}]),e}();function Vn(e){var t=e;if(U(e))return function(){var e=Vn(V(t));return e?e():null};var n=We(t);if(null===n){var r=D(t);n=r&&r.factory}return n||null}function Un(e){return u((function(){for(var t=e.prototype.constructor,n=t[ee]||Vn(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;i&&i!==r;){var o=i[ee]||Vn(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(e){return new e}}))}function Bn(e){return e.ngDebugContext}function qn(e){return e.ngOriginalError}function Hn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var zn=function(){function e(){_classCallCheck(this,e),this._console=console}return _createClass(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||Hn}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?Bn(e)?Bn(e):this._findContext(qn(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=qn(e);t&&qn(t);)t=qn(t);return t}}]),e}(),Wn=function(){function e(t){_classCallCheck(this,e),this.changingThisBreaksApplicationSecurity=t}return _createClass(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),e}(),Kn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Wn),Gn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Wn),Qn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Wn),Zn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Wn),Jn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Wn);function Yn(e){return e instanceof Wn?e.changingThisBreaksApplicationSecurity:e}function Xn(e,t){var n=$n(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===t}function $n(e){return e instanceof Wn&&e.getTypeName()||null}function er(e){return new Kn(e)}function tr(e){return new Gn(e)}function nr(e){return new Qn(e)}function rr(e){return new Zn(e)}function ir(e){return new Jn(e)}var or=!0,ar=!1;function sr(){return ar=!0,or}function ur(){if(ar)throw new Error("Cannot enable prod mode after platform setup.");or=!1}var cr=function(){function e(t){_classCallCheck(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");var n=this.inertDocument.body;if(null==n){var r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r),n=this.inertDocument.createElement("body"),r.appendChild(n)}n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!n.querySelector||n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=n.querySelector&&n.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(e,[{key:"getInertBodyElement_XHR",value:function(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}var t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);var n=t.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(e){e="<body><remove></remove>"+e+"</body>";try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(e){var t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=e,t;var n=this.inertDocument.createElement("body");return n.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var r=t.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.removeAttribute(r)}for(var i=e.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),e}(),lr=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,hr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function fr(e){return(e=String(e)).match(lr)||e.match(hr)?e:(sr()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(e," (see http://g.co/ng/security#xss)")),"unsafe:"+e)}function dr(e){return(e=String(e)).split(",").map((function(e){return fr(e.trim())})).join(", ")}function pr(e){var t,n={},r=_createForOfIteratorHelper(e.split(","));try{for(r.s();!(t=r.n()).done;){n[t.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function vr(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(e[s]=!0)}return e}var yr,gr=pr("area,br,col,hr,img,wbr"),mr=pr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_r=pr("rp,rt"),br=vr(_r,mr),Cr=vr(gr,vr(mr,pr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),vr(_r,pr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),br),wr=pr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),kr=pr("srcset"),Er=vr(wr,kr,pr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),pr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Sr=pr("script,style,template"),Or=function(){function e(){_classCallCheck(this,e),this.sanitizedSomething=!1,this.buf=[]}return _createClass(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!Cr.hasOwnProperty(t))return this.sanitizedSomething=!0,!Sr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n=e.attributes,r=0;r<n.length;r++){var i=n.item(r),o=i.name,a=o.toLowerCase();if(Er.hasOwnProperty(a)){var s=i.value;wr[a]&&(s=fr(s)),kr[a]&&(s=dr(s)),this.buf.push(" ",o,'="',Dr(s),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();Cr.hasOwnProperty(t)&&!gr.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(Dr(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t}}]),e}(),Tr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ir=/([^\#-~ |!])/g;function Dr(e){return e.replace(/&/g,"&amp;").replace(Tr,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(Ir,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ar(e,t){var n=null;try{yr=yr||new cr(e);var r=t?String(t):"";n=yr.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=yr.getInertBodyElement(r)}while(r!==o);var a=new Or,s=a.sanitizeChildren(xr(n)||n);return sr()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var u=xr(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function xr(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Pr=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}(),Nr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Rr=/^url\(([^)]+)\)$/;function jr(e){if(!(e=String(e).trim()))return"";var t=e.match(Rr);return t&&fr(t[1])===t[1]||e.match(Nr)&&function(e){for(var t=!0,n=!0,r=0;r<e.length;r++){var i=e.charAt(r);"'"===i&&n?t=!t:'"'===i&&t&&(n=!n)}return t&&n}(e)?e:(sr()&&console.warn("WARNING: sanitizing unsafe style value ".concat(e," (see http://g.co/ng/security#xss).")),"unsafe")}function Fr(e){var t=zr();return t?t.sanitize(Pr.HTML,e)||"":Xn(e,"HTML")?Yn(e):Ar(nt(),yn(e))}function Mr(e){var t=zr();return t?t.sanitize(Pr.STYLE,e)||"":Xn(e,"Style")?Yn(e):jr(yn(e))}function Lr(e){var t=zr();return t?t.sanitize(Pr.URL,e)||"":Xn(e,"URL")?Yn(e):fr(yn(e))}function Vr(e){var t=zr();if(t)return t.sanitize(Pr.RESOURCE_URL,e)||"";if(Xn(e,"ResourceURL"))return Yn(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function Ur(e){var t=zr();if(t)return t.sanitize(Pr.SCRIPT,e)||"";if(Xn(e,"Script"))return Yn(e);throw new Error("unsafe value used in a script context")}function Br(e,t,n){return function(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Vr:Lr}(t,n)(e)}var qr=function(e,t,n){if(void 0===t&&void 0===n)return Mr(e);var r=!0;return 1&(n=n||3)&&(r=Hr(e)),2&n?r?Mr(t):Yn(t):r};function Hr(e){return"background-image"===e||"backgroundImage"===e||"background"===e||"border-image"===e||"borderImage"===e||"border-image-source"===e||"borderImageSource"===e||"filter"===e||"list-style"===e||"listStyle"===e||"list-style-image"===e||"listStyleImage"===e||"clip-path"===e||"clipPath"===e}function zr(){var e=Ct();return e&&e[12]}function Wr(e,t){e.__ngContext__=t}function Kr(e){throw new Error("Multiple components match node with tagname "+e.tagName)}function Gr(){throw new Error("Cannot mix multi providers and regular providers")}function Qr(e,t,n){for(var r=e.length;;){var i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function Zr(e,t,n){for(var r=0;r<e.length;){var i=e[r++];if(n&&"class"===i){if(-1!==Qr((i=e[r]).toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Jr(e){return 0===e.type&&"ng-template"!==e.tagName}function Yr(e,t,n){return t===(0!==e.type||n?e.tagName:"ng-template")}function Xr(e,t,n){for(var r=4,i=e.attrs||[],o=function(e){for(var t=0;t<e.length;t++)if(un(e[t]))return t;return e.length}(i),a=!1,s=0;s<t.length;s++){var u=t[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!Yr(e,u,n)||""===u&&1===t.length){if($r(r))return!1;a=!0}}else{var c=8&r?u:t[++s];if(8&r&&null!==e.attrs){if(!Zr(e.attrs,c,n)){if($r(r))return!1;a=!0}continue}var l=ei(8&r?"class":u,i,Jr(e),n);if(-1===l){if($r(r))return!1;a=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==Qr(f,c,0)||2&r&&c!==h){if($r(r))return!1;a=!0}}}}else{if(!a&&!$r(r)&&!$r(u))return!1;if(a&&$r(u))continue;a=!1,r=u|1&r}}return $r(r)||a}function $r(e){return 0==(1&e)}function ei(e,t,n,r){if(null===t)return-1;var i=0;if(r||!n){for(var o=!1;i<t.length;){var a=t[i];if(a===e)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=t[++i];"string"==typeof s;)s=t[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function ti(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<t.length;r++)if(Xr(e,t[r],n))return!0;return!1}function ni(e,t){e:for(var n=0;n<t.length;n++){var r=t[n];if(e.length===r.length){for(var i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function ri(e,t){return e?":not("+t.trim()+")":t}function ii(e){for(var t=e[0],n=1,r=2,i="",o=!1;n<e.length;){var a=e[n];if("string"==typeof a)if(2&r){var s=e[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||$r(a)||(t+=ri(o,i),i=""),r=a,o=o||!$r(r);n++}return""!==i&&(t+=ri(o,i)),t}var oi={};function ai(e){var t=e[3];return Qe(t)?t[3]:t}function si(e){return ci(e[13])}function ui(e){return ci(e[4])}function ci(e){for(;null!==e&&!Qe(e);)e=e[4];return e}function li(e){fi(wt(),Ct(),Gt()+e,It())}function hi(e){fi(wt(),Ct(),e,It())}function fi(e,t,n,r){if(!r)if(3==(3&t[2])){var i=e.preOrderCheckHooks;null!==i&&en(t,i,n)}else{var o=e.preOrderHooks;null!==o&&tn(t,o,0,n)}Qt(n)}var di={marker:"element"},pi={marker:"comment"};function vi(e,t){return e<<17|t<<2}function yi(e){return e>>17&32767}function gi(e){return 2|e}function mi(e){return(131068&e)>>2}function _i(e,t){return-131069&e|t<<2}function bi(e){return 1|e}function Ci(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=e.data[o];Vt(i),a.contentQueries(2,t[o],o)}}}function wi(e,t,n){return rt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function ki(e,t,n,r,i,o,a,s,u,c){var l=t.blueprint.slice();return l[0]=i,l[2]=140|r,vt(l),l[3]=l[15]=e,l[8]=n,l[10]=a||e&&e[10],l[11]=s||e&&e[11],l[12]=u||e&&e[12]||null,l[9]=c||e&&e[9]||null,l[6]=o,l[16]=2==t.type?e[16]:l,l}function Ei(e,t,n,r,i,o){var a=n+20,s=e.data[a]||function(e,t,n,r,i,o){var a=Et(),s=Ot(),u=s?a:a&&a.parent,c=e.data[n]=Ri(0,u&&u!==t?u:null,r,n,i,o);return null===e.firstChild&&(e.firstChild=c),a&&(!s||null!=a.child||null===c.parent&&2!==a.type?s||(a.next=c):a.child=c),c}(e,t,a,r,i,o);return St(s,!0),s}function Si(e,t,n){Bt(t,t[6]);try{var r=e.viewQuery;null!==r&&ro(1,r,n);var i=e.template;null!==i&&Ii(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Ci(e,t),e.staticViewQueries&&ro(2,e.viewQuery,n);var o=e.components;null!==o&&function(e,t){for(var n=0;n<t.length;n++)Xi(e,t[n])}(t,o)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),a}finally{t[2]&=-5,Kt()}}function Oi(e,t,n,r){var i=t[2];if(256!=(256&i)){Bt(t,t[6]);var o=It();try{vt(t),Pt(e.bindingStartIndex),null!==n&&Ii(e,t,n,2,r);var a=3==(3&i);if(!o)if(a){var s=e.preOrderCheckHooks;null!==s&&en(t,s,null)}else{var u=e.preOrderHooks;null!==u&&tn(t,u,0,null),nn(t,0)}if(function(e){for(var t=si(e);null!==t;t=ui(t))if(t[2])for(var n=t[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&yt(o,1),i[2]|=1024}}(t),function(e){for(var t=si(e);null!==t;t=ui(t))for(var n=10;n<t.length;n++){var r=t[n],i=r[1];dt(r)&&Oi(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&Ci(e,t),!o)if(a){var c=e.contentCheckHooks;null!==c&&en(t,c)}else{var l=e.contentHooks;null!==l&&tn(t,l,1),nn(t,1)}!function(e,t){try{var n=e.expandoInstructions;if(null!==n)for(var r=e.expandoStartIndex,i=-1,o=0;o<n.length;o++){var a=n[o];"number"==typeof a?a<=0?(Qt(0-a),i=r+=9+n[++o]):r+=a:(null!==a&&(jt(r,i),a(2,t[i])),i++)}}finally{Qt(-1)}}(e,t);var h=e.components;null!==h&&function(e,t){for(var n=0;n<t.length;n++)Yi(e,t[n])}(t,h);var f=e.viewQuery;if(null!==f&&ro(2,f,r),!o)if(a){var d=e.viewCheckHooks;null!==d&&en(t,d)}else{var p=e.viewHooks;null!==p&&tn(t,p,2),nn(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,yt(t[3],-1))}finally{Kt()}}}function Ti(e,t,n,r){var i=t[10],o=!It(),a=ft(t);try{o&&!a&&i.begin&&i.begin(),a&&Si(e,t,r),Oi(e,t,n,r)}finally{o&&!a&&i.end&&i.end()}}function Ii(e,t,n,r,i){var o=Gt();try{Qt(-1),2&r&&t.length>20&&fi(e,t,0,It()),n(r,i)}finally{Qt(o)}}function Di(e,t,n){if(Ze(t))for(var r=t.directiveEnd,i=t.directiveStart;i<r;i++){var o=e.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function Ai(e,t,n){mt()&&(function(e,t,n,r){var i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||On(n,t),Wr(r,t);for(var a=n.initialInputs,s=i;s<o;s++){var u=e.data[s],c=Xe(u);c&&Ki(t,n,u);var l=jn(t,e,s,n);Wr(l,t),null!==a&&Qi(0,s-i,l,u,0,a),c&&(lt(n.index,t)[8]=l)}}(e,t,n,st(n,t)),128==(128&n.flags)&&function(e,t,n){var r=n.directiveStart,i=n.directiveEnd,o=e.expandoInstructions,a=e.firstCreatePass,s=n.index-20,u=gt.lFrame.currentDirectiveIndex;try{Qt(s);for(var c=r;c<i;c++){var l=e.data[c],h=t[c];Ft(c),null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs?Ui(l,h):a&&o.push(null)}}finally{Qt(-1),Ft(u)}}(e,t,n))}function xi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:st,r=t.localNames;if(null!==r)for(var i=t.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(t,e):e[a];e[i++]=s}}function Pi(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Ni(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Ni(e,t,n,r,i,o,a,s,u,c){var l=20+r,h=l+i,f=function(e,t){for(var n=[],r=0;r<t;r++)n.push(r<e?null:oi);return n}(l,h);return f[1]={type:e,id:t,blueprint:f,template:n,queries:null,viewQuery:s,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function Ri(e,t,n,r,i,o){return{type:n,index:r,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ji(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function Fi(e,t,n,r,i,o,a,s){var u,c,l=st(t,n),h=t.inputs;!s&&null!=h&&(u=h[r])?(co(e,n,u,r,i),Je(t)&&function(e,t){var n=lt(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3===t.type&&(r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,i=null!=a?a(i,t.tagName||"",r):i,rt(o)?o.setProperty(l,r,i):cn(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function Mi(e,t,n,r){var i=!1;if(mt()){var o=function(e,t,n){var r=e.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];ti(n,a.selectors,!1)&&(i||(i=[]),An(On(n,t),e,a.type),Xe(a)?(2&n.flags&&Kr(n),qi(e,n),i.unshift(a)):i.push(a))}return i}(e,t,n),a=null===r?null:{"":-1};if(null!==o){var s=0;i=!0,zi(n,e.data.length,o.length);for(var u=0;u<o.length;u++){var c=o[u];c.providersResolver&&c.providersResolver(c)}Bi(e,n,o.length);for(var l=!1,h=!1,f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=ln(n.mergedAttrs,d.hostAttrs),Wi(e,t,d),Hi(e.data.length-1,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128),!l&&(d.onChanges||d.onInit||d.doCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index-20),l=!0),h||!d.onChanges&&!d.doCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index-20),h=!0),Li(e,d),s+=d.hostVars}!function(e,t){for(var n=t.directiveEnd,r=e.data,i=t.attrs,o=[],a=null,s=null,u=t.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||Jr(t)?null:Zi(l,i);o.push(h),a=ji(l,u,a),s=ji(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=s}(e,n),Vi(e,t,s)}a&&function(e,t,n){if(t)for(var r=e.localNames=[],i=0;i<t.length;i+=2){var o=n[t[i+1]];if(null==o)throw new Error("Export of name '".concat(t[i+1],"' not found!"));r.push(t[i],o)}}(n,r,a)}return n.mergedAttrs=ln(n.mergedAttrs,n.attrs),i}function Li(e,t){var n=e.expandoInstructions;n.push(t.hostBindings),0!==t.hostVars&&n.push(t.hostVars)}function Vi(e,t,n){for(var r=0;r<n;r++)t.push(oi),e.blueprint.push(oi),e.data.push(null)}function Ui(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Bi(e,t,n){var r=20-t.index,i=e.data.length-(65535&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(r,i,n)}function qi(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Hi(e,t,n){if(n){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Xe(t)&&(n[""]=e)}}function zi(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Wi(e,t,n){e.data.push(n);var r=n.factory||(n.factory=We(n.type)),i=new an(r,Xe(n),null);e.blueprint.push(i),t.push(i)}function Ki(e,t,n){var r=st(t,e),i=Pi(n),o=e[10],a=$i(e,ki(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n)));e[t.index]=a}function Gi(e,t,n,r,i,o){var a=st(e,t),s=t[11];if(null==r)rt(s)?s.removeAttribute(a,n,o):a.removeAttribute(n);else{var u=null==i?yn(r):i(r,e.tagName||"",n);rt(s)?s.setAttribute(a,n,u,o):o?a.setAttributeNS(o,n,u):a.setAttribute(n,u)}}function Qi(e,t,n,r,i,o){var a=o[t];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],h=a[u++];null!==s?r.setInput(n,h,c,l):n[l]=h}}function Zi(e,t){for(var n=null,r=0;r<t.length;){var i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Ji(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function Yi(e,t){var n=lt(t,e);if(dt(n)){var r=n[1];80&n[2]?Oi(r,n,r.template,n[8]):n[5]>0&&function e(t){for(var n=si(t);null!==n;n=ui(n))for(var r=10;r<n.length;r++){var i=n[r];if(1024&i[2]){var o=i[1];Oi(o,i,o.template,i[8])}else i[5]>0&&e(i)}var a=t[1].components;if(null!==a)for(var s=0;s<a.length;s++){var u=lt(a[s],t);dt(u)&&u[5]>0&&e(u)}}(n)}}function Xi(e,t){var n=lt(t,e),r=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),Si(r,n,n[8])}function $i(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function eo(e){for(;e;){e[2]|=64;var t=ai(e);if($e(e)&&!t)return e;e=t}return null}function to(e,t,n){var r=t[10];r.begin&&r.begin();try{Oi(e,t,e.template,n)}catch(i){throw uo(t,i),i}finally{r.end&&r.end()}}function no(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],r=ht(n),i=r[1];Ti(i,r,i.template,n)}}(e[8])}function ro(e,t,n){Vt(0),t(e,n)}var io=Promise.resolve(null);function oo(e){return e[7]||(e[7]=[])}function ao(e){return e.cleanup||(e.cleanup=[])}function so(e,t,n){return(null===e||Xe(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function uo(e,t){var n=e[9],r=n?n.get(zn,null):null;r&&r.handleError(t)}function co(e,t,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=t[a],c=e.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function lo(e,t,n){var r=at(t,e),i=e[11];rt(i)?i.setValue(r,n):r.textContent=n}function ho(e,t){var n=t[3];return-1===e.index?Qe(n)?n:null:n}function fo(e,t){var n=ho(e,t);return n?Oo(t[11],n[7]):null}function po(e,t,n,r,i){if(null!=r){var o,a=!1;Qe(r)?o=r:Ge(r)&&(a=!0,r=r[0]);var s=ot(r);0===e&&null!==n?null==i?Eo(t,n,s):ko(t,n,s,i||null):1===e&&null!==n?ko(t,n,s,i||null):2===e?Ao(t,s,a):3===e&&t.destroyNode(s),null!=o&&function(e,t,n,r,i){var o=n[7];o!==ot(n)&&po(t,e,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];Po(s[1],s,e,t,r,o)}}(t,e,o,n,i)}}function vo(e,t){return rt(t)?t.createText(e):t.createTextNode(e)}function yo(e,t,n,r){var i=fo(e.node,t);i&&Po(e,t,t[11],n?1:2,i,r)}function go(e,t){var n=e[9],r=n.indexOf(t);1024&t[2]&&yt(t[3],-1),n.splice(r,1)}function mo(e,t){if(!(e.length<=10)){var n=10+t,r=e[n];if(r){var i=r[17];null!==i&&i!==e&&go(i,r),t>0&&(e[n-1][4]=r[4]);var o=we(e,10+t);yo(r[1],r,!1,null);var a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function _o(e,t){if(!(256&t[2])){var n=t[11];rt(n)&&n.destroyNode&&Po(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return Co(e[1],e);for(;t;){var n=null;if(Ge(t))n=t[13];else{var r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Ge(t)&&Co(t[1],t),t=bo(t,e);null===t&&(t=e),Ge(t)&&Co(t[1],t),n=t&&t[4]}t=n}}(t)}}function bo(e,t){var n;return Ge(e)&&(n=e[6])&&2===n.type?ho(n,e):e[3]===t?null:e[3]}function Co(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var r=0;r<n.length;r+=2){var i=t[n[r]];if(!(i instanceof an)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(i[o[a]]);else o.call(i)}}}(e,t),function(e,t){var n=e.cleanup;if(null!==n){for(var r=t[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],a="function"==typeof o?o(t):ot(t[o]),s=r[n[i+2]],u=n[i+3];"boolean"==typeof u?a.removeEventListener(n[i],s,u):u>=0?r[u]():r[-u].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);t[7]=null}}(e,t);var n=t[6];n&&3===n.type&&rt(t[11])&&t[11].destroy();var r=t[17];if(null!==r&&Qe(t[3])){r!==t[3]&&go(r,t);var i=t[19];null!==i&&i.detachView(e)}}}function wo(e,t,n){for(var r=t.parent;null!=r&&(4===r.type||5===r.type);)r=(t=r).parent;if(null==r){var i=n[6];return 2===i.type?fo(i,n):n[0]}if(t&&5===t.type&&4&t.flags)return st(t,n).parentNode;if(2&r.flags){var o=e.data,a=o[o[r.index].directiveStart].encapsulation;if(a!==Ie.ShadowDom&&a!==Ie.Native)return null}return st(r,n)}function ko(e,t,n,r){rt(e)?e.insertBefore(t,n,r):t.insertBefore(n,r,!0)}function Eo(e,t,n){rt(e)?e.appendChild(t,n):t.appendChild(n)}function So(e,t,n,r){null!==r?ko(e,t,n,r):Eo(e,t,n)}function Oo(e,t){return rt(e)?e.parentNode(t):t.parentNode}function To(e,t){if(2===e.type){var n=ho(e,t);return null===n?null:Do(n.indexOf(t,10)-10,n)}return 4===e.type||5===e.type?st(e,t):null}function Io(e,t,n,r){var i=wo(e,r,t);if(null!=i){var o=t[11],a=To(r.parent||t[6],t);if(Array.isArray(n))for(var s=0;s<n.length;s++)So(o,i,n[s],a);else So(o,i,n,a)}}function Do(e,t){var n=10+e+1;if(n<t.length){var r=t[n],i=r[1].firstChild;if(null!==i)return function e(t,n){if(null!==n){var r=n.type;if(3===r)return st(n,t);if(0===r)return Do(-1,t[n.index]);if(4===r||5===r){var i=n.child;if(null!==i)return e(t,i);var o=t[n.index];return Qe(o)?Do(-1,o):ot(o)}var a=t[16],s=a[6],u=ai(a),c=s.projection[n.projection];return null!=c?e(u,c):e(t,n.next)}return null}(r,i)}return t[7]}function Ao(e,t,n){var r=Oo(e,t);r&&function(e,t,n,r){rt(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}function xo(e,t,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;a&&0===t&&(s&&Wr(ot(s),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(xo(e,t,n.child,r,i,o,!1),po(t,e,i,s,o)):1===u?Ro(e,t,r,n,i,o):po(t,e,i,s,o)),n=a?n.projectionNext:n.next}}function Po(e,t,n,r,i,o){xo(n,r,e.node.child,t,i,o,!1)}function No(e,t,n){Ro(t[11],0,t,n,wo(e,n,t),To(n.parent||t[6],t))}function Ro(e,t,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)po(t,e,i,s[u],o);else xo(e,t,s,a[3],i,o,!0)}function jo(e,t,n){rt(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Fo(e,t,n){rt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}var Mo,Lo,Vo,Uo=function(){function e(t,n){_classCallCheck(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return _createClass(e,[{key:"rootNodes",get:function(){var e=this._lView;return null==e[0]?function e(t,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var a=n[r.index];if(null!==a&&i.push(ot(a)),Qe(a))for(var s=10;s<a.length;s++){var u=a[s],c=u[1].firstChild;null!==c&&e(u[1],u,c,i)}var l=r.type;if(4===l||5===l)e(t,n,r.child,i);else if(1===l){var h=n[16],f=h[6].projection[r.projection];if(Array.isArray(f))i.push.apply(i,_toConsumableArray(f));else{var d=ai(h);e(d[1],d,f,i,!0)}}r=o?r.projectionNext:r.next}return i}(e[1],e,e[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}_o(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){var t,n,r;t=this._lView[1],r=e,oo(n=this._lView).push(r),t.firstCreatePass&&ao(t).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){eo(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){to(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){Dt(!0);try{to(e,t,n)}finally{Dt(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,Po(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}]),e}(),Bo=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e))._view=e,r}return _createClass(n,[{key:"detectChanges",value:function(){no(this._view)}},{key:"checkNoChanges",value:function(){!function(e){Dt(!0);try{no(e)}finally{Dt(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Uo);function qo(e,t,n){return Mo||(Mo=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(e)),new Mo(st(t,n))}function Ho(e,t,n,r){return Lo||(Lo=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._declarationView=e,o._declarationTContainer=r,o.elementRef=i,o}return _createClass(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=ki(this._declarationView,t,e,16,null,t.node);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Si(t,n,e),new Uo(n)}}]),n}(e)),0===n.type?new Lo(r,n,qo(t,n,r)):null}function zo(e,t,n,r){var i;Vo||(Vo=function(e){_inherits(r,e);var n=_createSuper(r);function r(e,t,i){var o;return _classCallCheck(this,r),(o=n.call(this))._lContainer=e,o._hostTNode=t,o._hostView=i,o}return _createClass(r,[{key:"element",get:function(){return qo(t,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new Ln(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var e=Dn(this._hostTNode,this._hostView),t=vn(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.parent.injectorIndex;)i=i.parent;return i}for(var o=pn(e),a=t,s=t[6];o>1;)s=(a=a[15])[6],o--;return s}(e,this._hostView,this._hostTNode);return fn(e)&&null!=n?new Ln(n,t):new Ln(null,this._hostView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var o=n||this.parentInjector;if(!i&&null==e.ngModule&&o){var a=o.get(ye,null);a&&(i=a)}var s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s}},{key:"insert",value:function(e,t){var n=e._lView,r=n[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Qe(n[3])){var i=this.indexOf(e);if(-1!==i)this.detach(i);else{var o=n[3],a=new Vo(o,o[6],o[3]);a.detach(a.indexOf(e))}}var s=this._adjustIndex(t);return function(e,t,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-10?(t[4]=n[i],Ce(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;var a=t[17];null!==a&&n!==a&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(a,t);var s=t[19];null!==s&&s.insertView(e),t[2]|=128}(r,n,this._lContainer,s),yo(r,n,!0,Do(s,this._lContainer)),e.attachToViewContainerRef(this),Ce(this._lContainer[8],s,e),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=this._lContainer[8];return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1);!function(e,t){var n=mo(e,t);n&&_o(n[1],n)}(this._lContainer,t),we(this._lContainer[8],t)}},{key:"detach",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1),n=mo(this._lContainer,t);return n&&null!=we(this._lContainer[8],t)?new Uo(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}}]),r}(e));var o=r[n.index];if(Qe(o))i=o;else{var a;if(4===n.type)a=ot(o);else if(a=r[11].createComment(""),$e(r)){var s=r[11],u=st(n,r);ko(s,Oo(s,u),a,function(e,t){return rt(e)?e.nextSibling(t):t.nextSibling}(s,u))}else Io(r[1],r,a,n);r[n.index]=i=Ji(o,r,a,n),$i(r,i)}return new Vo(i,n,r)}function Wo(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t,n){if(!n&&Je(e)){var r=lt(e.index,t);return new Uo(r,r)}return 3===e.type||0===e.type||4===e.type||5===e.type?new Uo(t[16],t):null}(Et(),Ct(),e)}var Ko=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Go()},e}(),Go=Wo,Qo=Function;function Zo(e){return"function"==typeof e}var Jo=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,Yo=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Xo=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,$o=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/,ea=function(){function e(t){_classCallCheck(this,e),this._reflect=t||W.Reflect}return _createClass(e,[{key:"isReflectionEnabled",value:function(){return!0}},{key:"factory",value:function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _construct(e,n)}}},{key:"_zipTypesAndAnnotations",value:function(e,t){var n;n=ke(void 0===e?t.length:e.length);for(var r=0;r<n.length;r++)n[r]=void 0===e?[]:e[r]&&e[r]!=Object?[e[r]]:[],t&&null!=t[r]&&(n[r]=n[r].concat(t[r]));return n}},{key:"_ownParameters",value:function(e,t){if(n=e.toString(),Jo.test(n)||$o.test(n)||Yo.test(n)&&!Xo.test(n))return null;var n;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;var r=e.ctorParameters;if(r&&r!==t.ctorParameters){var i="function"==typeof r?r():r,o=i.map((function(e){return e&&e.type})),a=i.map((function(e){return e&&ta(e.decorators)}));return this._zipTypesAndAnnotations(o,a)}var s=e.hasOwnProperty(l)&&e[l],u=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return u||s?this._zipTypesAndAnnotations(u,s):ke(e.length)}},{key:"parameters",value:function(e){if(!Zo(e))return[];var t=na(e),n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}},{key:"_ownAnnotations",value:function(e,t){if(e.annotations&&e.annotations!==t.annotations){var n=e.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return e.decorators&&e.decorators!==t.decorators?ta(e.decorators):e.hasOwnProperty(c)?e[c]:null}},{key:"annotations",value:function(e){if(!Zo(e))return[];var t=na(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}},{key:"_ownPropMetadata",value:function(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){var n=e.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(e.propDecorators&&e.propDecorators!==t.propDecorators){var r=e.propDecorators,i={};return Object.keys(r).forEach((function(e){i[e]=ta(r[e])})),i}return e.hasOwnProperty(h)?e[h]:null}},{key:"propMetadata",value:function(e){if(!Zo(e))return{};var t=na(e),n={};if(t!==Object){var r=this.propMetadata(t);Object.keys(r).forEach((function(e){n[e]=r[e]}))}var i=this._ownPropMetadata(e,t);return i&&Object.keys(i).forEach((function(e){var t=[];n.hasOwnProperty(e)&&t.push.apply(t,_toConsumableArray(n[e])),t.push.apply(t,_toConsumableArray(i[e])),n[e]=t})),n}},{key:"ownPropMetadata",value:function(e){return Zo(e)&&this._ownPropMetadata(e,na(e))||{}}},{key:"hasLifecycleHook",value:function(e,t){return e instanceof Qo&&t in e.prototype}},{key:"guards",value:function(e){return{}}},{key:"getter",value:function(e){return new Function("o","return o."+e+";")}},{key:"setter",value:function(e){return new Function("o","v","return o."+e+" = v;")}},{key:"method",value:function(e){return new Function("o","args","if (!o.".concat(e,") throw new Error('\"").concat(e,"\" is undefined');\n        return o.").concat(e,".apply(o, args);"))}},{key:"importUri",value:function(e){return"object"==typeof e&&e.filePath?e.filePath:"./"+j(e)}},{key:"resourceUri",value:function(e){return"./"+j(e)}},{key:"resolveIdentifier",value:function(e,t,n,r){return r}},{key:"resolveEnum",value:function(e,t){return e[t]}}]),e}();function ta(e){return e?e.map((function(e){return _construct(e.type.annotationCls,_toConsumableArray(e.args?e.args:[]))})):[]}function na(e){var t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}var ra=null;function ia(){return ra=ra||new ea}function oa(e){return t=ia().parameters(e),n=G(),t.map((function(e){return function(e,t){var n={token:null,host:!1,optional:!1,resolved:e.R3ResolvedDependencyType.Token,self:!1,skipSelf:!1};function r(t){n.resolved=e.R3ResolvedDependencyType.Token,n.token=t}if(Array.isArray(t)&&t.length>0)for(var i=0;i<t.length;i++){var o=t[i];if(void 0!==o){var a=Object.getPrototypeOf(o);if(o instanceof g||"Optional"===a.ngMetadataName)n.optional=!0;else if(o instanceof _||"SkipSelf"===a.ngMetadataName)n.skipSelf=!0;else if(o instanceof m||"Self"===a.ngMetadataName)n.self=!0;else if(o instanceof b||"Host"===a.ngMetadataName)n.host=!0;else if(o instanceof y)n.token=o.token;else if(o instanceof C){if(void 0===o.attributeName)throw new Error("Attribute name must be defined.");n.token=o.attributeName,n.resolved=e.R3ResolvedDependencyType.Attribute}else o===Ko?(n.token=o,n.resolved=e.R3ResolvedDependencyType.ChangeDetectorRef):r(o)}}else void 0===t||Array.isArray(t)&&0===t.length?(n.token=void 0,n.resolved=K.Invalid):r(t);return n}(n,e)}));var t,n}var aa=new ne("Set Injector scope."),sa={},ua={},ca=[],la=void 0;function ha(){return void 0===la&&(la=new ve),la}function fa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new da(e,n,t||ha(),r)}var da=function(){function e(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&be(n,(function(e){return i.processProvider(e,t,n)})),be([t],(function(e){return i.processInjectorType(e,[],a)})),this.records.set(re,ya(void 0,this));var s=this.records.get(aa);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof t?null:j(t))}return _createClass(e,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(e){return e.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ie,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w.Default;this.assertNotDestroyed();var r,i=ue(this);try{if(!(n&w.SkipSelf)){var o=this.records.get(e);if(void 0===o){var a=("function"==typeof(r=e)||"object"==typeof r&&r instanceof ne)&&T(e);o=a&&this.injectableDefInScope(a)?ya(pa(e),sa):null,this.records.set(e,o)}if(null!=o)return this.hydrate(e,o)}return(n&w.Self?ha():this.parent).get(e,t=n&w.Optional&&t===ie?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(j(e)),i)throw s;return function(e,t,n,r){var i=e.ngTempTokenPath;throw t.__source&&i.unshift(t.__source),e.message=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=j(t);if(Array.isArray(t))i=t.map(j).join(" -> ");else if("object"==typeof t){var o=[];for(var a in t)if(t.hasOwnProperty(a)){var s=t[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):j(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(oe,"\n  "))}("\n"+e.message,i,"R3InjectorError",r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(s,e,0,this.source)}throw s}finally{ue(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach((function(t){return e.get(t)}))}},{key:"toString",value:function(){var e=[];return this.records.forEach((function(t,n){return e.push(j(n))})),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var r=this;if(!(e=V(e)))return!1;var i=D(e),o=null==i&&e.ngModule||void 0,a=void 0===o?e:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=D(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{be(i.imports,(function(e){r.processInjectorType(e,t,n)&&(void 0===u&&(u=[]),u.push(e))}))}finally{}if(void 0!==u)for(var c=function(e){var t=u[e],n=t.ngModule,i=t.providers;be(i,(function(e){return r.processProvider(e,n,i||ca)}))},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a),this.records.set(a,ya(i.factory,sa));var h=i.providers;if(null!=h&&!s){var f=e;be(h,(function(e){return r.processProvider(e,f,h)}))}return void 0!==o&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var r=ma(e=V(e))?e:V(e&&e.provide),i=function(e,t,n){return ga(e)?ya(void 0,e.useValue):ya(va(e,t,n),sa)}(e,t,n);if(ma(e)||!0!==e.multi){var o=this.records.get(r);o&&void 0!==o.multi&&Gr()}else{var a=this.records.get(r);a?void 0===a.multi&&Gr():((a=ya(void 0,sa,!0)).factory=function(){return pe(a.multi)},this.records.set(r,a)),r=e,a.multi.push(e)}this.records.set(r,i)}},{key:"hydrate",value:function(e,t){var n;return t.value===ua?function(e){throw new Error("Cannot instantiate cyclic dependency! "+e)}(j(e)):t.value===sa&&(t.value=ua,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}}]),e}();function pa(e){var t=T(e),n=null!==t?t.factory:We(e);if(null!==n)return n;var r=D(e);if(null!==r)return r.factory;if(e instanceof ne)throw new Error("Token ".concat(j(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=ke(t,"?");throw new Error("Can't resolve all parameters for ".concat(j(e),": (").concat(n.join(", "),")."))}var r=function(e){var t=e&&(e[A]||e[N]||e[P]&&e[P]());if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "').concat(n,'" class.')),t}return null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function va(e,t,n){var r,i=void 0;if(ma(e)){var o=V(e);return We(o)||pa(o)}if(ga(e))i=function(){return V(e.useValue)};else if((r=e)&&r.useFactory)i=function(){return e.useFactory.apply(e,_toConsumableArray(pe(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))i=function(){return he(V(e.useExisting))};else{var a=V(e&&(e.useClass||e.provide));if(a||function(e,t,n){var r="";throw e&&t&&(r=" - only instances of Provider and Type are allowed, got: [".concat(t.map((function(e){return e==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(j(e),"'")+r)}(t,n,e),!function(e){return!!e.deps}(e))return We(a)||pa(a);i=function(){return _construct(a,_toConsumableArray(pe(e.deps)))}}return i}function ya(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function ga(e){return null!==e&&"object"==typeof e&&ae in e}function ma(e){return"function"==typeof e}var _a=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=fa(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)},ba=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?_a(e,t,""):_a(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=ie,e.NULL=new ve,e.\u0275prov=S({token:e,providedIn:"any",factory:function(){return he(re)}}),e.__NG_ELEMENT_ID__=-1,e}(),Ca=new ne("AnalyzeForEntryComponents"),wa=new Map,ka=new Set;function Ea(e){return!!(e.templateUrl&&!e.hasOwnProperty("template")||e.styleUrls&&e.styleUrls.length)}function Sa(e){return"string"==typeof e?e:e.text()}function Oa(e,t,n){var r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(var a=0;a<t.length;a++){var s=t[a];"number"==typeof s?o=s:1==o?i=F(i,s):2==o&&(r=F(r,s+": "+t[++a]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var Ta=null;function Ia(){if(!Ta){var e=W.Symbol;if(e&&e.iterator)Ta=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ta=r)}}return Ta}function Da(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}var Aa=function(){function e(t){_classCallCheck(this,e),this.wrapped=t}return _createClass(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function xa(e){return!!Pa(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ia()in e)}function Pa(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Na(e,t,n){return e[t]=n}function Ra(e,t){return e[t]}function ja(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Fa(e,t,n,r){var i=ja(e,t,n);return ja(e,t+1,r)||i}function Ma(e,t,n,r,i){var o=Fa(e,t,n,r);return ja(e,t+2,i)||o}function La(e,t,n,r,i,o){var a=Fa(e,t,n,r);return Fa(e,t+2,i,o)||a}function Va(e,t,n,r){var i=Ct();return ja(i,Nt(),t)&&(wt(),Gi(Zt(),i,e,t,n,r)),Va}function Ua(e,t){for(var n=!1,r=xt(),i=1;i<t.length;i+=2)n=ja(e,r++,t[i])||n;if(Pt(r),!n)return oi;for(var o=t[0],a=1;a<t.length;a+=2)o+=yn(t[a])+t[a+1];return o}function Ba(e,t,n,r){return ja(e,Nt(),n)?t+yn(n)+r:oi}function qa(e,t,n,r,i,o){var a=Fa(e,xt(),n,i);return Rt(2),a?t+yn(n)+r+yn(i)+o:oi}function Ha(e,t,n,r,i,o,a,s){var u=Ma(e,xt(),n,i,a);return Rt(3),u?t+yn(n)+r+yn(i)+o+yn(a)+s:oi}function za(e,t,n,r,i,o,a,s,u,c){var l=La(e,xt(),n,i,a,u);return Rt(4),l?t+yn(n)+r+yn(i)+o+yn(a)+s+yn(u)+c:oi}function Wa(e,t,n,r,i,o,a,s,u,c,l,h){var f=xt(),d=La(e,f,n,i,a,u);return d=ja(e,f+4,l)||d,Rt(5),d?t+yn(n)+r+yn(i)+o+yn(a)+s+yn(u)+c+yn(l)+h:oi}function Ka(e,t,n,r,i,o,a,s,u,c,l,h,f,d){var p=xt(),v=La(e,p,n,i,a,u);return v=Fa(e,p+4,l,f)||v,Rt(6),v?t+yn(n)+r+yn(i)+o+yn(a)+s+yn(u)+c+yn(l)+h+yn(f)+d:oi}function Ga(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v){var y=xt(),g=La(e,y,n,i,a,u);return g=Ma(e,y+4,l,f,p)||g,Rt(7),g?t+yn(n)+r+yn(i)+o+yn(a)+s+yn(u)+c+yn(l)+h+yn(f)+d+yn(p)+v:oi}function Qa(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y,g){var m=xt(),_=La(e,m,n,i,a,u);return _=La(e,m+4,l,f,p,y)||_,Rt(8),_?t+yn(n)+r+yn(i)+o+yn(a)+s+yn(u)+c+yn(l)+h+yn(f)+d+yn(p)+v+yn(y)+g:oi}function Za(e,t,n,r,i,o){var a=Ct(),s=Ba(a,t,n,r);return s!==oi&&Gi(Zt(),a,e,s,i,o),Za}function Ja(e,t,n,r,i,o,a,s){var u=Ct(),c=qa(u,t,n,r,i,o);return c!==oi&&Gi(Zt(),u,e,c,a,s),Ja}function Ya(e,t,n,r,i,o,a,s,u,c){var l=Ct(),h=Ha(l,t,n,r,i,o,a,s);return h!==oi&&Gi(Zt(),l,e,h,u,c),Ya}function Xa(e,t,n,r,i,o,a,s,u,c,l,h){var f=Ct(),d=za(f,t,n,r,i,o,a,s,u,c);return d!==oi&&Gi(Zt(),f,e,d,l,h),Xa}function $a(e,t,n,r,i,o,a,s,u,c,l,h,f,d){var p=Ct(),v=Wa(p,t,n,r,i,o,a,s,u,c,l,h);return v!==oi&&Gi(Zt(),p,e,v,f,d),$a}function es(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v){var y=Ct(),g=Ka(y,t,n,r,i,o,a,s,u,c,l,h,f,d);return g!==oi&&Gi(Zt(),y,e,g,p,v),es}function ts(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y,g){var m=Ct(),_=Ga(m,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v);return _!==oi&&Gi(Zt(),m,e,_,y,g),ts}function ns(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y,g,m,_){var b=Ct(),C=Qa(b,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y,g);return C!==oi&&Gi(Zt(),b,e,C,m,_),ns}function rs(e,t,n,r){var i=Ct(),o=Ua(i,t);return o!==oi&&Gi(Zt(),i,e,o,n,r),rs}function is(e,t,n,r,i,o,a,s){var u=Ct(),c=wt(),l=e+20,h=c.firstCreatePass?function(e,t,n,r,i,o,a,s,u){var c=t.consts,l=Ei(t,n[6],e,0,a||null,pt(c,s));Mi(t,n,l,pt(c,u)),$t(t,l);var h=l.tViews=Ni(2,-1,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c),f=Ri(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==t.queries&&(t.queries.template(t,l),h.queries=t.queries.embeddedTView(l)),l}(e,c,u,t,n,r,i,o,a):c.data[l];St(h,!1);var f=u[11].createComment("");Io(c,u,f,h),Wr(f,u),$i(u,u[l]=Ji(f,u,f,h)),Ye(h)&&Ai(c,u,h),null!=a&&xi(u,h,s)}function os(e){return ct(gt.lFrame.contextLView,e)}function as(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w.Default,n=Ct();return null==n?he(e,t):xn(Et(),n,V(e),t)}function ss(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(un(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}return null}(Et(),e)}function us(){throw new Error("invalid")}function cs(e,t,n){var r=Ct();return ja(r,Nt(),t)&&Fi(wt(),Zt(),r,e,t,r[11],n,!1),cs}function ls(e,t,n,r,i){var o=i?"class":"style";co(e,n,t.inputs[o],o,r)}function hs(e,t,n,r){var i=Ct(),o=wt(),a=20+e,s=i[11],u=i[a]=wi(t,s,gt.lFrame.currentNamespace),c=o.firstCreatePass?function(e,t,n,r,i,o,a){var s=t.consts,u=pt(s,o),c=Ei(t,n[6],e,3,i,u);return Mi(t,n,c,pt(s,a)),null!==c.attrs&&Oa(c,c.attrs,!1),null!==c.mergedAttrs&&Oa(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(e,o,i,0,t,n,r):o.data[a];St(c,!0);var l=c.mergedAttrs;null!==l&&sn(s,u,l);var h=c.classes;null!==h&&Fo(s,u,h);var f=c.styles;null!==f&&jo(s,u,f),Io(o,i,u,c),0===gt.lFrame.elementDepthCount&&Wr(u,i),gt.lFrame.elementDepthCount++,Ye(c)&&(Ai(o,i,c),Di(o,c,i)),null!==r&&xi(i,c)}function fs(){var e=Et();Ot()?Tt():St(e=e.parent,!1);var t=e;gt.lFrame.elementDepthCount--;var n=wt();n.firstCreatePass&&($t(n,e),Ze(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&ls(n,t,Ct(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&ls(n,t,Ct(),t.stylesWithoutHost,!1)}function ds(e,t,n,r){hs(e,t,n,r),fs()}function ps(e,t,n){var r=Ct(),i=wt(),o=e+20,a=i.firstCreatePass?function(e,t,n,r,i){var o=t.consts,a=pt(o,r),s=Ei(t,n[6],e,4,"ng-container",a);return null!==a&&Oa(s,a,!0),Mi(t,n,s,pt(o,i)),null!==t.queries&&t.queries.elementStart(t,s),s}(e,i,r,t,n):i.data[o];St(a,!0);var s=r[o]=r[11].createComment("");Io(i,r,s,a),Wr(s,r),Ye(a)&&(Ai(i,r,a),Di(i,a,r)),null!=n&&xi(r,a)}function vs(){var e=Et(),t=wt();Ot()?Tt():St(e=e.parent,!1),t.firstCreatePass&&($t(t,e),Ze(e)&&t.queries.elementEnd(e))}function ys(e,t,n){ps(e,t,n),vs()}function gs(){return Ct()}function ms(e){return!!e&&"function"==typeof e.then}function _s(e){return!!e&&"function"==typeof e.subscribe}function bs(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=Ct(),o=wt(),a=Et();return ws(o,i,i[11],a,e,t,n,r),bs}function Cs(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=Et(),o=Ct(),a=wt();return ws(a,o,so(Mt(a.data),i,o),i,e,t,n,r),Cs}function ws(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=Ye(r),c=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),l=oo(t),h=!0;if(3===r.type){var f=st(r,t),d=s?s(f):De,p=d.target||f,v=l.length,y=s?function(e){return s(ot(e[r.index])).target}:r.index;if(rt(n)){var g=null;if(!s&&u&&(g=function(e,t,n,r){var i=e.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=t[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(e,t,i,r.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,h=!1;else{o=Es(r,t,o,!1);var m=n.listen(d.name||p,i,o);l.push(o,m),c&&c.push(i,y,v,v+1)}}else o=Es(r,t,o,!0),p.addEventListener(i,o,a),l.push(o),c&&c.push(i,y,v,a)}var _,b=r.outputs;if(h&&null!==b&&(_=b[i])){var C=_.length;if(C)for(var w=0;w<C;w+=2){var k=t[_[w]][_[w+1]].subscribe(o),E=l.length;l.push(o,k),c&&c.push(i,r.index,E,-(E+1))}}}function ks(e,t,n){try{return!1!==t(n)}catch(r){return uo(e,r),!1}}function Es(e,t,n,r){return function i(o){if(o===Function)return n;var a=2&e.flags?lt(e.index,t):t;0==(32&t[2])&&eo(a);for(var s=ks(t,n,o),u=i.__ngNextListenerFn__;u;)s=ks(t,u,o)&&s,u=u.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function Ss(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){return(gt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,gt.lFrame.contextLView))[8]}(e)}function Os(e,t){for(var n=null,r=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e),i=0;i<t.length;i++){var o=t[i];if("*"!==o){if(null===r?ti(e,o,!0):ni(r,o))return i}else n=i}return n}function Ts(e){var t=Ct()[16][6];if(!t.projection)for(var n=t.projection=ke(e?e.length:1,null),r=n.slice(),i=t.child;null!==i;){var o=e?Os(i,e):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}var Is=!1;function Ds(e){Is=e}function As(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=Ct(),i=wt(),o=Ei(i,r[6],e,1,null,n||null);null===o.projection&&(o.projection=t),Tt(),Is||No(i,r,o)}function xs(e,t,n){return Ps(e,"",t,"",n),xs}function Ps(e,t,n,r,i){var o=Ct(),a=Ba(o,t,n,r);return a!==oi&&Fi(wt(),Zt(),o,e,a,o[11],i,!1),Ps}function Ns(e,t,n,r,i,o,a){var s=Ct(),u=qa(s,t,n,r,i,o);return u!==oi&&Fi(wt(),Zt(),s,e,u,s[11],a,!1),Ns}function Rs(e,t,n,r,i,o,a,s,u){var c=Ct(),l=Ha(c,t,n,r,i,o,a,s);return l!==oi&&Fi(wt(),Zt(),c,e,l,c[11],u,!1),Rs}function js(e,t,n,r,i,o,a,s,u,c,l){var h=Ct(),f=za(h,t,n,r,i,o,a,s,u,c);return f!==oi&&Fi(wt(),Zt(),h,e,f,h[11],l,!1),js}function Fs(e,t,n,r,i,o,a,s,u,c,l,h,f){var d=Ct(),p=Wa(d,t,n,r,i,o,a,s,u,c,l,h);return p!==oi&&Fi(wt(),Zt(),d,e,p,d[11],f,!1),Fs}function Ms(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p){var v=Ct(),y=Ka(v,t,n,r,i,o,a,s,u,c,l,h,f,d);return y!==oi&&Fi(wt(),Zt(),v,e,y,v[11],p,!1),Ms}function Ls(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y){var g=Ct(),m=Ga(g,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v);return m!==oi&&Fi(wt(),Zt(),g,e,m,g[11],y,!1),Ls}function Vs(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y,g,m){var _=Ct(),b=Qa(_,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y,g);return b!==oi&&Fi(wt(),Zt(),_,e,b,_[11],m,!1),Vs}function Us(e,t,n){var r=Ct(),i=Ua(r,t);return i!==oi&&Fi(wt(),Zt(),r,e,i,r[11],n,!1),Us}var Bs=[];function qs(e,t,n,r,i){for(var o=e[n+1],a=null===t,s=r?yi(o):mi(o),u=!1;0!==s&&(!1===u||a);){var c=e[s+1];Hs(e[s],t)&&(u=!0,e[s+1]=r?bi(c):gi(c)),s=r?yi(c):mi(c)}u&&(e[n+1]=r?gi(o):bi(o))}function Hs(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Oe(e,t)>=0}var zs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ws(e){return e.substring(zs.key,zs.keyEnd)}function Ks(e){return e.substring(zs.value,zs.valueEnd)}function Gs(e,t){var n=zs.textEnd;return n===t?-1:(t=zs.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,zs.key=t,n),Js(e,t,n))}function Qs(e,t){var n=zs.textEnd,r=zs.key=Js(e,t,n);return n===r?-1:(r=zs.keyEnd=function(e,t,n){for(var r;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90);)t++;return t}(e,r,n),r=Ys(e,r,n),r=zs.value=Js(e,r,n),r=zs.valueEnd=function(e,t,n){for(var r=-1,i=-1,o=-1,a=t,s=a;a<n;){var u=e.charCodeAt(a++);if(59===u)return s;34===u||39===u?s=a=Xs(e,u,a,n):t===a-4&&85===o&&82===i&&76===r&&40===u?s=a=Xs(e,41,a,n):u>32&&(s=a),o=i,i=r,r=-33&u}return s}(e,r,n),Ys(e,r,n))}function Zs(e){zs.key=0,zs.keyEnd=0,zs.value=0,zs.valueEnd=0,zs.textEnd=e.length}function Js(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Ys(e,t,n,r){return(t=Js(e,t,n))<n&&t++,t}function Xs(e,t,n,r){for(var i=-1,o=n;o<r;){var a=e.charCodeAt(o++);if(a==t&&92!==i)return o;i=92==a&&92===i?0:a}throw new Error}function $s(e){!function(e){gt.lFrame.currentSanitizer=e}(e)}function eu(e,t,n){return au(e,t,n,!1),eu}function tu(e,t){return au(e,t,null,!0),tu}function nu(e){su(fu,ru,e,!1)}function ru(e,t){for(var n=function(e){return Zs(e),Qs(e,Js(e,0,zs.textEnd))}(t);n>=0;n=Qs(t,n))fu(e,Ws(t),Ks(t))}function iu(e){su(Ee,ou,e,!0)}function ou(e,t){for(var n=function(e){return Zs(e),Gs(e,Js(e,0,zs.textEnd))}(t);n>=0;n=Gs(t,n))Ee(e,Ws(t),!0)}function au(e,t,n,r){var i,o,a=Ct(),s=wt(),u=Rt(2);(s.firstUpdatePass&&cu(s,e,u,r),t!==oi&&ja(a,u,t))&&(null==n&&(i=null===(o=gt.lFrame)?null:o.currentSanitizer)&&(n=i),du(s,s.data[Gt()+20],a,a[11],e,a[u+1]=function(e,t){return null==e||("function"==typeof t?e=t(e):"string"==typeof t?e+=t:"object"==typeof e&&(e=j(Yn(e)))),e}(t,n),r,u))}function su(e,t,n,r){var i=wt(),o=Rt(2);i.firstUpdatePass&&cu(i,null,o,r);var a=Ct();if(n!==oi&&ja(a,o,n)){var s=i.data[Gt()+20];if(yu(s,r)&&!uu(i,o)){var u=r?s.classesWithoutHost:s.stylesWithoutHost;null!==u&&(n=F(u,n||"")),ls(i,s,a,n,r)}else!function(e,t,n,r,i,o,a,s){i===oi&&(i=Bs);for(var u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;null!==l||null!==h;){var f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0,p=null,v=void 0;l===h?(u+=2,c+=2,f!==d&&(p=h,v=d)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,v=d),null!==p&&du(e,t,n,r,p,v,a,s),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function(e,t,n){if(null==n||""===n)return Bs;var r=[],i=Yn(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(var a in i)i.hasOwnProperty(a)&&e(r,a,i[a]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,o)}}function uu(e,t){return t>=e.expandoStartIndex}function cu(e,t,n,r){var i=e.data;if(null===i[n+1]){var o=i[Gt()+20],a=uu(e,n);yu(o,r)&&null===t&&!a&&(t=!1),t=function(e,t,n,r){var i=Mt(e),o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=hu(n=lu(null,e,t,n,r),t.attrs,r),o=null);else{var a=t.directiveStylingLast;if(-1===a||e[a]!==i)if(n=lu(i,e,t,n,r),null===o){var s=function(e,t,n){var r=n?t.classBindings:t.styleBindings;if(0!==mi(r))return e[yi(r)]}(e,t,r);void 0!==s&&Array.isArray(s)&&function(e,t,n,r){e[yi(n?t.classBindings:t.styleBindings)]=r}(e,t,r,s=hu(s=lu(null,e,t,s[1],r),t.attrs,r))}else o=function(e,t,n){for(var r=void 0,i=t.directiveEnd,o=1+t.directiveStylingLast;o<i;o++)r=hu(r,e[o].hostAttrs,n);return hu(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function(e,t,n,r,i,o){var a=o?t.classBindings:t.styleBindings,s=yi(a),u=mi(a);e[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||Oe(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=yi(e[s+1]);e[r+1]=vi(f,s),0!==f&&(e[f+1]=_i(e[f+1],r)),e[s+1]=131071&e[s+1]|r<<17}else e[r+1]=vi(s,0),0!==s&&(e[s+1]=_i(e[s+1],r)),s=r;else e[r+1]=vi(u,0),0===s?s=r:e[u+1]=_i(e[u+1],r),u=r;l&&(e[r+1]=gi(e[r+1])),qs(e,c,r,!0),qs(e,c,r,!1),function(e,t,n,r,i){var o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&Oe(o,t)>=0&&(n[r+1]=bi(n[r+1]))}(t,c,e,r,o),a=vi(s,u),o?t.classBindings=a:t.styleBindings=a}(i,o,t,n,a,r)}}function lu(e,t,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=hu(r,(o=t[s]).hostAttrs,i),o!==e);)s++;return null!==e&&(n.directiveStylingLast=s),r}function hu(e,t,n){var r=n?1:2,i=-1;if(null!==t)for(var o=0;o<t.length;o++){var a=t[o];"number"==typeof a?i=a:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ee(e,a,!!n||t[++o]))}return void 0===e?null:e}function fu(e,t,n){Hr(t)&&(n=Mr(n)),Ee(e,t,n)}function du(e,t,n,r,i,o,a,s){if(3===t.type){var u=e.data,c=u[s+1];vu(1==(1&c)?pu(u,t,n,i,mi(c),a):void 0)||(vu(o)||2==(2&c)&&(o=pu(u,null,n,i,s,a)),function(e,t,n,r,i){var o=rt(e);if(t)i?o?e.addClass(n,r):n.classList.add(r):o?e.removeClass(n,r):n.classList.remove(r);else{var a=-1==r.indexOf("-")?void 0:2;null==i?o?e.removeStyle(n,r,a):n.style.removeProperty(r):o?e.setStyle(n,r,i,a):n.style.setProperty(r,i)}}(r,a,at(Gt(),n),i,o))}}function pu(e,t,n,r,i,o){for(var a=null===t,s=void 0;i>0;){var u=e[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===oi&&(f=h?Bs:void 0);var d=h?Se(f,r):l===r?f:void 0;if(c&&!vu(d)&&(d=Se(u,r)),vu(d)&&(s=d,a))return s;var p=e[i+1];i=a?yi(p):mi(p)}if(null!==t){var v=o?t.residualClasses:t.residualStyles;null!=v&&(s=Se(v,r))}return s}function vu(e){return void 0!==e}function yu(e,t){return 0!=(e.flags&(t?16:32))}function gu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Ct(),r=wt(),i=e+20,o=r.firstCreatePass?Ei(r,n[6],e,3,null,null):r.data[i],a=n[i]=vo(t,n[11]);Io(r,n,a,o),St(o,!1)}function mu(e){return _u("",e,""),mu}function _u(e,t,n){var r=Ct(),i=Ba(r,e,t,n);return i!==oi&&lo(r,Gt(),i),_u}function bu(e,t,n,r,i){var o=Ct(),a=qa(o,e,t,n,r,i);return a!==oi&&lo(o,Gt(),a),bu}function Cu(e,t,n,r,i,o,a){var s=Ct(),u=Ha(s,e,t,n,r,i,o,a);return u!==oi&&lo(s,Gt(),u),Cu}function wu(e,t,n,r,i,o,a,s,u){var c=Ct(),l=za(c,e,t,n,r,i,o,a,s,u);return l!==oi&&lo(c,Gt(),l),wu}function ku(e,t,n,r,i,o,a,s,u,c,l){var h=Ct(),f=Wa(h,e,t,n,r,i,o,a,s,u,c,l);return f!==oi&&lo(h,Gt(),f),ku}function Eu(e,t,n,r,i,o,a,s,u,c,l,h,f){var d=Ct(),p=Ka(d,e,t,n,r,i,o,a,s,u,c,l,h,f);return p!==oi&&lo(d,Gt(),p),Eu}function Su(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p){var v=Ct(),y=Ga(v,e,t,n,r,i,o,a,s,u,c,l,h,f,d,p);return y!==oi&&lo(v,Gt(),y),Su}function Ou(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y){var g=Ct(),m=Qa(g,e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y);return m!==oi&&lo(g,Gt(),m),Ou}function Tu(e){var t=Ct(),n=Ua(t,e);return n!==oi&&lo(t,Gt(),n),Tu}function Iu(e,t,n){su(Ee,ou,Ba(Ct(),e,t,n),!0)}function Du(e,t,n,r,i){su(Ee,ou,qa(Ct(),e,t,n,r,i),!0)}function Au(e,t,n,r,i,o,a){su(Ee,ou,Ha(Ct(),e,t,n,r,i,o,a),!0)}function xu(e,t,n,r,i,o,a,s,u){su(Ee,ou,za(Ct(),e,t,n,r,i,o,a,s,u),!0)}function Pu(e,t,n,r,i,o,a,s,u,c,l){su(Ee,ou,Wa(Ct(),e,t,n,r,i,o,a,s,u,c,l),!0)}function Nu(e,t,n,r,i,o,a,s,u,c,l,h,f){su(Ee,ou,Ka(Ct(),e,t,n,r,i,o,a,s,u,c,l,h,f),!0)}function Ru(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p){su(Ee,ou,Ga(Ct(),e,t,n,r,i,o,a,s,u,c,l,h,f,d,p),!0)}function ju(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y){su(Ee,ou,Qa(Ct(),e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y),!0)}function Fu(e){su(Ee,ou,Ua(Ct(),e),!0)}function Mu(e,t,n){nu(Ba(Ct(),e,t,n))}function Lu(e,t,n,r,i){nu(qa(Ct(),e,t,n,r,i))}function Vu(e,t,n,r,i,o,a){nu(Ha(Ct(),e,t,n,r,i,o,a))}function Uu(e,t,n,r,i,o,a,s,u){nu(za(Ct(),e,t,n,r,i,o,a,s,u))}function Bu(e,t,n,r,i,o,a,s,u,c,l){nu(Wa(Ct(),e,t,n,r,i,o,a,s,u,c,l))}function qu(e,t,n,r,i,o,a,s,u,c,l,h,f){nu(Ka(Ct(),e,t,n,r,i,o,a,s,u,c,l,h,f))}function Hu(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p){nu(Ga(Ct(),e,t,n,r,i,o,a,s,u,c,l,h,f,d,p))}function zu(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y){nu(Qa(Ct(),e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y))}function Wu(e){nu(Ua(Ct(),e))}function Ku(e,t,n,r,i){return au(e,Ba(Ct(),t,n,r),i,!1),Ku}function Gu(e,t,n,r,i,o,a){return au(e,qa(Ct(),t,n,r,i,o),a,!1),Gu}function Qu(e,t,n,r,i,o,a,s,u){return au(e,Ha(Ct(),t,n,r,i,o,a,s),u,!1),Qu}function Zu(e,t,n,r,i,o,a,s,u,c,l){return au(e,za(Ct(),t,n,r,i,o,a,s,u,c),l,!1),Zu}function Ju(e,t,n,r,i,o,a,s,u,c,l,h,f){return au(e,Wa(Ct(),t,n,r,i,o,a,s,u,c,l,h),f,!1),Ju}function Yu(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p){return au(e,Ka(Ct(),t,n,r,i,o,a,s,u,c,l,h,f,d),p,!1),Yu}function Xu(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y){return au(e,Ga(Ct(),t,n,r,i,o,a,s,u,c,l,h,f,d,p,v),y,!1),Xu}function $u(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y,g,m){return au(e,Qa(Ct(),t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,y,g),m,!1),$u}function ec(e,t,n){return au(e,Ua(Ct(),t),n,!1),ec}function tc(e,t,n){var r=Ct();return ja(r,Nt(),t)&&Fi(wt(),Zt(),r,e,t,r[11],n,!0),tc}function nc(e,t,n){var r=Ct();if(ja(r,Nt(),t)){var i=wt(),o=Zt();Fi(i,o,r,e,t,so(Mt(i.data),o,r),n,!0)}return nc}function rc(e,t){var n=ht(e)[1],r=n.data.length-1;$t(n,{directiveStart:r,directiveEnd:r+1})}function ic(e){return Object.getPrototypeOf(e.prototype).constructor}function oc(e){for(var t=ic(e.type),n=!0,r=[e];t;){var i=void 0;if(Xe(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);var o=e;o.inputs=ac(e.inputs),o.declaredInputs=ac(e.declaredInputs),o.outputs=ac(e.outputs);var a=i.hostBindings;a&&cc(e,a);var s=i.viewQuery,u=i.contentQueries;if(s&&sc(e,s),u&&uc(e,u),E(e.inputs,i.inputs),E(e.declaredInputs,i.declaredInputs),E(e.outputs,i.outputs),Xe(i)&&i.data.animation){var c=e.data;c.animation=(c.animation||[]).concat(i.data.animation)}o.afterContentChecked=o.afterContentChecked||i.afterContentChecked,o.afterContentInit=e.afterContentInit||i.afterContentInit,o.afterViewChecked=e.afterViewChecked||i.afterViewChecked,o.afterViewInit=e.afterViewInit||i.afterViewInit,o.doCheck=e.doCheck||i.doCheck,o.onDestroy=e.onDestroy||i.onDestroy,o.onInit=e.onInit||i.onInit}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(e),f===oc&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,r=e.length-1;r>=0;r--){var i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=ln(i.hostAttrs,n=ln(n,i.hostAttrs))}}(r)}function ac(e){return e===De?{}:e===Ae?[]:e}function sc(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,r){t(e,r),n(e,r)}:t}function uc(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,r,i){t(e,r,i),n(e,r,i)}:t}function cc(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,r){t(e,r),n(e,r)}:t}var lc=["providersResolver"],hc=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function fc(e){var t,n=ic(e.type);t=Xe(e)?n.\u0275cmp:n.\u0275dir;var r,i=e,o=_createForOfIteratorHelper(lc);try{for(o.s();!(r=o.n()).done;){var a=r.value;i[a]=t[a]}}catch(l){o.e(l)}finally{o.f()}if(Xe(t)){var s,u=_createForOfIteratorHelper(hc);try{for(u.s();!(s=u.n()).done;){var c=s.value;i[c]=t[c]}}catch(l){u.e(l)}finally{u.f()}}}var dc=function(){function e(t,n,r){_classCallCheck(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return _createClass(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function pc(e){e.type.prototype.ngOnChanges&&(e.setInput=vc,e.onChanges=function(){var e=yc(this),t=e&&e.current;if(t){var n=e.previous;if(n===De)e.previous=t;else for(var r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}})}function vc(e,t,n,r){var i=yc(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:De,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new dc(u&&u.currentValue,t,a===De),e[r]=t}function yc(e){return e.__ngSimpleChanges__||null}function gc(e,t,n,r,i){if(e=V(e),Array.isArray(e))for(var o=0;o<e.length;o++)gc(e[o],t,n,r,i);else{var a=wt(),s=Ct(),u=ma(e)?e:V(e.provide),c=va(e),l=Et(),h=65535&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>16;if(ma(e)||!e.multi){var p=new an(c,i,as),v=bc(u,t,i?h:h+d,f);-1===v?(An(On(l,s),a,u),mc(a,e,t.length),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var y=bc(u,t,h+d,f),g=bc(u,t,h,h+d),m=y>=0&&n[y],_=g>=0&&n[g];if(i&&!_||!i&&!m){An(On(l,s),a,u);var b=function(e,t,n,r,i){var o=new an(e,n,as);return o.multi=[],o.index=t,o.componentProviders=0,_c(o,i,r&&!n),o}(i?wc:Cc,n.length,i,r,c);!i&&_&&(n[g].providerFactory=b),mc(a,e,t.length,0),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(b),s.push(b)}else mc(a,e,y>-1?y:g,_c(n[i?g:y],c,!i&&r));!i&&r&&_&&n[g].componentProviders++}}}function mc(e,t,n,r){var i=ma(t);if(i||t.useClass){var o=(t.useClass||t).prototype.ngOnDestroy;if(o){var a=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function _c(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function bc(e,t,n,r){for(var i=n;i<r;i++)if(t[i]===e)return i;return-1}function Cc(e,t,n,r){return kc(this.multi,[])}function wc(e,t,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=jn(n,n[1],this.providerFactory.index,r);kc(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else kc(o,i=[]);return i}function kc(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function Ec(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(e,t,n){var r=wt();if(r.firstCreatePass){var i=Xe(e);gc(n,r.data,r.blueprint,i,!0),gc(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}}pc.ngInherit=!0;var Sc=function e(){_classCallCheck(this,e)},Oc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(j(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),Tc=function(){var e=function e(){_classCallCheck(this,e)};return e.NULL=new Oc,e}(),Ic=function(){var e=function e(t){_classCallCheck(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=function(){return Dc(e)},e}(),Dc=function(e){return qo(e,Et(),Ct())},Ac=function e(){_classCallCheck(this,e)},xc=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}(),Pc=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Nc()},e}(),Nc=function(){var e=Ct(),t=lt(Et().index,e);return function(e){var t=e[11];if(rt(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Ge(t)?t:e)},Rc=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275prov=S({token:e,providedIn:"root",factory:function(){return null}}),e}(),jc=function e(t){_classCallCheck(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},Fc=new jc("9.1.13"),Mc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return xa(e)}},{key:"create",value:function(e){return new Vc(e)}}]),e}(),Lc=function(e,t){return t},Vc=function(){function e(t){_classCallCheck(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Lc}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<Hc(n,r,i)?t:n,a=Hc(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&e(o,a,s)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!xa(e))throw new Error("Error trying to diff '".concat(j(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)r=e[s],i=this._trackByFn(s,r),null!==o&&Da(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Da(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[Ia()]();!(r=i.next()).done;)t(r.value)}(e,(function(e){i=t._trackByFn(n,e),null!==o&&Da(o.trackById,i)?(a&&(o=t._verifyReinsertion(o,e,i,n)),Da(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Da(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Da(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new Uc(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new qc),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}]),e}(),Uc=function e(t,n){_classCallCheck(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Bc=function(){function e(){_classCallCheck(this,e),this._head=null,this._tail=null}return _createClass(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Da(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),qc=function(){function e(){_classCallCheck(this,e),this.map=new Map}return _createClass(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new Bc,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),e}();function Hc(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var zc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return e instanceof Map||Pa(e)}},{key:"create",value:function(){return new Wc}}]),e}(),Wc=function(){function e(){_classCallCheck(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(e,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||Pa(e)))throw new Error("Error trying to diff '".concat(j(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Kc(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Da(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(n){return t(e[n],n)}))}}]),e}(),Kc=function e(t){_classCallCheck(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Gc=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t,n=this.factories.find((function(t){return t.supports(e)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new _,new g]]}}}]),e}();return e.\u0275prov=S({token:e,providedIn:"root",factory:function(){return new e([new Mc])}}),e}(),Qc=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new _,new g]]}}}]),e}();return e.\u0275prov=S({token:e,providedIn:"root",factory:function(){return new e([new zc])}}),e}(),Zc=[new zc],Jc=new Gc([new Mc]),Yc=new Qc(Zc),Xc=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return $c(e,Ic)},e}(),$c=function(e,t){return Ho(e,t,Et(),Ct())},el=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return tl(e,Ic)},e}(),tl=function(e,t){return zo(e,t,Et(),Ct())},nl={},rl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).ngModule=e,r}return _createClass(n,[{key:"resolveComponentFactory",value:function(e){var t=qe(e);return new al(t,this.ngModule)}}]),n}(Tc);function il(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var ol=new ne("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return mn}}),al=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).componentDef=e,i.ngModule=r,i.componentType=e.type,i.selector=e.selectors.map(ii).join(","),i.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],i.isBoundToModule=!!r,i}return _createClass(n,[{key:"inputs",get:function(){return il(this.componentDef.inputs)}},{key:"outputs",get:function(){return il(this.componentDef.outputs)}},{key:"create",value:function(e,t,n,r){var i,o,a=(r=r||this.ngModule)?function(e,t){return{get:function(n,r,i){var o=e.get(n,nl,i);return o!==nl||r===nl?o:t.get(n,r,i)}}}(e,r.injector):e,s=a.get(Ac,it),u=a.get(Rc,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(e,t,n){if(rt(e))return e.selectRootElement(t,n===Ie.ShadowDom);var r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(c,n,this.componentDef.encapsulation):wi(l,s.createRenderer(null,this.componentDef),function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),p={components:[],scheduler:mn,clean:io,playerHandler:null,flags:0},v=Ni(0,-1,null,1,0,null,null,null,null,null),y=ki(null,v,p,f,null,null,s,c,u,a);Bt(y,null);try{var g=function(e,t,n,r,i,o){var a=n[1];n[20]=e;var s=Ei(a,null,0,3,null,null),u=s.mergedAttrs=t.hostAttrs;null!==u&&(Oa(s,u,!0),null!==e&&(sn(i,e,u),null!==s.classes&&Fo(i,e,s.classes),null!==s.styles&&jo(i,e,s.styles)));var c=r.createRenderer(e,t),l=ki(n,Pi(t),null,t.onPush?64:16,n[20],s,r,c,void 0);return a.firstCreatePass&&(An(On(s,n),a,t.type),qi(a,s),zi(s,n.length,1)),$i(n,l),n[20]=l}(h,this.componentDef,y,s,c);if(h)if(n)sn(c,h,["ng-version",Fc.full]);else{var m=function(e){for(var t=[],n=[],r=1,i=2;r<e.length;){var o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!$r(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),_=m.attrs,b=m.classes;_&&sn(c,h,_),b&&b.length>0&&Fo(c,h,b.join(" "))}if(o=ut(v,0),void 0!==t)for(var C=o.projection=[],w=0;w<this.ngContentSelectors.length;w++){var k=t[w];C.push(null!=k?Array.from(k):null)}i=function(e,t,n,r,i){var o=n[1],a=function(e,t,n){var r=Et();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Bi(e,r,1),Wi(e,t,n));var i=jn(t,e,t.length-1,r);Wr(i,t);var o=st(r,t);return o&&Wr(o,t),i}(o,n,t);r.components.push(a),e[8]=a,i&&i.forEach((function(e){return e(a,t)})),t.contentQueries&&t.contentQueries(1,a,n.length-1);var s=Et();if(o.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){Qt(s.index-20);var u=n[1];Li(u,t),Vi(u,n,t.hostVars),Ui(t,a)}return a}(g,this.componentDef,y,p,[rc]),Si(v,y,null)}finally{Kt()}var E=new sl(this.componentType,i,qo(Ic,o,y),y,o);return n&&!d||(v.node.child=o),E}}]),n}(Sc),sl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s,u,c,l;return _classCallCheck(this,n),(s=t.call(this)).location=i,s._rootLView=o,s._tNode=a,s.destroyCbs=[],s.instance=r,s.hostView=s.changeDetectorRef=new Bo(o),u=o[1],c=o,null==(l=u.node)&&(u.node=l=Ri(0,null,2,-1,null,null)),c[6]=l,s.componentType=e,s}return _createClass(n,[{key:"injector",get:function(){return new Ln(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(e){this.destroyCbs&&this.destroyCbs.push(e)}}]),n}(function(){return function e(){_classCallCheck(this,e)}}()),ul=void 0,cl=["en",[["a","p"],["AM","PM"],ul],[["AM","PM"],ul,ul],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ul,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ul,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ul,"{1} 'at' {0}",ul],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],ll={};function hl(e,t,n){"string"!=typeof t&&(n=t,t=e[yl.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),ll[t]=e,n&&(ll[t][yl.ExtraData]=n)}function fl(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=vl(t);if(n)return n;var r=t.split("-")[0];if(n=vl(r))return n;if("en"===r)return cl;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}function dl(e){return fl(e)[yl.CurrencyCode]||null}function pl(e){return fl(e)[yl.PluralCase]}function vl(e){return e in ll||(ll[e]=W.ng&&W.ng.common&&W.ng.common.locales&&W.ng.common.locales[e]),ll[e]}var yl=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencyCode]="CurrencyCode",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.Directionality]="Directionality",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),gl=["zero","one","two","few","many"],ml=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,_l=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,bl=/\ufffd(\/?[#*!]\d+):?\d*\ufffd/gi,Cl=/\ufffd(\d+):?\d*\ufffd/gi,wl=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,kl=/\[(\ufffd.+?\ufffd?)\]/,El=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,Sl=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Ol=/{([A-Z0-9_]+)}/g,Tl=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Il=/\/\*/,Dl=/\d+\:(\d+)/;function Al(e){if(!e)return[];var t,n=0,r=[],i=[],o=/[{}]/g;for(o.lastIndex=0;t=o.exec(e);){var a=t.index;if("}"==t[0]){if(r.pop(),0==r.length){var s=e.substring(n,a);ml.test(s)?i.push(xl(s)):i.push(s),n=a+1}}else{if(0==r.length){var u=e.substring(n,a);i.push(u),n=a+1}r.push("{")}}var c=e.substring(n);return i.push(c),i}function xl(e){for(var t=[],n=[],r=1,i=0,o=Al(e=e.replace(ml,(function(e,t,n){return r="select"===n?0:1,i=parseInt(t.substr(1),10),""}))),a=0;a<o.length;){var s=o[a++].trim();1===r&&(s=s.replace(/\s*(?:=)?(\w+)\s*/,"$1")),s.length&&t.push(s);var u=Al(o[a++]);t.length>n.length&&n.push(u)}return{type:r,mainBinding:i,cases:t,values:n}}function Pl(e){for(var t,n,r="",i=0,o=!1;null!==(t=_l.exec(e));)o?t[0]==="\ufffd/*".concat(n,"\ufffd")&&(i=t.index,o=!1):(r+=e.substring(i,t.index+t[0].length),n=t[1],o=!0);return r+=e.substr(i)}function Nl(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=[null,null],o=e.split(Cl),a=0,s=0;s<o.length;s++){var u=o[s];if(1&s){var c=parseInt(u,10);i.push(-1-c),a|=Ml(c)}else""!==u&&i.push(u)}return i.push(t<<2|(n?1:0)),n&&i.push(n,r),i[0]=a,i[1]=i.length-2,i}function Rl(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n|=Ml(e.mainBinding);for(var r=0;r<e.values.length;r++)for(var i=e.values[r],o=0;o<i.length;o++){var a=i[o];if("string"==typeof a)for(;t=Cl.exec(a);)n|=Ml(parseInt(t[1],10));else n=Rl(a,n)}return n}var jl=[],Fl=-1;function Ml(e){return 1<<Math.min(e,31)}var Ll,Vl=[];function Ul(e,t,n){var r=wt();jl[++Fl]=e,Ds(!0),r.firstCreatePass&&null===r.data[e+20]&&function(e,t,n,r,i){var o=t.blueprint.length-20;Ll=0;var a=Et(),s=Ot()?a:a&&a.parent,u=s&&s!==e[6]?s.index-20:n,c=0;Vl[c]=u;var l=[];if(n>0&&a!==s){var h=a.index-20;Ot()||(h=~h),l.push(h<<3|0)}var f,d=[],p=[];if(""===r&&Hl(i))l.push(r,Bl(o),u<<17|1);else for(var v=function(e,t){if(Hl(t))return Pl(e);var n=e.indexOf(":".concat(t,"\ufffd"))+2+t.toString().length,r=e.search(new RegExp("\ufffd\\/\\*\\d+:".concat(t,"\ufffd")));return Pl(e.substring(n,r))}(r,i),y=(f=v,f.replace(oh," ")).split(bl),g=0;g<y.length;g++){var m=y[g];if(1&g)if("/"===m.charAt(0)){if("#"===m.charAt(1)){var _=parseInt(m.substr(2),10);u=Vl[--c],l.push(_<<3|5)}}else{var b=parseInt(m.substr(1),10),C="#"===m.charAt(0);l.push((C?b:~b)<<3|0,u<<17|1),C&&(Vl[++c]=u=b)}else for(var w=Al(m),k=0;k<w.length;k++)if(1&k){var E=w[k];if("object"!=typeof E)throw new Error('Unable to parse ICU expression in "'.concat(v,'" message.'));var S=Bl(o);l.push(pi,"",S,u<<17|1);var O=Rl(E);nh(p,E,S,S);var T=p.length-1;d.push(Ml(E.mainBinding),3,-1-E.mainBinding,S<<2|2,T,O,2,S<<2|3,T)}else if(""!==w[k]){var I=w[k],D=I.match(Cl),A=Bl(o);l.push(D?"":I,A,u<<17|1),D&&me(Nl(I,A),d)}}Ll>0&&function(e,t,n){if(n>0&&e.firstCreatePass){for(var r=0;r<n;r++)e.blueprint.push(null),e.data.push(null),t.push(null);e.expandoInstructions?e.expandoInstructions.push(n):e.expandoStartIndex+=n}}(t,e,Ll),t.data[n+20]={vars:Ll,create:l,update:d,icus:p.length?p:null}}(Ct(),r,e,t,n)}function Bl(e){return e+Ll++}function ql(e,t,n,r,i){var o=t.next;r||(r=n),r===n&&t!==n.child?(t.next=n.child,n.child=t):r!==n&&t!==r.next?(t.next=r.next,r.next=t):t.next=null,n!==i[6]&&(t.parent=n);for(var a=t.next;a;)a.next===t&&(a.next=o),a=a.next;if(1===t.type)return No(e,i,t),t;Io(e,i,st(t,i),t);var s=i[t.index];return 0!==t.type&&Qe(s)&&Io(e,i,s[7],t),t}function Hl(e){return void 0===e}function zl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if(kl.test(e)){var r={},i=[0];n=n.replace(El,(function(e,t,n){var o=t||n,a=r[o]||[];if(a.length||(o.split("|").forEach((function(e){var t=e.match(Dl),n=t?parseInt(t[1],10):0,r=Il.test(e);a.push([n,r,e])})),r[o]=a),!a.length)throw new Error("i18n postprocess: unmatched placeholder - "+o);for(var s=i[i.length-1],u=0,c=0;c<a.length;c++)if(a[c][0]===s){u=c;break}var l=_slicedToArray(a[u],3),h=l[0],f=l[1],d=l[2];return f?i.pop():s!==h&&i.push(h),a.splice(u,1),d}))}return Object.keys(t).length?n=(n=(n=n.replace(Sl,(function(e,n,r,i,o,a){return t.hasOwnProperty(r)?"".concat(n).concat(t[r]).concat(a):e}))).replace(Ol,(function(e,n){return t.hasOwnProperty(n)?t[n]:e}))).replace(Tl,(function(e,n){if(t.hasOwnProperty(n)){var r=t[n];if(!r.length)throw new Error("i18n postprocess: unmatched ICU - ".concat(e," with key: ").concat(n));return r.shift()}return e})):n}function Wl(){var e=Ct();!function(e,t){for(var n=jl[Fl--],r=e.data[n+20],i=Et(),o=Gl(n,r.create,e,t),a=n+1;a<=i.index-20;){-1===o.indexOf(a)&&Ql(e,t,a,!0);var s=ut(e,a);!s||0!==s.type&&3!==s.type&&4!==s.type||null===s.localNames||(a+=s.localNames.length>>1),a++}}(wt(),e),Ds(!1)}function Kl(e,t,n,r,i,o){var a=Et();t[n+20]=i;var s=Ei(e,t[6],n,r,o,null);return a&&a.next===s&&(a.next=null),s}function Gl(e,t,n,r){for(var i=r[11],o=null,a=null,s=[],u=0;u<t.length;u++){var c=t[u];if("string"==typeof c){var l=vo(c,i),h=t[++u];a=o,o=Kl(n,r,h,3,l,null),s.push(h),Tt()}else if("number"==typeof c)switch(7&c){case 1:var f=c>>>17;a=ql(n,o,f===e?r[6]:ut(n,f),a,r);break;case 0:var d=c>=0,p=(d?c:~c)>>>3;s.push(p),a=o,(o=ut(n,p))&&St(o,d);break;case 5:a=o=ut(n,c>>>3),St(o,!1);break;case 4:var v=t[++u],y=t[++u];Gi(ut(n,c>>>3),r,v,y,null,null);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(c,'"'))}else switch(c){case pi:var g=t[++u],m=t[++u],_=i.createComment(g);a=o,o=Kl(n,r,m,5,_,null),s.push(m),Wr(_,r),o.activeCaseIndex=null,Tt();break;case di:var b=t[++u],C=t[++u];a=o,o=Kl(n,r,C,3,i.createElement(b),b),s.push(C);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(c,'"'))}}return Tt(),s}function Ql(e,t,n,r){var i=ut(e,n),o=at(n,t);o&&Ao(t[11],o);var a=ct(t,n);if(Qe(a)){var s=a;0!==i.type&&Ao(t[11],s[7])}r&&(i.flags|=64)}function Zl(e,t,n){Ul(e,t,n),Wl()}function Jl(e,t){!function(e,t,n,r){for(var i=Et().index-20,o=[],a=0;a<r.length;a+=2)for(var s=r[a],u=r[a+1].split(wl),c=0;c<u.length;c++){var l=u[c];if(1&c)throw new Error("ICU expressions are not yet supported in attributes");if(""!==l)if(l.match(Cl))t.firstCreatePass&&null===t.data[n+20]&&me(Nl(l,i,s),o);else{var h=ut(t,i);3===h.type&&Gi(h,e,s,l,null,null);var f=null!==h.inputs&&h.inputs[s];f&&co(t,e,f,s,l)}}t.firstCreatePass&&null===t.data[n+20]&&(t.data[n+20]=o)}(Ct(),wt(),e,t)}var Yl=0,Xl=0;function $l(e){return ja(Ct(),Nt(),e)&&(Yl|=1<<Xl),Xl++,$l}function eh(e){if(Xl){var t,n=wt(),r=n.data[e+20],i=null;Array.isArray(r)?t=r:(t=r.update,i=r.icus);var o=xt()-Xl-1,a=Ct();!function e(t,n,r,i,o,a){for(var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=!1,c=0;c<t.length;c++){var l=t[c],h=t[++c];if(s||l&i)for(var f="",d=c+1;d<=c+h;d++){var p=t[d];if("string"==typeof p)f+=p;else if("number"==typeof p)if(p<0)f+=yn(a[r-p]);else{var v=p>>>2,y=void 0,g=void 0;switch(3&p){case 1:var m=t[++d],_=t[++d];Fi(o,ut(o,v),a,m,f,a[11],_,!1);break;case 0:lo(a,v,f);break;case 2:if(y=n[t[++d]],null!==(g=ut(o,v)).activeCaseIndex)for(var b=y.remove[g.activeCaseIndex],C=0;C<b.length;C++){var w=b[C];switch(7&w){case 3:Ql(o,a,w>>>3,!1);break;case 6:var k=ut(o,b[C+1]>>>3).activeCaseIndex;null!==k&&me(n[w>>>3].remove[k],b)}}var E=th(y,f);g.activeCaseIndex=-1!==E?E:null,E>-1&&(Gl(-1,y.create[E],o,a),u=!0);break;case 3:y=n[t[++d]],null!==(g=ut(o,v)).activeCaseIndex&&e(y.update[g.activeCaseIndex],n,r,i,o,a,u)}}}c+=h}}(t,i,o,Yl,n,a),Yl=0,Xl=0}}function th(e,t){var n,r,i,o=e.cases.indexOf(t);if(-1===o)switch(e.type){case 1:var a=(n=t,r=pl(ah)(parseInt(n,10)),void 0!==(i=gl[r])?i:"other");-1===(o=e.cases.indexOf(a))&&"other"!==a&&(o=e.cases.indexOf("other"));break;case 0:o=e.cases.indexOf("other")}return o}function nh(e,t,n,r){for(var i=[],o=[],a=[],s=[],u=[],c=0;c<t.values.length;c++){for(var l=t.values[c],h=[],f=0;f<l.length;f++){var d=l[f];if("string"!=typeof d){var p=h.push(d)-1;l[f]="\x3c!--\ufffd".concat(p,"\ufffd--\x3e")}}var v=rh(l.join(""),n,h,e,r);i.push(v.create),o.push(v.remove),a.push(v.update),s.push(v.vars),u.push(v.childIcus)}e.push({type:t.type,vars:s,childIcus:u,cases:t.cases,create:i,remove:o,update:a}),Ll+=Math.max.apply(Math,s)}function rh(e,t,n,r,i){var o=new cr(nt()).getInertBodyElement(e);if(!o)throw new Error("Unable to generate inert body element");var a={vars:0,childIcus:[],create:[],remove:[],update:[]};return function e(t,n,r,i,o,a){if(t){for(var s=[];t;){var u=t.nextSibling,c=a+ ++n.vars;switch(t.nodeType){case Node.ELEMENT_NODE:var l=t,h=l.tagName.toLowerCase();if(Cr.hasOwnProperty(h)){n.create.push(di,h,c,r<<17|1);for(var f=l.attributes,d=0;d<f.length;d++){var p=f.item(d),v=p.name.toLowerCase();p.value.match(Cl)?Er.hasOwnProperty(v)&&me(wr[v]?Nl(p.value,c,p.name,fr):kr[v]?Nl(p.value,c,p.name,dr):Nl(p.value,c,p.name),n.update):n.create.push(c<<3|4,p.name,p.value)}e(t.firstChild,n,c,i,o,a),n.remove.push(c<<3|3)}else n.vars--;break;case Node.TEXT_NODE:var y=t.textContent||"",g=y.match(Cl);n.create.push(g?"":y,c,r<<17|1),n.remove.push(c<<3|3),g&&me(Nl(y,c),n.update);break;case Node.COMMENT_NODE:var m=ih.exec(t.textContent||"");if(m){var _=parseInt(m[1],10);n.create.push(pi,"",c,r<<17|1),s.push([i[_],c])}else n.vars--;break;default:n.vars--}t=u}for(var b=0;b<s.length;b++){var C=s[b][0],w=s[b][1];nh(o,C,w,a+n.vars);var k=o.length-1;n.vars+=Math.max.apply(Math,_toConsumableArray(o[k].vars)),n.childIcus.push(k);var E=Rl(C);n.update.push(Ml(C.mainBinding),3,-1-C.mainBinding,w<<2|2,k,E,2,w<<2|3,k),n.remove.push(k<<3|6,w<<3|3)}}}((xr(o)||o).firstChild,a,t,n,r,i),a}var ih=/\ufffd(\d+)\ufffd/,oh=/\uE500/g,ah="en-US";function sh(e){var t;null==(t=e)&&function(e,t,n,r){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(t," <=Actual]"))}(0,t),"string"==typeof e&&(ah=e.toLowerCase().replace(/_/g,"-"))}function uh(e,t,n,r){return u((function(){var i,o=e,a=o.prototype?Object.getPrototypeOf(o.prototype):null,s=a&&a.constructor;null!==t&&(void 0===o.decorators||s&&s.decorators===o.decorators?o.decorators=t:(i=o.decorators).push.apply(i,_toConsumableArray(t))),null!==n&&(o.ctorParameters=n),null!==r&&(o.propDecorators=void 0===o.propDecorators||s&&s.propDecorators===o.propDecorators?r:Object.assign(Object.assign({},o.propDecorators),r))}))}var ch=new Map,lh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;_classCallCheck(this,n),(i=t.call(this))._parent=r,i._bootstrapComponents=[],i.injector=_assertThisInitialized(i),i.destroyCbs=[],i.componentFactoryResolver=new rl(_assertThisInitialized(i));var o=Ke(e),a=e[$]||null;return a&&sh(a),i._bootstrapComponents=wn(o.bootstrap),i._r3Injector=fa(e,r,[{provide:ye,useValue:_assertThisInitialized(i)},{provide:Tc,useValue:i.componentFactoryResolver}],j(e)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(e),i}return _createClass(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ba.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w.Default;return e===ba||e===ye||e===re?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(ye),hh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).moduleType=e,null!==Ke(e)&&function e(t){if(null!==t.\u0275mod.id){var n=t.\u0275mod.id;(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(j(t)," vs ").concat(j(t.name)))})(n,ch.get(n),t),ch.set(n,t)}var r=t.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(t){return e(t)}))}(e),r}return _createClass(n,[{key:"create",value:function(e){return new lh(this.moduleType,e)}}]),n}(ge);function fh(e,t,n){var r=At()+e,i=Ct();return i[r]===oi?Na(i,r,n?t.call(n):t()):Ra(i,r)}function dh(e,t,n,r){return kh(Ct(),At(),e,t,n,r)}function ph(e,t,n,r,i){return Eh(Ct(),At(),e,t,n,r,i)}function vh(e,t,n,r,i,o){return Sh(Ct(),At(),e,t,n,r,i,o)}function yh(e,t,n,r,i,o,a){return Oh(Ct(),At(),e,t,n,r,i,o,a)}function gh(e,t,n,r,i,o,a,s){var u=At()+e,c=Ct(),l=La(c,u,n,r,i,o);return ja(c,u+4,a)||l?Na(c,u+5,s?t.call(s,n,r,i,o,a):t(n,r,i,o,a)):Ra(c,u+5)}function mh(e,t,n,r,i,o,a,s,u){var c=At()+e,l=Ct(),h=La(l,c,n,r,i,o);return Fa(l,c+4,a,s)||h?Na(l,c+6,u?t.call(u,n,r,i,o,a,s):t(n,r,i,o,a,s)):Ra(l,c+6)}function _h(e,t,n,r,i,o,a,s,u,c){var l=At()+e,h=Ct(),f=La(h,l,n,r,i,o);return Ma(h,l+4,a,s,u)||f?Na(h,l+7,c?t.call(c,n,r,i,o,a,s,u):t(n,r,i,o,a,s,u)):Ra(h,l+7)}function bh(e,t,n,r,i,o,a,s,u,c,l){var h=At()+e,f=Ct(),d=La(f,h,n,r,i,o);return La(f,h+4,a,s,u,c)||d?Na(f,h+8,l?t.call(l,n,r,i,o,a,s,u,c):t(n,r,i,o,a,s,u,c)):Ra(f,h+8)}function Ch(e,t,n,r){return Th(Ct(),At(),e,t,n,r)}function wh(e,t){var n=e[t];return n===oi?void 0:n}function kh(e,t,n,r,i,o){var a=t+n;return ja(e,a,i)?Na(e,a+1,o?r.call(o,i):r(i)):wh(e,a+1)}function Eh(e,t,n,r,i,o,a){var s=t+n;return Fa(e,s,i,o)?Na(e,s+2,a?r.call(a,i,o):r(i,o)):wh(e,s+2)}function Sh(e,t,n,r,i,o,a,s){var u=t+n;return Ma(e,u,i,o,a)?Na(e,u+3,s?r.call(s,i,o,a):r(i,o,a)):wh(e,u+3)}function Oh(e,t,n,r,i,o,a,s,u){var c=t+n;return La(e,c,i,o,a,s)?Na(e,c+4,u?r.call(u,i,o,a,s):r(i,o,a,s)):wh(e,c+4)}function Th(e,t,n,r,i,o){for(var a=t+n,s=!1,u=0;u<i.length;u++)ja(e,a++,i[u])&&(s=!0);return s?Na(e,a,r.apply(o,i)):wh(e,a)}function Ih(e,t){var n,r=wt(),i=e+20;r.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var r=t[n];if(e===r.name)return r}throw new Error("The pipe '".concat(e,"' could not be found!"))}(t,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=We(n.type)),a=ce(as),s=En(!1),u=o();return En(s),ce(a),function(e,t,n,r){var i=n+20;i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),t[i]=r}(r,Ct(),e,u),u}function Dh(e,t,n){var r=Ct(),i=ct(r,e);return jh(r,Rh(r,e)?kh(r,At(),t,i.transform,n,i):i.transform(n))}function Ah(e,t,n,r){var i=Ct(),o=ct(i,e);return jh(i,Rh(i,e)?Eh(i,At(),t,o.transform,n,r,o):o.transform(n,r))}function xh(e,t,n,r,i){var o=Ct(),a=ct(o,e);return jh(o,Rh(o,e)?Sh(o,At(),t,a.transform,n,r,i,a):a.transform(n,r,i))}function Ph(e,t,n,r,i,o){var a=Ct(),s=ct(a,e);return jh(a,Rh(a,e)?Oh(a,At(),t,s.transform,n,r,i,o,s):s.transform(n,r,i,o))}function Nh(e,t,n){var r=Ct(),i=ct(r,e);return jh(r,Rh(r,e)?Th(r,At(),t,i.transform,n,i):i.transform.apply(i,n))}function Rh(e,t){return e[1].data[t+20].pure}function jh(e,t){return Aa.isWrapped(t)&&(t=Aa.unwrap(t),e[xt()]=oi),t}var Fh=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(e=t.call(this)).__isAsync=r,e}return _createClass(n,[{key:"emit",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,r){var o,a=function(e){return null},s=function(){return null};e&&"object"==typeof e?(o=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(a=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(o=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},t&&(a=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)}),r&&(s=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var u=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,o,a,s);return e instanceof i.a&&e.add(u),u}}]),n}(r.a);function Mh(){return this._results[Ia()]()}var Lh=function(){function e(){_classCallCheck(this,e),this.dirty=!0,this._results=[],this.changes=new Fh,this.length=0;var t=Ia(),n=e.prototype;n[t]||(n[t]=Mh)}return _createClass(e,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=_e(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),Vh=function(){function e(t){_classCallCheck(this,e),this.queryList=t,this.matches=null}return _createClass(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),Uh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new e(i)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==rf(e,t).matches&&this.queries[t].setDirty()}}]),e}(),Bh=function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.predicate=t,this.descendants=n,this.isStatic=r,this.read=i},qh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(e){this.queries.push(e)}}]),e}(),Hh=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&4===n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,r=0;r<n.length;r++)this.matchTNodeWithReadOption(e,t,zh(t,n[r]));else{var i=this.metadata.predicate;i===Xc?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Rn(t,e,i,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===Ic||r===el||r===Xc&&0===t.type)this.addMatch(t.index,-2);else{var i=Rn(t,e,r,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function zh(e,t){var n=e.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Wh(e,t,n,r){return-1===n?function(e,t){return 3===e.type||4===e.type?qo(Ic,e,t):0===e.type?Ho(Xc,Ic,e,t):null}(t,e):-2===n?function(e,t,n){return n===Ic?qo(Ic,t,e):n===Xc?Ho(Xc,Ic,t,e):n===el?zo(el,Ic,t,e):void 0}(e,t,r):jn(e,e[1],n,t)}function Kh(e,t,n,r){var i=t[19].queries[r];if(null===i.matches){for(var o=e.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:Wh(t,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function Gh(e){var t=Ct(),n=wt(),r=Lt();Vt(r+1);var i=rf(n,r);if(e.dirty&&ft(t)===i.metadata.isStatic){if(null===i.matches)e.reset([]);else{var o=i.crossesNgTemplate?function e(t,n,r,i){var o=t.queries.getByIndex(r),a=o.matches;if(null!==a)for(var s=Kh(t,n,o,r),u=0;u<a.length;u+=2){var c=a[u];if(c>0)i.push(s[u/2]);else{for(var l=a[u+1],h=n[-c],f=10;f<h.length;f++){var d=h[f];d[17]===d[3]&&e(d[1],d,l,i)}if(null!==h[9])for(var p=h[9],v=0;v<p.length;v++){var y=p[v];e(y[1],y,l,i)}}}return i}(n,t,r,[]):Kh(n,t,i,r);e.reset(o),e.notifyOnChanges()}return!0}return!1}function Qh(e,t,n){Jh(wt(),Ct(),e,t,n,!0)}function Zh(e,t,n){Jh(wt(),Ct(),e,t,n,!1)}function Jh(e,t,n,r,i,o){e.firstCreatePass&&(nf(e,new Bh(n,r,o,i),-1),o&&(e.staticViewQueries=!0)),tf(e,t)}function Yh(e,t,n,r){$h(wt(),Ct(),t,n,r,!1,Et(),e)}function Xh(e,t,n,r){$h(wt(),Ct(),t,n,r,!0,Et(),e)}function $h(e,t,n,r,i,o,a,s){e.firstCreatePass&&(nf(e,new Bh(n,r,o,i),a.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(e,s),o&&(e.staticContentQueries=!0)),tf(e,t)}function ef(){return e=Ct(),t=Lt(),e[19].queries[t].queryList;var e,t}function tf(e,t){var n=new Lh;!function(e,t,n,r){var i=oo(t);i.push(n),e.firstCreatePass&&ao(e).push(r,i.length-1)}(e,t,n,n.destroy),null===t[19]&&(t[19]=new Uh),t[19].queries.push(new Vh(n))}function nf(e,t,n){null===e.queries&&(e.queries=new qh),e.queries.track(new Hh(t,n))}function rf(e,t){return e.queries.getByIndex(t)}function of(e,t){return Ho(Xc,Ic,e,t)}function af(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w.Default,t=Wo(!0);if(null!=t||e&w.Optional)return t;throw new Error("No provider for ChangeDetectorRef!")}var sf={"\u0275\u0275attribute":Va,"\u0275\u0275attributeInterpolate1":Za,"\u0275\u0275attributeInterpolate2":Ja,"\u0275\u0275attributeInterpolate3":Ya,"\u0275\u0275attributeInterpolate4":Xa,"\u0275\u0275attributeInterpolate5":$a,"\u0275\u0275attributeInterpolate6":es,"\u0275\u0275attributeInterpolate7":ts,"\u0275\u0275attributeInterpolate8":ns,"\u0275\u0275attributeInterpolateV":rs,"\u0275\u0275defineComponent":Pe,"\u0275\u0275defineDirective":Ue,"\u0275\u0275defineInjectable":S,"\u0275\u0275defineInjector":O,"\u0275\u0275defineNgModule":Me,"\u0275\u0275definePipe":Be,"\u0275\u0275directiveInject":as,"\u0275\u0275getFactoryOf":Vn,"\u0275\u0275getInheritedFactory":Un,"\u0275\u0275inject":he,"\u0275\u0275injectAttribute":ss,"\u0275\u0275invalidFactory":us,"\u0275\u0275invalidFactoryDep":fe,"\u0275\u0275injectPipeChangeDetectorRef":af,"\u0275\u0275templateRefExtractor":of,"\u0275\u0275NgOnChangesFeature":pc,"\u0275\u0275ProvidersFeature":Ec,"\u0275\u0275CopyDefinitionFeature":fc,"\u0275\u0275InheritDefinitionFeature":oc,"\u0275\u0275nextContext":Ss,"\u0275\u0275namespaceHTML":Xt,"\u0275\u0275namespaceMathML":Yt,"\u0275\u0275namespaceSVG":Jt,"\u0275\u0275enableBindings":_t,"\u0275\u0275disableBindings":bt,"\u0275\u0275elementStart":hs,"\u0275\u0275elementEnd":fs,"\u0275\u0275element":ds,"\u0275\u0275elementContainerStart":ps,"\u0275\u0275elementContainerEnd":vs,"\u0275\u0275elementContainer":ys,"\u0275\u0275pureFunction0":fh,"\u0275\u0275pureFunction1":dh,"\u0275\u0275pureFunction2":ph,"\u0275\u0275pureFunction3":vh,"\u0275\u0275pureFunction4":yh,"\u0275\u0275pureFunction5":gh,"\u0275\u0275pureFunction6":mh,"\u0275\u0275pureFunction7":_h,"\u0275\u0275pureFunction8":bh,"\u0275\u0275pureFunctionV":Ch,"\u0275\u0275getCurrentView":gs,"\u0275\u0275restoreView":kt,"\u0275\u0275listener":bs,"\u0275\u0275projection":As,"\u0275\u0275updateSyntheticHostBinding":nc,"\u0275\u0275componentHostSyntheticListener":Cs,"\u0275\u0275pipeBind1":Dh,"\u0275\u0275pipeBind2":Ah,"\u0275\u0275pipeBind3":xh,"\u0275\u0275pipeBind4":Ph,"\u0275\u0275pipeBindV":Nh,"\u0275\u0275projectionDef":Ts,"\u0275\u0275hostProperty":tc,"\u0275\u0275property":cs,"\u0275\u0275propertyInterpolate":xs,"\u0275\u0275propertyInterpolate1":Ps,"\u0275\u0275propertyInterpolate2":Ns,"\u0275\u0275propertyInterpolate3":Rs,"\u0275\u0275propertyInterpolate4":js,"\u0275\u0275propertyInterpolate5":Fs,"\u0275\u0275propertyInterpolate6":Ms,"\u0275\u0275propertyInterpolate7":Ls,"\u0275\u0275propertyInterpolate8":Vs,"\u0275\u0275propertyInterpolateV":Us,"\u0275\u0275pipe":Ih,"\u0275\u0275queryRefresh":Gh,"\u0275\u0275viewQuery":Zh,"\u0275\u0275staticViewQuery":Qh,"\u0275\u0275staticContentQuery":Xh,"\u0275\u0275loadQuery":ef,"\u0275\u0275contentQuery":Yh,"\u0275\u0275reference":os,"\u0275\u0275classMap":iu,"\u0275\u0275classMapInterpolate1":Iu,"\u0275\u0275classMapInterpolate2":Du,"\u0275\u0275classMapInterpolate3":Au,"\u0275\u0275classMapInterpolate4":xu,"\u0275\u0275classMapInterpolate5":Pu,"\u0275\u0275classMapInterpolate6":Nu,"\u0275\u0275classMapInterpolate7":Ru,"\u0275\u0275classMapInterpolate8":ju,"\u0275\u0275classMapInterpolateV":Fu,"\u0275\u0275styleMap":nu,"\u0275\u0275styleMapInterpolate1":Mu,"\u0275\u0275styleMapInterpolate2":Lu,"\u0275\u0275styleMapInterpolate3":Vu,"\u0275\u0275styleMapInterpolate4":Uu,"\u0275\u0275styleMapInterpolate5":Bu,"\u0275\u0275styleMapInterpolate6":qu,"\u0275\u0275styleMapInterpolate7":Hu,"\u0275\u0275styleMapInterpolate8":zu,"\u0275\u0275styleMapInterpolateV":Wu,"\u0275\u0275styleProp":eu,"\u0275\u0275stylePropInterpolate1":Ku,"\u0275\u0275stylePropInterpolate2":Gu,"\u0275\u0275stylePropInterpolate3":Qu,"\u0275\u0275stylePropInterpolate4":Zu,"\u0275\u0275stylePropInterpolate5":Ju,"\u0275\u0275stylePropInterpolate6":Yu,"\u0275\u0275stylePropInterpolate7":Xu,"\u0275\u0275stylePropInterpolate8":$u,"\u0275\u0275stylePropInterpolateV":ec,"\u0275\u0275styleSanitizer":$s,"\u0275\u0275classProp":tu,"\u0275\u0275select":hi,"\u0275\u0275advance":li,"\u0275\u0275template":is,"\u0275\u0275text":gu,"\u0275\u0275textInterpolate":mu,"\u0275\u0275textInterpolate1":_u,"\u0275\u0275textInterpolate2":bu,"\u0275\u0275textInterpolate3":Cu,"\u0275\u0275textInterpolate4":wu,"\u0275\u0275textInterpolate5":ku,"\u0275\u0275textInterpolate6":Eu,"\u0275\u0275textInterpolate7":Su,"\u0275\u0275textInterpolate8":Ou,"\u0275\u0275textInterpolateV":Tu,"\u0275\u0275i18n":Zl,"\u0275\u0275i18nAttributes":Jl,"\u0275\u0275i18nExp":$l,"\u0275\u0275i18nStart":Ul,"\u0275\u0275i18nEnd":Wl,"\u0275\u0275i18nApply":eh,"\u0275\u0275i18nPostprocess":zl,"\u0275\u0275resolveWindow":_n,"\u0275\u0275resolveDocument":bn,"\u0275\u0275resolveBody":Cn,"\u0275\u0275setComponentScope":Ne,"\u0275\u0275setNgModuleScope":Le,"\u0275\u0275sanitizeHtml":Fr,"\u0275\u0275sanitizeStyle":Mr,"\u0275\u0275defaultStyleSanitizer":qr,"\u0275\u0275sanitizeResourceUrl":Vr,"\u0275\u0275sanitizeScript":Ur,"\u0275\u0275sanitizeUrl":Lr,"\u0275\u0275sanitizeUrlOrResourceUrl":Br},uf=[],cf=[],lf=!1;function hf(e){return Array.isArray(e)?e.every(hf):!!V(e)}function ff(e,t){var n=_e(t.declarations||uf),r=pf(e);n.forEach((function(t){t.hasOwnProperty(Z)?df(qe(t),r):t.hasOwnProperty(J)||t.hasOwnProperty(Y)||(t.ngSelectorScope=e)}))}function df(e,t){e.directiveDefs=function(){return Array.from(t.compilation.directives).map((function(e){return e.hasOwnProperty(Z)?qe(e):He(e)})).filter((function(e){return!!e}))},e.pipeDefs=function(){return Array.from(t.compilation.pipes).map((function(e){return ze(e)}))},e.schemas=t.schemas,e.tView=null}function pf(e){if(!yf(e))throw new Error(e.name+" does not have a module def (\u0275mod property)");var t=Ke(e);if(null!==t.transitiveCompileScopes)return t.transitiveCompileScopes;var n={schemas:t.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return wn(t.imports).forEach((function(e){var t=e;if(!yf(t))throw new Error("Importing ".concat(t.name," which does not have a \u0275mod property"));var r=pf(t);r.exported.directives.forEach((function(e){return n.compilation.directives.add(e)})),r.exported.pipes.forEach((function(e){return n.compilation.pipes.add(e)}))})),wn(t.declarations).forEach((function(e){ze(e)?n.compilation.pipes.add(e):n.compilation.directives.add(e)})),wn(t.exports).forEach((function(e){var t=e;if(yf(t)){var r=pf(t);r.exported.directives.forEach((function(e){n.compilation.directives.add(e),n.exported.directives.add(e)})),r.exported.pipes.forEach((function(e){n.compilation.pipes.add(e),n.exported.pipes.add(e)}))}else ze(t)?n.exported.pipes.add(t):n.exported.directives.add(t)})),t.transitiveCompileScopes=n,n}function vf(e){return function(e){return void 0!==e.ngModule}(e)?e.ngModule:e}function yf(e){return!!Ke(e)}function gf(e,t){var n=null;_f(e,t||{}),Object.defineProperty(e,J,{get:function(){if(null===n){var r=mf(e,t||{});n=G().compileDirective(sf,r.sourceMapUrl,r.metadata)}return n},configurable:!1})}function mf(e,t){var n=e&&e.name,r="ng:///".concat(n,"/\u0275dir.js"),i=G(),o=Cf(e,t);return o.typeSourceSpan=i.createParseSourceSpan("Directive",n,r),o.usesInheritance&&wf(e),{metadata:o,sourceMapUrl:r}}function _f(e,t){var n=null;Object.defineProperty(e,ee,{get:function(){if(null===n){var r=mf(e,t),i=G();n=i.compileFactory(sf,"ng:///".concat(e.name,"/\u0275fac.js"),Object.assign(Object.assign({},r.metadata),{injectFn:"directiveInject",target:i.R3FactoryTarget.Directive}))}return n},configurable:!1})}function bf(e){return Object.getPrototypeOf(e.prototype)===Object.prototype}function Cf(e,t){var n,r=ia(),i=r.ownPropMetadata(e);return{name:e.name,type:e,typeArgumentCount:0,selector:void 0!==t.selector?t.selector:null,deps:oa(e),host:t.host||De,propMetadata:i,inputs:t.inputs||Ae,outputs:t.outputs||Ae,queries:kf(e,i,Ef),lifecycle:{usesOnChanges:r.hasLifecycleHook(e,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!bf(e),exportAs:(n=t.exportAs,void 0===n?null:Tf(n)),providers:t.providers||null,viewQueries:kf(e,i,Sf)}}function wf(e){for(var t=Object.prototype,n=Object.getPrototypeOf(e.prototype).constructor;n&&n!==t;)He(n)||qe(n)||!Df(n)||gf(n,null),n=Object.getPrototypeOf(n)}function kf(e,t,n){var r=[],i=function(i){if(t.hasOwnProperty(i)){var o=t[i];o.forEach((function(t){if(n(t)){if(!t.selector)throw new Error("Can't construct a query for the property \"".concat(i,'" of "').concat(gn(e),"\" since the query selector wasn't defined."));if(o.some(Of))throw new Error("Cannot combine @Input decorators with query decorators");r.push(function(e,t){return{propertyName:e,predicate:(n=t.selector,"string"==typeof n?Tf(n):V(n)),descendants:t.descendants,first:t.first,read:t.read?t.read:null,static:!!t.static};var n}(i,t))}}))}};for(var o in t)i(o);return r}function Ef(e){var t=e.ngMetadataName;return"ContentChild"===t||"ContentChildren"===t}function Sf(e){var t=e.ngMetadataName;return"ViewChild"===t||"ViewChildren"===t}function Of(e){return"Input"===e.ngMetadataName}function Tf(e){return e.split(",").map((function(e){return e.trim()}))}var If=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function Df(e){var t=ia();if(If.some((function(n){return t.hasLifecycleHook(e,n)})))return!0;var n=t.propMetadata(e);for(var r in n)for(var i=n[r],o=0;o<i.length;o++){var a=i[o],s=a.ngMetadataName;if(Of(a)||Ef(a)||Sf(a)||"Output"===s||"HostBinding"===s||"HostListener"===s)return!0}return!1}function Af(e,t){return{type:e,typeArgumentCount:0,name:e.name,deps:oa(e),pipeName:t.name,pure:void 0===t.pure||t.pure}}var xf=f("Directive",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e}),void 0,void 0,(function(e,t){return Mf(e,t)})),Pf=f("Component",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({changeDetection:Te.Default},e)}),xf,void 0,(function(e,t){return Ff(e,t)})),Nf=f("Pipe",(function(e){return Object.assign({pure:!0},e)}),void 0,void 0,(function(e,t){return Lf(e,t)})),Rf=v("Input",(function(e){return{bindingPropertyName:e}})),jf=v("Output",(function(e){return{bindingPropertyName:e}})),Ff=function(e,t){var n=null;!function(e,t){Ea(t)&&(wa.set(e,t),ka.add(e))}(e,t),_f(e,t),Object.defineProperty(e,Z,{get:function(){if(null===n){var r=G();if(Ea(t)){var i=["Component '".concat(e.name,"' is not resolved:")];throw t.templateUrl&&i.push(" - templateUrl: "+t.templateUrl),t.styleUrls&&t.styleUrls.length&&i.push(" - styleUrls: "+JSON.stringify(t.styleUrls)),i.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(i.join("\n"))}var o=t.preserveWhitespaces;void 0===o&&(o=!1);var a=t.encapsulation;void 0===a&&(a=Ie.Emulated);var s=t.templateUrl||"ng:///".concat(e.name,"/template.html"),u=Object.assign(Object.assign({},Cf(e,t)),{typeSourceSpan:r.createParseSourceSpan("Component",e.name,s),template:t.template||"",preserveWhitespaces:o,styles:t.styles||Ae,animations:t.animations,directives:[],changeDetection:t.changeDetection,pipes:new Map,encapsulation:a,interpolation:t.interpolation,viewProviders:t.viewProviders||null});if(u.usesInheritance&&wf(e),n=r.compileComponent(sf,s,u),function(){if(!lf){lf=!0;try{for(var e=cf.length-1;e>=0;e--){var t=cf[e],n=t.moduleType,r=t.ngModule;r.declarations&&r.declarations.every(hf)&&(cf.splice(e,1),ff(n,r))}}finally{lf=!1}}}(),void 0!==e.ngSelectorScope){var c=pf(e.ngSelectorScope);df(n,c)}}return n},configurable:!1})},Mf=gf,Lf=function(e,t){var n=null,r=null;Object.defineProperty(e,ee,{get:function(){if(null===r){var n=Af(e,t),i=G();r=i.compileFactory(sf,"ng:///".concat(n.name,"/\u0275fac.js"),Object.assign(Object.assign({},n),{injectFn:"directiveInject",target:i.R3FactoryTarget.Pipe}))}return r},configurable:!1}),Object.defineProperty(e,Y,{get:function(){if(null===n){var r=Af(e,t);n=G().compilePipe(sf,"ng:///".concat(r.name,"/\u0275pipe.js"),r)}return n},configurable:!1})},Vf=f("NgModule",(function(e){return e}),void 0,void 0,(function(e,t){return Uf(e,t)})),Uf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n=_e(t.declarations||uf),r=null;Object.defineProperty(e,X,{configurable:!0,get:function(){return null===r&&((r=G().compileNgModule(sf,"ng:///".concat(e.name,"/\u0275mod.js"),{type:e,bootstrap:_e(t.bootstrap||uf).map(V),declarations:n.map(V),imports:_e(t.imports||uf).map(V).map(vf),exports:_e(t.exports||uf).map(V).map(vf),schemas:t.schemas?_e(t.schemas):null,id:t.id||null})).schemas||(r.schemas=[])),r}});var i=null;Object.defineProperty(e,x,{get:function(){if(null===i){var n={name:e.name,type:e,deps:oa(e),providers:t.providers||uf,imports:[(t.imports||uf).map(V),(t.exports||uf).map(V)]};i=G().compileInjector(sf,"ng:///".concat(e.name,"/\u0275inj.js"),n)}return i},configurable:!1})}(e,t),function(e,t){cf.push({moduleType:e,ngModule:t})}(e,t)},Bf=new ne("Application Initializer"),qf=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return _createClass(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();ms(i)&&t.push(i)}Promise.all(t).then((function(){n()})).catch((function(t){e.reject(t)})),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(he(Bf,8))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e}(),Hf=new ne("AppId"),zf={provide:Hf,useFactory:function(){return"".concat(Wf()).concat(Wf()).concat(Wf())},deps:[]};function Wf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Kf=new ne("Platform Initializer"),Gf=new ne("Platform ID"),Qf=new ne("appBootstrapListener"),Zf=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e}(),Jf=new ne("LocaleId"),Yf=new ne("DefaultCurrencyCode"),Xf=function e(t,n){_classCallCheck(this,e),this.ngModuleFactory=t,this.componentFactories=n},$f=function(e){return new hh(e)},ed=$f,td=function(e){return Promise.resolve($f(e))},nd=function(e){var t=$f(e),n=wn(Ke(e).declarations).reduce((function(e,t){var n=qe(t);return n&&e.push(new al(n)),e}),[]);return new Xf(t,n)},rd=nd,id=function(e){return Promise.resolve(nd(e))},od=function(){var e=function(){function e(){_classCallCheck(this,e),this.compileModuleSync=ed,this.compileModuleAsync=td,this.compileModuleAndAllComponentsSync=rd,this.compileModuleAndAllComponentsAsync=id}return _createClass(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e}(),ad=new ne("compilerOptions"),sd=Promise.resolve(0);function ud(e){"undefined"==typeof Zone?sd.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var cd=function(){function e(t){var n,r,i=t.enableLongStackTrace,o=void 0!==i&&i,a=t.shouldCoalesceEventChangeDetection,s=void 0!==a&&a;if(_classCallCheck(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fh(!1),this.onMicrotaskEmpty=new Fh(!1),this.onStable=new Fh(!1),this.onError=new Fh(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var e=W.requestAnimationFrame,t=W.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(W,(function(){e.lastRequestAnimationFrameId=-1,dd(e),fd(e)})),dd(e))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(e,t,i,o,a,s){try{return pd(n),e.invokeTask(i,o,a,s)}finally{r&&"eventTask"===o.type&&r(),vd(n)}},onInvoke:function(e,t,r,i,o,a,s){try{return pd(n),e.invoke(r,i,o,a,s)}finally{vd(n)}},onHasTask:function(e,t,r,i){e.hasTask(r,i),t===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,dd(n),fd(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,t,r,i){return e.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,hd,ld,ld);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}();function ld(){}var hd={};function fd(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function dd(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function pd(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function vd(e){e._nesting--,fd(e)}var yd=function(){function e(){_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fh,this.onMicrotaskEmpty=new Fh,this.onStable=new Fh,this.onError=new Fh}return _createClass(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,r){return e.apply(t,n)}}]),e}(),gd=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){cd.assertNotInAngularZone(),ud((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())ud((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(e){return e.timeoutId!==i})),e(r._didWork,r.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(he(cd))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e}(),md=function(){var e=function(){function e(){_classCallCheck(this,e),this._applications=new Map,Cd.addToWindow(this)}return _createClass(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Cd.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e}();function _d(e){Cd=e}var bd,Cd=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),wd=function(e,t,n){var r=e.get(ad,[]).concat(t),i=new hh(n);if(0===wa.size)return Promise.resolve(i);var o,a,s=(o=r.map((function(e){return e.providers})),a=[],o.forEach((function(e){return e&&a.push.apply(a,_toConsumableArray(e))})),a);if(0===s.length)return Promise.resolve(i);var u=G(),c=ba.create({providers:s}).get(u.ResourceLoader);return function(e){var t=[],n=new Map;function r(e){var t=n.get(e);if(!t){var r=function(e){return Promise.resolve(c.get(e))}(e);n.set(e,t=r.then(Sa))}return t}return wa.forEach((function(e,n){var i=[];e.templateUrl&&i.push(r(e.templateUrl).then((function(t){e.template=t})));var o=e.styleUrls,a=e.styles||(e.styles=[]),s=e.styles.length;o&&o.forEach((function(t,n){a.push(""),i.push(r(t).then((function(r){a[s+n]=r,o.splice(o.indexOf(t),1),0==o.length&&(e.styleUrls=void 0)})))}));var u=Promise.all(i).then((function(){return function(e){ka.delete(e)}(n)}));t.push(u)})),wa=new Map,Promise.all(t).then((function(){}))}().then((function(){return i}))},kd=new ne("AllowMultipleToken"),Ed=function e(t,n){_classCallCheck(this,e),this.name=t,this.token=n};function Sd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+t,i=new ne(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Od();if(!o||o.injector.get(kd,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var a=n.concat(t).concat({provide:i,useValue:!0},{provide:aa,useValue:"platform"});!function(e){if(bd&&!bd.destroyed&&!bd.injector.get(kd,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");bd=e.get(Td);var t=e.get(Kf,null);t&&t.forEach((function(e){return e()}))}(ba.create({providers:a,name:r}))}return function(e){var t=Od();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Od(){return bd&&!bd.destroyed?bd:null}var Td=function(){var e=function(){function e(t){_classCallCheck(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,r,i=this,o=(n=t?t.ngZone:void 0,r=t&&t.ngZoneEventCoalescing||!1,"noop"===n?new yd:("zone.js"===n?void 0:n)||new cd({enableLongStackTrace:sr(),shouldCoalesceEventChangeDetection:r})),a=[{provide:cd,useValue:o}];return o.run((function(){var t=ba.create({providers:a,parent:i.injector,name:e.moduleType.name}),n=e.create(t),r=n.injector.get(zn,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return Ad(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(e){r.handleError(e)}})})),function(e,t,r){try{var o=((a=n.injector.get(qf)).runInitializers(),a.donePromise.then((function(){return sh(n.injector.get(Jf,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return ms(o)?o.catch((function(n){throw t.runOutsideAngular((function(){return e.handleError(n)})),n})):o}catch(s){throw t.runOutsideAngular((function(){return e.handleError(s)})),s}var a}(r,o)}))}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Id({},n);return wd(this.injector,r,e).then((function(e){return t.bootstrapModuleFactory(e,r)}))}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(Dd);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(j(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(he(ba))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e}();function Id(e,t){return Array.isArray(t)?t.reduce(Id,e):Object.assign(Object.assign({},e),t)}var Dd=function(){var e=function(){function e(t,n,r,i,u,c){var l=this;_classCallCheck(this,e),this._zone=t,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=u,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=sr(),this._zone.onMicrotaskEmpty.subscribe({next:function(){l._zone.run((function(){l.tick()}))}});var h=new o.a((function(e){l._stable=l._zone.isStable&&!l._zone.hasPendingMacrotasks&&!l._zone.hasPendingMicrotasks,l._zone.runOutsideAngular((function(){e.next(l._stable),e.complete()}))})),f=new o.a((function(e){var t;l._zone.runOutsideAngular((function(){t=l._zone.onStable.subscribe((function(){cd.assertNotInAngularZone(),ud((function(){l._stable||l._zone.hasPendingMacrotasks||l._zone.hasPendingMicrotasks||(l._stable=!0,e.next(!0))}))}))}));var n=l._zone.onUnstable.subscribe((function(){cd.assertInAngularZone(),l._stable&&(l._stable=!1,l._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),n.unsubscribe()}}));this.isStable=Object(a.a)(h,f.pipe(Object(s.a)()))}return _createClass(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof Sc?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(ye),o=n.create(ba.NULL,[],t||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(gd,null);return a&&o.injector.get(md).registerApplication(o.location.nativeElement,a),this._loadComponent(o),sr()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(t=n.n()).done;){t.value.detectChanges()}}catch(o){n.e(o)}finally{n.f()}if(this._enforceNoNewChanges){var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;){r.value.checkNoChanges()}}catch(o){i.e(o)}finally{i.f()}}}catch(a){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(a)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;Ad(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Qf,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),Ad(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(e){return e.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),e}();return e.\u0275fac=function(t){return new(t||e)(he(cd),he(Zf),he(ba),he(zn),he(Tc),he(qf))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e}();function Ad(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var xd=function e(){_classCallCheck(this,e)},Pd=function e(){_classCallCheck(this,e)},Nd={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Rd=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._compiler=t,this._config=n||Nd}return _createClass(e,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,r=_slicedToArray(e.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(e){return e[o]})).then((function(e){return jd(e,i,o)})).then((function(e){return t._compiler.compileModuleAsync(e)}))}},{key:"loadFactory",value:function(e){var t=_slicedToArray(e.split("#"),2),r=t[0],i=t[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(e){return e[i+o]})).then((function(e){return jd(e,r,i)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(he(od),he(Pd,8))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e}();function jd(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var Fd=function(e){return null},Md=Sd(null,"core",[{provide:Gf,useValue:"unknown"},{provide:Td,deps:[ba]},{provide:md,deps:[]},{provide:Zf,deps:[]}]),Ld=[{provide:Dd,useClass:Dd,deps:[cd,Zf,ba,zn,Tc,qf]},{provide:ol,deps:[cd],useFactory:function(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}},{provide:qf,useClass:qf,deps:[[new g,Bf]]},{provide:od,useClass:od,deps:[]},zf,{provide:Gc,useFactory:function(){return Jc},deps:[]},{provide:Qc,useFactory:function(){return Yc},deps:[]},{provide:Jf,useFactory:function(e){return sh(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new y(Jf),new g,new _]]},{provide:Yf,useValue:"USD"}],Vd=function(){var e=function e(t){_classCallCheck(this,e)};return e.\u0275mod=Me({type:e}),e.\u0275inj=O({factory:function(t){return new(t||e)(he(Dd))},providers:Ld}),e}()},gRHU:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(e){},error:function(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(i.a)(e)},complete:function(){}}},"j/7n":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("fXoL"),i=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Pb({type:e,selectors:[["app-loading-spinner"]],decls:6,vars:0,consts:[[1,"loading-spinner"],[1,"lds-ring"]],template:function(e,t){1&e&&(r.ac(0,"div",0),r.ac(1,"div",1),r.Wb(2,"div"),r.Wb(3,"div"),r.Wb(4,"div"),r.Wb(5,"div"),r.Zb(),r.Zb())},styles:[".loading-spinner[_ngcontent-%COMP%]{background:#fff;position:fixed;width:100%;height:100%;z-index:99}.lds-ring[_ngcontent-%COMP%]{display:inline-block;position:fixed;left:calc(66% - 64px);top:45vh;width:64px;height:64px}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{box-sizing:border-box;display:block;position:absolute;width:51px;height:51px;margin:6px;border-radius:50%;-webkit-animation:lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;animation:lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;border:6px solid transparent;border-top-color:#6c757d}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-.45s;animation-delay:-.45s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.3s;animation-delay:-.3s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.15s;animation-delay:-.15s}@-webkit-keyframes lds-ring{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes lds-ring{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}"]}),e}()},jZKg:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(e,t){return new r.a((function(n){var r=new i.a,o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},jhN1:function(e,t,n){"use strict";n.d(t,"a",(function(){return F})),n.d(t,"b",(function(){return A})),n.d(t,"c",(function(){return R})),n.d(t,"d",(function(){return b}));var r,i=n("ofXK"),o=n("fXoL"),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=s||(s=document.querySelector("base"))?s.getAttribute("href"):null;return null==n?null:(t=n,r||(r=document.createElement("a")),r.setAttribute("href",t),"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname)}},{key:"resetBaseElement",value:function(){s=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return Object(i.w)(document.cookie,e)}}],[{key:"makeCurrent",value:function(){Object(i.x)(new n)}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(i.t)),s=null,u=new o.t("TRANSITION_ID"),c=[{provide:o.d,useFactory:function(e,t,n){return function(){n.get(o.e).donePromise.then((function(){var n=Object(i.v)();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter((function(t){return t.getAttribute("ng-transition")===e})).forEach((function(e){return n.remove(e)}))}))}},deps:[u,i.e,o.u],multi:!0}],l=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){o.wb.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},o.wb.getAllAngularTestabilities=function(){return e.getAllTestabilities()},o.wb.getAllAngularRootElements=function(){return e.getAllRootElements()},o.wb.frameworkStabilizers||(o.wb.frameworkStabilizers=[]),o.wb.frameworkStabilizers.push((function(e){var t=o.wb.getAllAngularTestabilities(),n=t.length,r=!1,i=function(t){r=r||t,0==--n&&e(r)};t.forEach((function(e){e.whenStable(i)}))}))}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?Object(i.v)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){Object(o.eb)(new e)}}]),e}(),h=new o.t("EventManagerPlugins"),f=function(){var e=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach((function(e){return e.manager=r})),this._plugins=t.slice().reverse()}return _createClass(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event "+e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.ec(h),o.ec(o.E))},e.\u0275prov=o.Rb({token:e,factory:e.\u0275fac}),e}(),d=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=Object(i.v)().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),p=function(){var e=function(){function e(){_classCallCheck(this,e),this._stylesSet=new Set}return _createClass(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Rb({token:e,factory:e.\u0275fac}),e}(),v=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(e.head),r}return _createClass(n,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach((function(e){var r=n._doc.createElement("style");r.textContent=e,n._styleNodes.add(t.appendChild(r))}))}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach((function(n){return t._addStylesToHost(e,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(e){return Object(i.v)().remove(e)}))}}]),n}(p);return e.\u0275fac=function(t){return new(t||e)(o.ec(i.e))},e.\u0275prov=o.Rb({token:e,factory:e.\u0275fac}),e}(),y={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},g=/%COMP%/g;function m(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?m(e,i,n):(i=i.replace(g,e),n.push(i))}return n}function _(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var b=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new C(t)}return _createClass(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case o.X.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new w(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case o.X.Native:case o.X.ShadowDom:return new k(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=m(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.ec(f),o.ec(v),o.ec(o.c))},e.\u0275prov=o.Rb({token:e,factory:e.\u0275fac}),e}(),C=function(){function e(t){_classCallCheck(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(y[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=y[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=y[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,r){r&o.M.DashCase?e.style.setProperty(t,n,r&o.M.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&o.M.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,_(n)):this.eventManager.addEventListener(e,t,_(n))}}]),e}(),w=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;_classCallCheck(this,n),(a=t.call(this,e)).component=i;var s,u=m(o+"-"+i.id,i.styles,[]);return r.addStyles(u),a.contentAttr="_ngcontent-%COMP%".replace(g,o+"-"+i.id),a.hostAttr=(s=o+"-"+i.id,"_nghost-%COMP%".replace(g,s)),a}return _createClass(n,[{key:"applyToHost",value:function(e){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var r=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,e,t);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(C),k=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var s;_classCallCheck(this,n),(s=t.call(this,e)).sharedStylesHost=r,s.hostEl=i,s.component=a,s.shadowRoot=a.encapsulation===o.X.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var u=m(a.id,a.styles,[]),c=0;c<u.length;c++){var l=document.createElement("style");l.textContent=u[c],s.shadowRoot.appendChild(l)}return s}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,r){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,r)}},{key:"removeChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(C),E=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this;return e.addEventListener(t,n,!1),function(){return r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(d);return e.\u0275fac=function(t){return new(t||e)(o.ec(i.e))},e.\u0275prov=o.Rb({token:e,factory:e.\u0275fac}),e}(),S=["alt","control","meta","shift"],O={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},T={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},I={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},D=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,r){var o=n.parseEventName(t),a=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Object(i.v)().onAndCancel(e,o.domEventName,a)}))}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),o="";if(S.forEach((function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")})),o+=i,0!=t.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&T.hasOwnProperty(t)&&(t=T[t]))}return O[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),S.forEach((function(r){r!=n&&(0,I[r])(e)&&(t+=r+".")})),t+=n}},{key:"eventCallback",value:function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded((function(){return t(i)}))}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(d);return e.\u0275fac=function(t){return new(t||e)(o.ec(i.e))},e.\u0275prov=o.Rb({token:e,factory:e.\u0275fac}),e}(),A=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(o.Rb)({factory:function(){return Object(o.ec)(P)},token:e,providedIn:"root"}),e}();function x(e){return new P(e.get(i.e))}var P=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r}return _createClass(n,[{key:"sanitize",value:function(e,t){if(null==t)return null;switch(e){case o.O.NONE:return t;case o.O.HTML:return Object(o.lb)(t,"HTML")?Object(o.Fb)(t):Object(o.ib)(this._doc,String(t));case o.O.STYLE:return Object(o.lb)(t,"Style")?Object(o.Fb)(t):Object(o.jb)(t);case o.O.SCRIPT:if(Object(o.lb)(t,"Script"))return Object(o.Fb)(t);throw new Error("unsafe value used in a script context");case o.O.URL:return Object(o.vb)(t),Object(o.lb)(t,"URL")?Object(o.Fb)(t):Object(o.kb)(String(t));case o.O.RESOURCE_URL:if(Object(o.lb)(t,"ResourceURL"))return Object(o.Fb)(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(e," (see http://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(e){return Object(o.mb)(e)}},{key:"bypassSecurityTrustStyle",value:function(e){return Object(o.pb)(e)}},{key:"bypassSecurityTrustScript",value:function(e){return Object(o.ob)(e)}},{key:"bypassSecurityTrustUrl",value:function(e){return Object(o.qb)(e)}},{key:"bypassSecurityTrustResourceUrl",value:function(e){return Object(o.nb)(e)}}]),n}(A);return e.\u0275fac=function(t){return new(t||e)(o.ec(i.e))},e.\u0275prov=Object(o.Rb)({factory:function(){return x(Object(o.ec)(o.r))},token:e,providedIn:"root"}),e}(),N=[{provide:o.H,useValue:i.u},{provide:o.I,useValue:function(){a.makeCurrent(),l.init()},multi:!0},{provide:i.e,useFactory:function(){return Object(o.Db)(document),document},deps:[]}],R=Object(o.Z)(o.db,"browser",N),j=[[],{provide:o.gb,useValue:"root"},{provide:o.p,useFactory:function(){return new o.p},deps:[]},{provide:h,useClass:E,multi:!0,deps:[i.e,o.E,o.H]},{provide:h,useClass:D,multi:!0,deps:[i.e]},[],{provide:b,useClass:b,deps:[f,v,o.c]},{provide:o.L,useExisting:b},{provide:p,useExisting:v},{provide:v,useClass:v,deps:[i.e]},{provide:o.T,useClass:o.T,deps:[o.E]},{provide:f,useClass:f,deps:[h,o.E]},[]],F=function(){var e=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:o.c,useValue:t.appId},{provide:u,useExisting:o.c},c]}}}]),e}();return e.\u0275mod=o.Tb({type:e}),e.\u0275inj=o.Sb({factory:function(t){return new(t||e)(o.ec(e,12))},providers:j,imports:[i.c,o.f]}),e}();"undefined"!=typeof window&&window},jtHE:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("XNiG"),i=n("qgXg"),o=n("quSY"),a=n("pxpQ"),s=n("9ppp"),u=n("Ylt2"),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this)).scheduler=o,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=r<1?1:r,e._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return _createClass(n,[{key:"nextInfiniteTimeWindow",value:function(e){var t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this._events.push(new l(this._getNow(),e)),this._trimBufferThenGetEvents(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,c=r.length;if(this.closed)throw new s.a;if(this.isStopped||this.hasError?t=o.a.EMPTY:(this.observers.push(e),t=new u.a(this,e)),i&&e.add(e=new a.a(e,i)),n)for(var l=0;l<c&&!e.closed;l++)e.next(r[l]);else for(var h=0;h<c&&!e.closed;h++)e.next(r[h].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||i.a).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r}}]),n}(r.a),l=function e(t,n){_classCallCheck(this,e),this.time=t,this.value=n}},kJWO:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},kt0X:function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return Z})),n.d(t,"e",(function(){return Q})),n.d(t,"f",(function(){return $})),n.d(t,"g",(function(){return ne})),n.d(t,"h",(function(){return se})),n.d(t,"i",(function(){return Me})),n.d(t,"j",(function(){return Le})),n.d(t,"k",(function(){return Fe})),n.d(t,"l",(function(){return J})),n.d(t,"m",(function(){return H})),n.d(t,"n",(function(){return p})),n.d(t,"o",(function(){return ve})),n.d(t,"p",(function(){return Ke})),n.d(t,"q",(function(){return de})),n.d(t,"r",(function(){return We})),n.d(t,"s",(function(){return v}));var r=n("fXoL"),i=n("2Vo4"),o=n("HDdC"),a=n("XNiG"),s=n("qgXg"),u=n("pxpQ"),c=n("zp1y"),l=n("Kqap"),h=n("lJxs"),f=n("/uUt"),d={};function p(e,t){if(d[e]=(d[e]||0)+1,"function"==typeof t)return y(e,(function(){return Object.assign(Object.assign({},t.apply(void 0,arguments)),{type:e})}));switch(t?t._as:"empty"){case"empty":return y(e,(function(){return{type:e}}));case"props":return y(e,(function(t){return Object.assign(Object.assign({},t),{type:e})}));default:throw new Error("Unexpected config.")}}function v(){return{_as:"props",_p:void 0}}function y(e,t){return Object.defineProperty(t,"type",{value:e,writable:!1})}var g,m="@ngrx/store/init",_=((g=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,{type:m})}return _createClass(n,[{key:"next",value:function(e){if("function"==typeof e)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===e)throw new TypeError("Actions must be objects");if(void 0===e.type)throw new TypeError("Actions must have a type property");_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"complete",value:function(){}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"complete",this).call(this)}}]),n}(i.a)).\u0275fac=function(e){return new(e||g)},g.\u0275prov=r.Rb({token:g,factory:g.\u0275fac}),g),b=[_],C=new r.t("@ngrx/store Internal Root Guard"),w=new r.t("@ngrx/store Internal Initial State"),k=new r.t("@ngrx/store Initial State"),E=new r.t("@ngrx/store Reducer Factory"),S=new r.t("@ngrx/store Internal Reducer Factory Provider"),O=new r.t("@ngrx/store Initial Reducers"),T=new r.t("@ngrx/store Internal Initial Reducers"),I=new r.t("@ngrx/store Store Features"),D=new r.t("@ngrx/store Internal Store Reducers"),A=new r.t("@ngrx/store Internal Feature Reducers"),x=new r.t("@ngrx/store Internal Feature Configs"),P=new r.t("@ngrx/store Internal Store Features"),N=new r.t("@ngrx/store Internal Feature Reducers Token"),R=new r.t("@ngrx/store Feature Reducers"),j=new r.t("@ngrx/store User Provided Meta Reducers"),F=new r.t("@ngrx/store Meta Reducers"),M=new r.t("@ngrx/store Internal Resolved Meta Reducers"),L=new r.t("@ngrx/store User Runtime Checks Config"),V=new r.t("@ngrx/store Internal User Runtime Checks Config"),U=new r.t("@ngrx/store Internal Runtime Checks"),B=new r.t("@ngrx/store Check if Action types are unique");function q(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.keys(e),r={},i=0;i<n.length;i++){var o=n[i];"function"==typeof e[o]&&(r[o]=e[o])}var a=Object.keys(r);return function(e,n){e=void 0===e?t:e;for(var i=!1,o={},s=0;s<a.length;s++){var u=a[s],c=e[u],l=(0,r[u])(c,n);o[u]=l,i=i||l!==c}return i?o:e}}function H(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){if(0===t.length)return e;var n=t[t.length-1];return t.slice(0,-1).reduceRight((function(e,t){return t(e)}),n(e))}}function z(e,t){return Array.isArray(t)&&t.length>0&&(e=H.apply(null,[].concat(_toConsumableArray(t),[e]))),function(t,n){var r=e(t);return function(e,t){return r(e=void 0===e?n:e,t)}}}var W,K,G,Q=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(o.a),Z=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(_),J="@ngrx/store/update-reducers",Y=((W=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,o(i,r))).dispatcher=e,a.initialState=r,a.reducers=i,a.reducerFactory=o,a}return _createClass(n,[{key:"addFeature",value:function(e){this.addFeatures([e])}},{key:"addFeatures",value:function(e){var t=e.reduce((function(e,t){var n=t.reducers,r=t.reducerFactory,i=t.metaReducers,o=t.initialState,a=t.key,s="function"==typeof n?function(e){var t=Array.isArray(e)&&e.length>0?H.apply(void 0,_toConsumableArray(e)):function(e){return e};return function(e,n){return e=t(e),function(t,r){return e(t=void 0===t?n:t,r)}}}(i)(n,o):z(r,i)(n,o);return e[a]=s,e}),{});this.addReducers(t)}},{key:"removeFeature",value:function(e){this.removeFeatures([e])}},{key:"removeFeatures",value:function(e){this.removeReducers(e.map((function(e){return e.key})))}},{key:"addReducer",value:function(e,t){this.addReducers(_defineProperty({},e,t))}},{key:"addReducers",value:function(e){this.reducers=Object.assign(Object.assign({},this.reducers),e),this.updateReducers(Object.keys(e))}},{key:"removeReducer",value:function(e){this.removeReducers([e])}},{key:"removeReducers",value:function(e){var t=this;e.forEach((function(e){var n,r;t.reducers=(n=t.reducers,r=e,Object.keys(n).filter((function(e){return e!==r})).reduce((function(e,t){return Object.assign(e,_defineProperty({},t,n[t]))}),{}))})),this.updateReducers(e)}},{key:"updateReducers",value:function(e){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:J,features:e})}},{key:"ngOnDestroy",value:function(){this.complete()}}]),n}(i.a)).\u0275fac=function(e){return new(e||W)(r.ec(Z),r.ec(k),r.ec(O),r.ec(E))},W.\u0275prov=r.Rb({token:W,factory:W.\u0275fac}),W),X=[Y,{provide:Q,useExisting:Y},{provide:Z,useExisting:_}],$=((K=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"ngOnDestroy",value:function(){this.complete()}}]),n}(a.a)).\u0275fac=function(e){return ee(e||K)},K.\u0275prov=r.Rb({token:K,factory:K.\u0275fac}),K),ee=r.cc($),te=[$],ne=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(o.a),re=((G=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;_classCallCheck(this,n),a=t.call(this,o);var h={state:o},f=e.pipe(Object(u.b)(s.a)).pipe(Object(c.a)(r)).pipe(Object(l.a)(ie,h));return a.stateSubscription=f.subscribe((function(e){var t=e.state,n=e.action;a.next(t),i.next(n)})),a}return _createClass(n,[{key:"ngOnDestroy",value:function(){this.stateSubscription.unsubscribe(),this.complete()}}]),n}(i.a)).\u0275fac=function(e){return new(e||G)(r.ec(_),r.ec(Q),r.ec($),r.ec(k))},G.\u0275prov=r.Rb({token:G,factory:G.\u0275fac}),G.INIT=m,G);function ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{state:void 0},t=arguments.length>1?arguments[1]:void 0,n=_slicedToArray(t,2),r=n[0],i=n[1],o=e.state;return{state:i(o,r),action:r}}var oe,ae=[re,{provide:ne,useExisting:re}],se=((oe=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this)).actionsObserver=r,o.reducerManager=i,o.source=e,o}return _createClass(n,[{key:"select",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ce.call.apply(ce,[null,e].concat(n))(this)}},{key:"lift",value:function(e){var t=new n(this,this.actionsObserver,this.reducerManager);return t.operator=e,t}},{key:"dispatch",value:function(e){this.actionsObserver.next(e)}},{key:"next",value:function(e){this.actionsObserver.next(e)}},{key:"error",value:function(e){this.actionsObserver.error(e)}},{key:"complete",value:function(){this.actionsObserver.complete()}},{key:"addReducer",value:function(e,t){this.reducerManager.addReducer(e,t)}},{key:"removeReducer",value:function(e){this.reducerManager.removeReducer(e)}}]),n}(o.a)).\u0275fac=function(e){return new(e||oe)(r.ec(ne),r.ec(_),r.ec(Y))},oe.\u0275prov=r.Rb({token:oe,factory:oe.\u0275fac}),oe),ue=[se];function ce(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return function(n){var i;if("string"==typeof e){var o=[t].concat(r).filter(Boolean);i=n.pipe((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.length;if(0===r)throw new Error("list of properties cannot be empty.");return function(e){return Object(h.a)(function(e,t){return function(n){for(var r=n,i=0;i<t;i++){var o=r[e[i]];if(void 0===o)return;r=o}return r}}(t,r))(e)}}).apply(void 0,[e].concat(_toConsumableArray(o))))}else{if("function"!=typeof e)throw new TypeError("Unexpected type '".concat(typeof e,"' in select operator, expected 'string' or 'function'"));i=n.pipe(Object(h.a)((function(n){return e(n,t)})))}return i.pipe(Object(f.a)())}}function le(e,t){return e===t}function he(e,t,n){for(var r=0;r<e.length;r++)if(!n(e[r],t[r]))return!0;return!1}function fe(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:le,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:le,i=null,o=null;return{memoized:function(){if(void 0!==t)return t.result;if(!i)return o=e.apply(null,arguments),i=arguments,o;if(!he(arguments,i,n))return o;var a=e.apply(null,arguments);return i=arguments,r(o,a)?o:(o=a,a)},reset:function(){i=null,o=null},setResult:function(e){t={result:e}},clearResult:function(){t=void 0}}}function de(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stateFn:pe};return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r;if(Array.isArray(o[0])){var a=o,s=_toArray(a),u=s[0],c=s.slice(1);o=[].concat(_toConsumableArray(u),_toConsumableArray(c))}var l=o.slice(0,o.length-1),h=o[o.length-1],f=l.filter((function(e){return e.release&&"function"==typeof e.release})),d=e((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.apply(null,t)})),p=fe((function(e,n){return t.stateFn.apply(null,[e,l,n,d])}));return Object.assign(p.memoized,{release:function(){p.reset(),d.reset(),f.forEach((function(e){return e.release()}))},projector:d.memoized,setResult:p.setResult,clearResult:p.clearResult})}}(fe).apply(void 0,arguments)}function pe(e,t,n,r){if(void 0===n){var i=t.map((function(t){return t(e)}));return r.memoized.apply(null,i)}var o=t.map((function(t){return t(e,n)}));return r.memoized.apply(null,[].concat(_toConsumableArray(o),[n]))}function ve(e){return de((function(t){var n=t[e];return!Object(r.cb)()||e in t||console.warn('@ngrx/store: The feature name "'.concat(e,"\" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('").concat(e,"', ...) or StoreModule.forFeature('").concat(e,"', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.")),n}),(function(e){return e}))}var ye="https://ngrx.io/guide/store/configuration/runtime-checks";function ge(e){return void 0===e}function me(e){return null===e}function _e(e){return Array.isArray(e)}function be(e){return"object"==typeof e&&null!==e}function Ce(e){return"function"==typeof e}function we(e){Object.freeze(e);var t=Ce(e);return Object.getOwnPropertyNames(e).forEach((function(n){if(!n.startsWith("\u0275")&&function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(e,n)&&(!t||"caller"!==n&&"callee"!==n&&"arguments"!==n)){var r=e[n];!be(r)&&!Ce(r)||Object.isFrozen(r)||we(r)}})),e}function ke(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(ge(e)||me(e))&&0===t.length?{path:["root"],value:e}:Object.keys(e).reduce((function(n,r){if(n)return n;var i=e[r];return function(e){return Ce(e)&&e.hasOwnProperty("\u0275cmp")}(i)?n:!(ge(i)||me(i)||function(e){return"number"==typeof e}(i)||function(e){return"boolean"==typeof e}(i)||function(e){return"string"==typeof e}(i)||_e(i))&&(function(e){if(!function(e){return be(e)&&!_e(e)}(e))return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}(i)?ke(i,[].concat(_toConsumableArray(t),[r])):{path:[].concat(_toConsumableArray(t),[r]),value:i})}),!1)}function Ee(e,t){if(!1!==e){var n=e.path.join("."),r=new Error("Detected unserializable ".concat(t,' at "').concat(n,'". ').concat(ye,"#strict").concat(t,"serializability"));throw r.value=e.value,r.unserializablePath=n,r}}function Se(e){return Object(r.cb)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},e):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Oe(e){var t=e.strictActionSerializability,n=e.strictStateSerializability;return function(e){return t||n?function(e,t){return function(n,r){t.action(r)&&Ee(ke(r),"action");var i=e(n,r);return t.state()&&Ee(ke(i),"state"),i}}(e,{action:function(e){return t&&!Ie(e)},state:function(){return n}}):e}}function Te(e){var t=e.strictActionImmutability,n=e.strictStateImmutability;return function(e){return t||n?function(e,t){return function(n,r){var i=t.action(r)?we(r):r,o=e(n,i);return t.state()?we(o):o}}(e,{action:function(e){return t&&!Ie(e)},state:function(){return n}}):e}}function Ie(e){return e.type.startsWith("@ngrx")}function De(e){var t=e.strictActionWithinNgZone;return function(e){return t?function(e,t){return function(n,i){if(t.action(i)&&!r.E.isInAngularZone())throw new Error("Action '".concat(i.type,"' running outside NgZone. ").concat(ye,"#strictactionwithinngzone"));return e(n,i)}}(e,{action:function(e){return t&&!Ie(e)}}):e}}function Ae(){return[{provide:B,multi:!0,deps:[U],useFactory:Pe}]}function xe(e){return e}function Pe(e){if(e.strictActionTypeUniqueness){var t=Object.entries(d).filter((function(e){return _slicedToArray(e,2)[1]>1})).map((function(e){return _slicedToArray(e,1)[0]}));if(t.length)throw new Error("Action types are registered more than once, ".concat(t.map((function(e){return'"'.concat(e,'"')})).join(", "),". ").concat(ye,"#strictactiontypeuniqueness"))}}var Ne,Re,je,Fe=((je=function e(t,n,r,i,o,a){_classCallCheck(this,e)}).\u0275mod=r.Tb({type:je}),je.\u0275inj=r.Sb({factory:function(e){return new(e||je)(r.ec(_),r.ec(Q),r.ec($),r.ec(se),r.ec(C,8),r.ec(B,8))}}),je),Me=((Re=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.features=t,this.featureReducers=n,this.reducerManager=r;var a=t.map((function(e,t){var r=n.shift()[t];return Object.assign(Object.assign({},e),{reducers:r,initialState:qe(e.initialState)})}));r.addFeatures(a)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.reducerManager.removeFeatures(this.features)}}]),e}()).\u0275mod=r.Tb({type:Re}),Re.\u0275inj=r.Sb({factory:function(e){return new(e||Re)(r.ec(P),r.ec(R),r.ec(Y),r.ec(Fe),r.ec(B,8))}}),Re),Le=((Ne=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{ngModule:Fe,providers:[{provide:C,useFactory:ze,deps:[[se,new r.F,new r.Q]]},{provide:w,useValue:n.initialState},{provide:k,useFactory:qe,deps:[w]},{provide:T,useValue:e},{provide:D,useExisting:e instanceof r.t?e:T},{provide:O,deps:[r.u,T,[new r.s(D)]],useFactory:Ve},{provide:j,useValue:n.metaReducers?n.metaReducers:[]},{provide:M,deps:[F,j],useFactory:He},{provide:S,useValue:n.reducerFactory?n.reducerFactory:q},{provide:E,deps:[S,M],useFactory:z},b,X,te,ae,ue,(t=n.runtimeChecks,[{provide:V,useValue:t},{provide:L,useFactory:xe,deps:[V]},{provide:U,deps:[L],useFactory:Se},{provide:F,multi:!0,deps:[U],useFactory:Te},{provide:F,multi:!0,deps:[U],useFactory:Oe},{provide:F,multi:!0,deps:[U],useFactory:De}]),Ae()]}}},{key:"forFeature",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{ngModule:Me,providers:[{provide:x,multi:!0,useValue:n},{provide:I,multi:!0,useValue:{key:e,reducerFactory:n instanceof r.t||!n.reducerFactory?q:n.reducerFactory,metaReducers:n instanceof r.t||!n.metaReducers?[]:n.metaReducers,initialState:n instanceof r.t||!n.initialState?void 0:n.initialState}},{provide:P,deps:[r.u,x,I],useFactory:Ue},{provide:A,multi:!0,useValue:t},{provide:N,multi:!0,useExisting:t instanceof r.t?t:A},{provide:R,multi:!0,deps:[r.u,A,[new r.s(N)]],useFactory:Be},Ae()]}}}]),e}()).\u0275mod=r.Tb({type:Ne}),Ne.\u0275inj=r.Sb({factory:function(e){return new(e||Ne)}}),Ne);function Ve(e,t){return t instanceof r.t?e.get(t):t}function Ue(e,t,n){return n.map((function(n,i){if(t[i]instanceof r.t){var o=e.get(t[i]);return{key:n.key,reducerFactory:o.reducerFactory?o.reducerFactory:q,metaReducers:o.metaReducers?o.metaReducers:[],initialState:o.initialState}}return n}))}function Be(e,t){return t.map((function(t){return t instanceof r.t?e.get(t):t}))}function qe(e){return"function"==typeof e?e():e}function He(e,t){return e.concat(t)}function ze(e){if(e)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function We(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{reducer:t.pop(),types:t.reduce((function(e,t){return[].concat(_toConsumableArray(e),[t.type])}),[])}}function Ke(e){for(var t=new Map,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=function(){var e,n=s[a],r=_createForOfIteratorHelper(n.types);try{for(r.s();!(e=r.n()).done;){var i=e.value;t.has(i)?function(){var e=t.get(i);t.set(i,(function(t,r){return n.reducer(e(t,r),r)}))}():t.set(i,n.reducer)}}catch(o){r.e(o)}finally{r.f()}},a=0,s=r;a<s.length;a++)o();return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0,i=t.get(r.type);return i?i(n,r):n}}},l7GE:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(n("7o/Q").a)},lJxs:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(e,t))}}var o=function(){function e(t,n){_classCallCheck(this,e),this.project=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(r.a)},"lf8/":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r,i,o=n("tk/3"),a=n("fXoL"),s=((i=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"timeToMillisecond",value:function(e){var t=e.split(":");return 36e5*+t[0]+6e4*+t[1]+1e3*+t[2]}},{key:"millisecondToTime",value:function(e){var t=Number(e%1e3/100),n=Math.floor(e/1e3%60),r=Math.floor(e/6e4%60),i=Math.floor(e/36e5%24);return(i=i<10?"0"+i:i)+":"+(r=r<10?"0"+r:r)+":"+(n=n<10?"0"+n:n)+"."+t}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Rb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),u=((r=function(){function e(){_classCallCheck(this,e),this.expireTime=s.timeToMillisecond("02:00:00"),this.iss={username:""},console.log("Expire Time To Delete Your Token is : ",s.millisecondToTime(this.expireTime))}return _createClass(e,[{key:"handle",value:function(e,t){this.iss.username=e,this.setTokenWithExpiry("token",t,this.expireTime)}},{key:"deleteToken",value:function(){localStorage.removeItem("token")}},{key:"isValid",value:function(){var e=this.getTokenWithExpiry("token");if(e){var t=this.payload(e);return Object.values(this.iss).indexOf(t.username)>-1||""!=e}return!1}},{key:"payload",value:function(e){var t=e.split(".")[1];return this.decode(t)}},{key:"decode",value:function(e){var t=JSON.parse(atob(e));return this.adminRoles=t.roles,t}},{key:"loggedIn",value:function(){return this.isValid()}},{key:"getAdminRoles",value:function(){return this.adminRoles}},{key:"isSuperAdmin",value:function(){return Object.values(this.adminRoles).indexOf("ROLE_SUPER_ADMIN")>-1}},{key:"setTokenWithExpiry",value:function(e,t,n){var r={value:t,expiry:(new Date).getTime()+n};localStorage.setItem(e,JSON.stringify(r))}},{key:"getTokenWithExpiry",value:function(e){var t=localStorage.getItem(e);if(!t)return null;var n=JSON.parse(t);return(new Date).getTime()>n.expiry?(localStorage.removeItem(e),null):n.value}},{key:"httpOptions",value:function(){var e=this.getTokenWithExpiry("token");if(e)return{headers:new o.d({"Content-Type":"application/json",Authorization:"Bearer "+e})}}}]),e}()).\u0275fac=function(e){return new(e||r)},r.\u0275prov=a.Rb({token:r,factory:r.\u0275fac,providedIn:"root"}),r)},mAIw:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}},mCNh:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("SpAZ");function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(t)}function o(e){return 0===e.length?r.a:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}},maDz:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=[{title:"Dashboard",translate:"dashboard",icon:"fa fa-tachometer",link:"/"},{title:"Admins",id:"admins",translate:"admins",icon:"fa fa-users",children:[{translate:"all-admins",link:"/admins"},{translate:"new-admin",link:"/admins/add"}]},{title:"Regions",id:"regions",translate:"regions",icon:"fa fa-institution",children:[{translate:"all-regions",link:"/regions"},{translate:"new-region",link:"/regions/add"}]},{title:"Events",id:"events",translate:"events",icon:"fa fa-calendar-check-o",children:[{translate:"all-events",link:"/events"},{translate:"new-event",link:"/events/add"}]},{title:"Orders",id:"orders",translate:"orders",icon:"fa fa-tags",children:[{translate:"accept-orders",link:"/orders/accepted"},{translate:"unaccept-orders",link:"/orders/unaccepted"}]},{title:"Guides",translate:"guides",icon:"fa fa-user-circle",link:"/guides"}]},n6bG:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,"a",(function(){return r}))},nYR2:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("7o/Q"),i=n("quSY");function o(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(t){_classCallCheck(this,e),this.callback=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.callback))}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var o;return _classCallCheck(this,n),(o=t.call(this,e)).add(new i.a(r)),o}return n}(r.a)},ngJS:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},oOf3:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"c",(function(){return w})),n.d(t,"b",(function(){return m}));var r=n("fXoL"),i=n("ofXK");function o(e,t){if(1&e){var n=r.bc();r.ac(0,"a",11),r.ic("keyup.enter",(function(){return r.wc(n),r.lc(3),r.uc(1).previous()}))("click",(function(){return r.wc(n),r.lc(3),r.uc(1).previous()})),r.Cc(1),r.ac(2,"span",12),r.Cc(3),r.Zb(),r.Zb()}if(2&e){var i=r.lc(3);r.Kb("aria-label",i.previousLabel+" "+i.screenReaderPageLabel),r.Jb(1),r.Ec(" ",i.previousLabel," "),r.Jb(2),r.Dc(i.screenReaderPageLabel)}}function a(e,t){if(1&e&&(r.ac(0,"span"),r.Cc(1),r.ac(2,"span",12),r.Cc(3),r.Zb(),r.Zb()),2&e){var n=r.lc(3);r.Jb(1),r.Ec(" ",n.previousLabel," "),r.Jb(2),r.Dc(n.screenReaderPageLabel)}}function s(e,t){if(1&e&&(r.ac(0,"li",8),r.Bc(1,o,4,3,"a",9),r.Bc(2,a,4,2,"span",10),r.Zb()),2&e){r.lc(2);var n=r.uc(1);r.Nb("disabled",n.isFirstPage()),r.Jb(1),r.pc("ngIf",1<n.getCurrent()),r.Jb(1),r.pc("ngIf",n.isFirstPage())}}function u(e,t){if(1&e){var n=r.bc();r.ac(0,"a",11),r.ic("keyup.enter",(function(){r.wc(n);var e=r.lc().$implicit;return r.lc(2),r.uc(1).setCurrent(e.value)}))("click",(function(){r.wc(n);var e=r.lc().$implicit;return r.lc(2),r.uc(1).setCurrent(e.value)})),r.ac(1,"span",12),r.Cc(2),r.Zb(),r.ac(3,"span"),r.Cc(4),r.mc(5,"number"),r.Zb(),r.Zb()}if(2&e){var i=r.lc().$implicit,o=r.lc(2);r.Jb(2),r.Ec("",o.screenReaderPageLabel," "),r.Jb(2),r.Dc("..."===i.label?i.label:r.oc(5,2,i.label,""))}}function c(e,t){if(1&e&&(r.Yb(0),r.ac(1,"span",12),r.Cc(2),r.Zb(),r.ac(3,"span"),r.Cc(4),r.mc(5,"number"),r.Zb(),r.Xb()),2&e){var n=r.lc().$implicit,i=r.lc(2);r.Jb(2),r.Ec("",i.screenReaderCurrentLabel," "),r.Jb(2),r.Dc("..."===n.label?n.label:r.oc(5,2,n.label,""))}}function l(e,t){if(1&e&&(r.ac(0,"li"),r.Bc(1,u,6,5,"a",9),r.Bc(2,c,6,5,"ng-container",10),r.Zb()),2&e){var n=t.$implicit;r.lc(2);var i=r.uc(1);r.Nb("current",i.getCurrent()===n.value)("ellipsis","..."===n.label),r.Jb(1),r.pc("ngIf",i.getCurrent()!==n.value),r.Jb(1),r.pc("ngIf",i.getCurrent()===n.value)}}function h(e,t){if(1&e){var n=r.bc();r.ac(0,"a",11),r.ic("keyup.enter",(function(){return r.wc(n),r.lc(3),r.uc(1).next()}))("click",(function(){return r.wc(n),r.lc(3),r.uc(1).next()})),r.Cc(1),r.ac(2,"span",12),r.Cc(3),r.Zb(),r.Zb()}if(2&e){var i=r.lc(3);r.Kb("aria-label",i.nextLabel+" "+i.screenReaderPageLabel),r.Jb(1),r.Ec(" ",i.nextLabel," "),r.Jb(2),r.Dc(i.screenReaderPageLabel)}}function f(e,t){if(1&e&&(r.ac(0,"span"),r.Cc(1),r.ac(2,"span",12),r.Cc(3),r.Zb(),r.Zb()),2&e){var n=r.lc(3);r.Jb(1),r.Ec(" ",n.nextLabel," "),r.Jb(2),r.Dc(n.screenReaderPageLabel)}}function d(e,t){if(1&e&&(r.ac(0,"li",13),r.Bc(1,h,4,3,"a",9),r.Bc(2,f,4,2,"span",10),r.Zb()),2&e){r.lc(2);var n=r.uc(1);r.Nb("disabled",n.isLastPage()),r.Jb(1),r.pc("ngIf",!n.isLastPage()),r.Jb(1),r.pc("ngIf",n.isLastPage())}}function p(e,t){if(1&e&&(r.ac(0,"ul",3),r.Bc(1,s,3,4,"li",4),r.ac(2,"li",5),r.Cc(3),r.Zb(),r.Bc(4,l,3,6,"li",6),r.Bc(5,d,3,4,"li",7),r.Zb()),2&e){var n=r.lc(),i=r.uc(1);r.Nb("responsive",n.responsive),r.Kb("aria-label",n.screenReaderPaginationLabel),r.Jb(1),r.pc("ngIf",n.directionLinks),r.Jb(2),r.Fc(" ",i.getCurrent()," / ",i.getLastPage()," "),r.Jb(1),r.pc("ngForOf",i.pages),r.Jb(1),r.pc("ngIf",n.directionLinks)}}var v=function(){function e(){this.change=new r.q,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}return e.prototype.defaultId=function(){return this.DEFAULT_ID},e.prototype.register=function(e){return null==e.id&&(e.id=this.DEFAULT_ID),this.instances[e.id]?this.updateInstance(e):(this.instances[e.id]=e,!0)},e.prototype.updateInstance=function(e){var t=!1;for(var n in this.instances[e.id])e[n]!==this.instances[e.id][n]&&(this.instances[e.id][n]=e[n],t=!0);return t},e.prototype.getCurrentPage=function(e){if(this.instances[e])return this.instances[e].currentPage},e.prototype.setCurrentPage=function(e,t){if(this.instances[e]){var n=this.instances[e];t<=Math.ceil(n.totalItems/n.itemsPerPage)&&1<=t&&(this.instances[e].currentPage=t,this.change.emit(e))}},e.prototype.setTotalItems=function(e,t){this.instances[e]&&0<=t&&(this.instances[e].totalItems=t,this.change.emit(e))},e.prototype.setItemsPerPage=function(e,t){this.instances[e]&&(this.instances[e].itemsPerPage=t,this.change.emit(e))},e.prototype.getInstance=function(e){return void 0===e&&(e=this.DEFAULT_ID),this.instances[e]?this.clone(this.instances[e]):{}},e.prototype.clone=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Rb({token:e,factory:function(t){return e.\u0275fac(t)}}),e}(),y=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=Number.MAX_SAFE_INTEGER,m=function(){function e(e){this.service=e,this.state={}}return e.prototype.transform=function(e,t){if(!(e instanceof Array)){var n=t.id||this.service.defaultId();return this.state[n]?this.state[n].slice:e}var r,i,o=t.totalItems&&t.totalItems!==e.length,a=this.createInstance(e,t),s=a.id,u=a.itemsPerPage,c=this.service.register(a);if(!o&&e instanceof Array){if(this.stateIsIdentical(s,e,r=(a.currentPage-1)*(u=+u||g),i=r+u))return this.state[s].slice;var l=e.slice(r,i);return this.saveState(s,e,l,r,i),this.service.change.emit(s),l}return c&&this.service.change.emit(s),this.saveState(s,e,e,r,i),e},e.prototype.createInstance=function(e,t){return this.checkConfig(t),{id:null!=t.id?t.id:this.service.defaultId(),itemsPerPage:+t.itemsPerPage||0,currentPage:+t.currentPage||1,totalItems:+t.totalItems||e.length}},e.prototype.checkConfig=function(e){var t=["itemsPerPage","currentPage"].filter((function(t){return!(t in e)}));if(0<t.length)throw new Error("PaginatePipe: Argument is missing the following required properties: "+t.join(", "))},e.prototype.saveState=function(e,t,n,r,i){this.state[e]={collection:t,size:t.length,slice:n,start:r,end:i}},e.prototype.stateIsIdentical=function(e,t,n,r){var i=this.state[e];return!!i&&!(i.size!==t.length||i.start!==n||i.end!==r)&&i.slice.every((function(e,r){return e===t[n+r]}))},(e=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([y("design:paramtypes",[v])],e)).\u0275fac=function(t){return new(t||e)(r.Vb(v))},e.\u0275pipe=r.Ub({name:"paginate",type:e,pure:!1}),e}(),_=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},b=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function C(e){return!!e&&"false"!==e}var w=function(){function e(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new r.q,this.pageBoundsCorrection=new r.q,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}return Object.defineProperty(e.prototype,"directionLinks",{get:function(){return this._directionLinks},set:function(e){this._directionLinks=C(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoHide",{get:function(){return this._autoHide},set:function(e){this._autoHide=C(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"responsive",{get:function(){return this._responsive},set:function(e){this._responsive=C(e)},enumerable:!0,configurable:!0}),_([Object(r.v)(),b("design:type",String)],e.prototype,"id",void 0),_([Object(r.v)(),b("design:type",Number)],e.prototype,"maxSize",void 0),_([Object(r.v)(),b("design:type",Boolean),b("design:paramtypes",[Boolean])],e.prototype,"directionLinks",null),_([Object(r.v)(),b("design:type",Boolean),b("design:paramtypes",[Boolean])],e.prototype,"autoHide",null),_([Object(r.v)(),b("design:type",Boolean),b("design:paramtypes",[Boolean])],e.prototype,"responsive",null),_([Object(r.v)(),b("design:type",String)],e.prototype,"previousLabel",void 0),_([Object(r.v)(),b("design:type",String)],e.prototype,"nextLabel",void 0),_([Object(r.v)(),b("design:type",String)],e.prototype,"screenReaderPaginationLabel",void 0),_([Object(r.v)(),b("design:type",String)],e.prototype,"screenReaderPageLabel",void 0),_([Object(r.v)(),b("design:type",String)],e.prototype,"screenReaderCurrentLabel",void 0),_([Object(r.G)(),b("design:type",r.q)],e.prototype,"pageChange",void 0),_([Object(r.G)(),b("design:type",r.q)],e.prototype,"pageBoundsCorrection",void 0),e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Pb({type:e,selectors:[["pagination-controls"]],inputs:{maxSize:"maxSize",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:3,vars:3,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["class","ngx-pagination","role","navigation",3,"responsive",4,"ngIf"],["role","navigation",1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],[4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],[1,"pagination-next"]],template:function(e,t){if(1&e&&(r.ac(0,"pagination-template",0,1),r.ic("pageChange",(function(e){return t.pageChange.emit(e)}))("pageBoundsCorrection",(function(e){return t.pageBoundsCorrection.emit(e)})),r.Bc(2,p,6,8,"ul",2),r.Zb()),2&e){var n=r.uc(1);r.pc("id",t.id)("maxSize",t.maxSize),r.Jb(2),r.pc("ngIf",!(t.autoHide&&n.pages.length<=1))}},directives:function(){return[S,i.n,i.m]},pipes:function(){return[i.g]},styles:["\n.ngx-pagination {\n  margin-left: 0;\n  margin-bottom: 1rem; }\n  .ngx-pagination::before, .ngx-pagination::after {\n    content: ' ';\n    display: table; }\n  .ngx-pagination::after {\n    clear: both; }\n  .ngx-pagination li {\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    margin-right: 0.0625rem;\n    border-radius: 0; }\n  .ngx-pagination li {\n    display: inline-block; }\n  .ngx-pagination a,\n  .ngx-pagination button {\n    color: #0a0a0a; \n    display: block;\n    padding: 0.1875rem 0.625rem;\n    border-radius: 0; }\n    .ngx-pagination a:hover,\n    .ngx-pagination button:hover {\n      background: #e6e6e6; }\n  .ngx-pagination .current {\n    padding: 0.1875rem 0.625rem;\n    background: #2199e8;\n    color: #fefefe;\n    cursor: default; }\n  .ngx-pagination .disabled {\n    padding: 0.1875rem 0.625rem;\n    color: #cacaca;\n    cursor: default; } \n    .ngx-pagination .disabled:hover {\n      background: transparent; }\n  .ngx-pagination a, .ngx-pagination button {\n    cursor: pointer; }\n\n.ngx-pagination .pagination-previous a::before,\n.ngx-pagination .pagination-previous.disabled::before { \n  content: '\xab';\n  display: inline-block;\n  margin-right: 0.5rem; }\n\n.ngx-pagination .pagination-next a::after,\n.ngx-pagination .pagination-next.disabled::after {\n  content: '\xbb';\n  display: inline-block;\n  margin-left: 0.5rem; }\n\n.ngx-pagination .show-for-sr {\n  position: absolute !important;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0); }\n.ngx-pagination .small-screen {\n  display: none; }\n@media screen and (max-width: 601px) {\n  .ngx-pagination.responsive .small-screen {\n    display: inline-block; } \n  .ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next) {\n    display: none; }\n}\n  "],encapsulation:2,changeDetection:0}),e}(),k=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},E=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},S=function(){function e(e,t){var n=this;this.service=e,this.changeDetectorRef=t,this.maxSize=7,this.pageChange=new r.q,this.pageBoundsCorrection=new r.q,this.pages=[],this.changeSub=this.service.change.subscribe((function(e){n.id===e&&(n.updatePageLinks(),n.changeDetectorRef.markForCheck(),n.changeDetectorRef.detectChanges())}))}return e.prototype.ngOnInit=function(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()},e.prototype.ngOnChanges=function(e){this.updatePageLinks()},e.prototype.ngOnDestroy=function(){this.changeSub.unsubscribe()},e.prototype.previous=function(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)},e.prototype.next=function(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)},e.prototype.isFirstPage=function(){return 1===this.getCurrent()},e.prototype.isLastPage=function(){return this.getLastPage()===this.getCurrent()},e.prototype.setCurrent=function(e){this.pageChange.emit(e)},e.prototype.getCurrent=function(){return this.service.getCurrentPage(this.id)},e.prototype.getLastPage=function(){var e=this.service.getInstance(this.id);return e.totalItems<1?1:Math.ceil(e.totalItems/e.itemsPerPage)},e.prototype.getTotalItems=function(){return this.service.getInstance(this.id).totalItems},e.prototype.checkValidId=function(){null==this.service.getInstance(this.id).id&&console.warn('PaginationControlsDirective: the specified id "'+this.id+'" does not match any registered PaginationInstance')},e.prototype.updatePageLinks=function(){var e=this,t=this.service.getInstance(this.id),n=this.outOfBoundCorrection(t);n!==t.currentPage?setTimeout((function(){e.pageBoundsCorrection.emit(n),e.pages=e.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,e.maxSize)})):this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)},e.prototype.outOfBoundCorrection=function(e){var t=Math.ceil(e.totalItems/e.itemsPerPage);return t<e.currentPage&&0<t?t:e.currentPage<1?1:e.currentPage},e.prototype.createPageArray=function(e,t,n,r){r=+r;for(var i=[],o=Math.ceil(n/t),a=Math.ceil(r/2),s=e<=a,u=o-a<e,c=!s&&!u,l=r<o,h=1;h<=o&&h<=r;){var f=this.calculatePageNumber(h,e,r,o);i.push({label:l&&(2===h&&(c||u)||h===r-1&&(c||s))?"...":f,value:f}),h++}return i},e.prototype.calculatePageNumber=function(e,t,n,r){var i=Math.ceil(n/2);return e===n?r:1===e?e:n<r?r-i<t?r-n+e:i<t?t-i+e:e:e},k([Object(r.v)(),E("design:type",String)],e.prototype,"id",void 0),k([Object(r.v)(),E("design:type",Number)],e.prototype,"maxSize",void 0),k([Object(r.G)(),E("design:type",r.q)],e.prototype,"pageChange",void 0),k([Object(r.G)(),E("design:type",r.q)],e.prototype,"pageBoundsCorrection",void 0),(e=k([E("design:paramtypes",[v,r.i])],e)).\u0275fac=function(t){return new(t||e)(r.Vb(v),r.Vb(r.i))},e.\u0275dir=r.Qb({type:e,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{maxSize:"maxSize",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[r.Hb]}),e}(),O=function(){function e(){}return e.\u0275mod=r.Tb({type:e}),e.\u0275inj=r.Sb({factory:function(t){return new(t||e)},providers:[v],imports:[[i.c]]}),e}()},ofXK:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return Ce})),n.d(t,"c",(function(){return De})),n.d(t,"d",(function(){return Oe})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return Ee})),n.d(t,"g",(function(){return Se})),n.d(t,"h",(function(){return w})),n.d(t,"i",(function(){return h})),n.d(t,"j",(function(){return k})),n.d(t,"k",(function(){return m})),n.d(t,"l",(function(){return le})),n.d(t,"m",(function(){return fe})),n.d(t,"n",(function(){return pe})),n.d(t,"o",(function(){return C})),n.d(t,"p",(function(){return c})),n.d(t,"q",(function(){return ke})),n.d(t,"r",(function(){return Pe})),n.d(t,"s",(function(){return xe})),n.d(t,"t",(function(){return s})),n.d(t,"u",(function(){return Ae})),n.d(t,"v",(function(){return o})),n.d(t,"w",(function(){return ce})),n.d(t,"x",(function(){return a}));var r=n("fXoL"),i=null;function o(){return i}function a(e){i||(i=e)}var s=function e(){_classCallCheck(this,e)},u=new r.t("DocumentToken"),c=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(r.Rb)({factory:l,token:e,providedIn:"platform"}),e}();function l(){return Object(r.ec)(f)}var h=new r.t("Location Initialized"),f=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._init(),r}return _createClass(n,[{key:"_init",value:function(){this.location=o().getLocation(),this._history=o().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return o().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(e,t,n){d()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){d()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}}]),n}(c);return e.\u0275fac=function(t){return new(t||e)(r.ec(u))},e.\u0275prov=Object(r.Rb)({factory:p,token:e,providedIn:"platform"}),e}();function d(){return!!window.history.pushState}function p(){return new f(Object(r.ec)(u))}function v(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function y(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function g(e){return e&&"?"!==e[0]?"?"+e:e}var m=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(r.Rb)({factory:_,token:e,providedIn:"root"}),e}();function _(e){var t=Object(r.ec)(u).location;return new C(Object(r.ec)(c),t&&t.origin||"")}var b=new r.t("appBaseHref"),C=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;if(_classCallCheck(this,n),(i=t.call(this))._platformLocation=e,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,_possibleConstructorReturn(i)}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return v(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(m);return e.\u0275fac=function(t){return new(t||e)(r.ec(c),r.ec(b,8))},e.\u0275prov=r.Rb({token:e,factory:e.\u0275fac}),e}(),w=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._platformLocation=e,i._baseHref="",null!=r&&(i._baseHref=r),i}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=v(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(m);return e.\u0275fac=function(t){return new(t||e)(r.ec(c),r.ec(b,8))},e.\u0275prov=r.Rb({token:e,factory:e.\u0275fac}),e}(),k=function(){var e=function(){function e(t,n){var i=this;_classCallCheck(this,e),this._subject=new r.q,this._urlChangeListeners=[],this._platformStrategy=t;var o=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=y(S(o)),this._platformStrategy.onPopState((function(e){i._subject.emit({url:i.path(!0),pop:!0,state:e.state,type:e.type})}))}return _createClass(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+g(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,S(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+g(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+g(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this.subscribe((function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(e,t)}))}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.ec(m),r.ec(c))},e.normalizeQueryParams=g,e.joinWithSlash=v,e.stripTrailingSlash=y,e.\u0275prov=Object(r.Rb)({factory:E,token:e,providedIn:"root"}),e}();function E(){return new k(Object(r.ec)(m),Object(r.ec)(c))}function S(e){return e.replace(/\/index.html$/,"")}var O={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},T=function(){var e={Decimal:0,Percent:1,Currency:2,Scientific:3};return e[e.Decimal]="Decimal",e[e.Percent]="Percent",e[e.Currency]="Currency",e[e.Scientific]="Scientific",e}(),I=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),D=function(){var e={Format:0,Standalone:1};return e[e.Format]="Format",e[e.Standalone]="Standalone",e}(),A=function(){var e={Narrow:0,Abbreviated:1,Wide:2,Short:3};return e[e.Narrow]="Narrow",e[e.Abbreviated]="Abbreviated",e[e.Wide]="Wide",e[e.Short]="Short",e}(),x=function(){var e={Short:0,Medium:1,Long:2,Full:3};return e[e.Short]="Short",e[e.Medium]="Medium",e[e.Long]="Long",e[e.Full]="Full",e}(),P=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}();function N(e,t){return U(Object(r.rb)(e)[r.hb.DateFormat],t)}function R(e,t){return U(Object(r.rb)(e)[r.hb.TimeFormat],t)}function j(e,t){return U(Object(r.rb)(e)[r.hb.DateTimeFormat],t)}function F(e,t){var n=Object(r.rb)(e),i=n[r.hb.NumberSymbols][t];if(void 0===i){if(t===P.CurrencyDecimal)return n[r.hb.NumberSymbols][P.Decimal];if(t===P.CurrencyGroup)return n[r.hb.NumberSymbols][P.Group]}return i}function M(e,t){return Object(r.rb)(e)[r.hb.NumberFormats][t]}var L=r.ub;function V(e){if(!e[r.hb.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(e[r.hb.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function U(e,t){for(var n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function B(e){var t=_slicedToArray(e.split(":"),2);return{hours:+t[0],minutes:+t[1]}}var q=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,H={},z=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,W=function(){var e={Short:0,ShortGMT:1,Long:2,Extended:3};return e[e.Short]="Short",e[e.ShortGMT]="ShortGMT",e[e.Long]="Long",e[e.Extended]="Extended",e}(),K=function(){var e={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return e[e.FullYear]="FullYear",e[e.Month]="Month",e[e.Date]="Date",e[e.Hours]="Hours",e[e.Minutes]="Minutes",e[e.Seconds]="Seconds",e[e.FractionalSeconds]="FractionalSeconds",e[e.Day]="Day",e}(),G=function(){var e={DayPeriods:0,Days:1,Months:2,Eras:3};return e[e.DayPeriods]="DayPeriods",e[e.Days]="Days",e[e.Months]="Months",e[e.Eras]="Eras",e}();function Q(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e}function Z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,o=n));for(var a=String(e);a.length<t;)a="0"+a;return r&&(a=a.substr(a.length-t)),o+a}function J(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(o,a){var s,u=function(e,t){switch(e){case K.FullYear:return t.getFullYear();case K.Month:return t.getMonth();case K.Date:return t.getDate();case K.Hours:return t.getHours();case K.Minutes:return t.getMinutes();case K.Seconds:return t.getSeconds();case K.FractionalSeconds:return t.getMilliseconds();case K.Day:return t.getDay();default:throw new Error('Unknown DateType value "'.concat(e,'".'))}}(e,o);if((n>0||u>-n)&&(u+=n),e===K.Hours)0===u&&-12===n&&(u=12);else if(e===K.FractionalSeconds)return s=t,Z(u,3).substr(0,s);var c=F(a,P.MinusSign);return Z(u,t,c,r,i)}}function Y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D.Format,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(o,a){return function(e,t,n,i,o,a){switch(n){case G.Months:return function(e,t,n){var i=Object(r.rb)(e),o=U([i[r.hb.MonthsFormat],i[r.hb.MonthsStandalone]],t);return U(o,n)}(t,o,i)[e.getMonth()];case G.Days:return function(e,t,n){var i=Object(r.rb)(e),o=U([i[r.hb.DaysFormat],i[r.hb.DaysStandalone]],t);return U(o,n)}(t,o,i)[e.getDay()];case G.DayPeriods:var s=e.getHours(),u=e.getMinutes();if(a){var c,l=function(e){var t=Object(r.rb)(e);return V(t),(t[r.hb.ExtraData][2]||[]).map((function(e){return"string"==typeof e?B(e):[B(e[0]),B(e[1])]}))}(t),h=function(e,t,n){var i=Object(r.rb)(e);V(i);var o=U([i[r.hb.ExtraData][0],i[r.hb.ExtraData][1]],t)||[];return U(o,n)||[]}(t,o,i);if(l.forEach((function(e,t){if(Array.isArray(e)){var n=e[0],r=n.hours,i=n.minutes,o=e[1],a=o.hours,l=o.minutes;s>=r&&u>=i&&(s<a||s===a&&u<l)&&(c=h[t])}else{var f=e.hours,d=e.minutes;f===s&&d===u&&(c=h[t])}})),c)return c}return function(e,t,n){var i=Object(r.rb)(e),o=U([i[r.hb.DayPeriodsFormat],i[r.hb.DayPeriodsStandalone]],t);return U(o,n)}(t,o,i)[s<12?0:1];case G.Eras:return function(e,t){return U(Object(r.rb)(e)[r.hb.Eras],t)}(t,i)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(o,a,e,t,n,i)}}function X(e){return function(t,n,r){var i=-1*r,o=F(n,P.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case W.Short:return(i>=0?"+":"")+Z(a,2,o)+Z(Math.abs(i%60),2,o);case W.ShortGMT:return"GMT"+(i>=0?"+":"")+Z(a,1,o);case W.Long:return"GMT"+(i>=0?"+":"")+Z(a,2,o)+":"+Z(Math.abs(i%60),2,o);case W.Extended:return 0===r?"Z":(i>=0?"+":"")+Z(a,2,o)+":"+Z(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'.concat(e,'"'))}}}function $(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var i,o,a,s;if(t){var u=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,c=n.getDate();i=1+Math.floor((c+u)/7)}else{var l=(o=n.getFullYear(),a=new Date(o,0,1).getDay(),new Date(o,0,1+(a<=4?4:11)-a)),h=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(4-s.getDay()))).getTime()-l.getTime();i=1+Math.round(h/6048e5)}return Z(i,e,F(r,P.MinusSign))}}var ee={};function te(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function ne(e){return e instanceof Date&&!isNaN(e.valueOf())}var re=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function ie(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s="",u=!1;if(isFinite(e)){var c=function(e){var t,n,r,i,o,a=Math.abs(e)+"",s=0;for((n=a.indexOf("."))>-1&&(a=a.replace(".","")),(r=a.search(/e/i))>0?(n<0&&(n=r),n+=+a.slice(r+1),a=a.substring(0,r)):n<0&&(n=a.length),r=0;"0"===a.charAt(r);r++);if(r===(o=a.length))t=[0],n=1;else{for(o--;"0"===a.charAt(o);)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=Number(a.charAt(r))}return n>22&&(t=t.splice(0,21),s=n-1,n=1),{digits:t,exponent:s,integerLen:n}}(e);a&&(c=function(e){if(0===e.digits[0])return e;var t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(c));var l=t.minInt,h=t.minFrac,f=t.maxFrac;if(o){var d=o.match(re);if(null===d)throw new Error(o+" is not a valid digit info");var p=d[1],v=d[3],y=d[5];null!=p&&(l=ae(p)),null!=v&&(h=ae(v)),null!=y?f=ae(y):null!=v&&h>f&&(f=h)}!function(e,t,n){if(t>n)throw new Error("The minimum number of digits after fraction (".concat(t,") is higher than the maximum (").concat(n,")."));var r=e.digits,i=r.length-e.integerLen,o=Math.min(Math.max(t,i),n),a=o+e.integerLen,s=r[a];if(a>0){r.splice(Math.max(e.integerLen,a));for(var u=a;u<r.length;u++)r[u]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,a=o+1),r[0]=0;for(var c=1;c<a;c++)r[c]=0}if(s>=5)if(a-1<0){for(var l=0;l>a;l--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[a-1]++;for(;i<Math.max(0,o);i++)r.push(0);var h=0!==o,f=t+e.integerLen,d=r.reduceRight((function(e,t,n,r){return r[n]=(t+=e)<10?t:t-10,h&&(0===r[n]&&n>=f?r.pop():h=!1),t>=10?1:0}),0);d&&(r.unshift(d),e.integerLen++)}(c,h,f);var g=c.digits,m=c.integerLen,_=c.exponent,b=[];for(u=g.every((function(e){return!e}));m<l;m++)g.unshift(0);for(;m<0;m++)g.unshift(0);m>0?b=g.splice(m,g.length):(b=g,g=[0]);var C=[];for(g.length>=t.lgSize&&C.unshift(g.splice(-t.lgSize,g.length).join(""));g.length>t.gSize;)C.unshift(g.splice(-t.gSize,g.length).join(""));g.length&&C.unshift(g.join("")),s=C.join(F(n,r)),b.length&&(s+=F(n,i)+b.join("")),_&&(s+=F(n,P.Exponential)+"+"+_)}else s=F(n,P.Infinity);return s=e<0&&!u?t.negPre+s+t.negSuf:t.posPre+s+t.posSuf}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(";"),i=r[0],o=r[1],a=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],s=a[0],u=a[1]||"";n.posPre=s.substr(0,s.indexOf("#"));for(var c=0;c<u.length;c++){var l=u.charAt(c);"0"===l?n.minFrac=n.maxFrac=c+1:"#"===l?n.maxFrac=c+1:n.posSuf+=l}var h=s.split(",");if(n.gSize=h[1]?h[1].length:0,n.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,o){var f=i.length-n.posPre.length-n.posSuf.length,d=o.indexOf("#");n.negPre=o.substr(0,d).replace(/'/g,""),n.negSuf=o.substr(d+f).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function ae(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}var se=function e(){_classCallCheck(this,e)},ue=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).locale=e,r}return _createClass(n,[{key:"getPluralCategory",value:function(e,t){switch(L(t||this.locale)(e)){case I.Zero:return"zero";case I.One:return"one";case I.Two:return"two";case I.Few:return"few";case I.Many:return"many";default:return"other"}}}]),n}(se);return e.\u0275fac=function(t){return new(t||e)(r.ec(r.y))},e.\u0275prov=r.Rb({token:e,factory:e.\u0275fac}),e}();function ce(e,t){t=encodeURIComponent(t);var n,r=_createForOfIteratorHelper(e.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),a=_slicedToArray(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),s=a[0],u=a[1];if(s.trim()===t)return decodeURIComponent(u)}}catch(c){r.e(c)}finally{r.f()}return null}var le=function(){var e=function(){function e(t,n,r,i){_classCallCheck(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return _createClass(e,[{key:"klass",set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Object(r.xb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachChangedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachRemovedItem((function(e){e.previousValue&&t._toggleClass(e.key,!1)}))}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.Eb)(e.item));t._toggleClass(e.item,!0)})),e.forEachRemovedItem((function(e){return t._toggleClass(e.item,!1)}))}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!0)})):Object.keys(e).forEach((function(n){return t._toggleClass(n,!!e[n])})))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!1)})):Object.keys(e).forEach((function(e){return t._toggleClass(e,!1)})))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach((function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Vb(r.w),r.Vb(r.x),r.Vb(r.o),r.Vb(r.K))},e.\u0275dir=r.Qb({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e}(),he=function(){function e(t,n,r,i){_classCallCheck(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return _createClass(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),fe=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(e,[{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(e){Object(r.cb)()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(e),". See https://angular.io/api/common/NgForOf#change-propagation for more information.")),this._trackByFn=e}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation((function(e,r,i){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new he(null,t._ngForOf,-1,-1),null===i?void 0:i),a=new de(e,o);n.push(a)}else if(null==i)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=t._viewContainer.get(r);t._viewContainer.move(s,i);var u=new de(e,s);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}e.forEachIdentityChange((function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item}))}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Vb(r.W),r.Vb(r.S),r.Vb(r.w))},e.\u0275dir=r.Qb({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e}(),de=function e(t,n){_classCallCheck(this,e),this.record=t,this.view=n},pe=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._viewContainer=t,this._context=new ve,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(e,[{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){ye("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){ye("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Vb(r.W),r.Vb(r.S))},e.\u0275dir=r.Qb({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e}(),ve=function e(){_classCallCheck(this,e),this.$implicit=null,this.ngIf=null};function ye(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(Object(r.Eb)(t),"'."))}function ge(e,t){return Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat(Object(r.Eb)(e),"'"))}var me=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"createSubscription",value:function(e,t){return e.subscribe({next:t,error:function(e){throw e}})}},{key:"dispose",value:function(e){e.unsubscribe()}},{key:"onDestroy",value:function(e){e.unsubscribe()}}]),e}(),_e=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"createSubscription",value:function(e,t){return e.then(t,(function(e){throw e}))}},{key:"dispose",value:function(e){}},{key:"onDestroy",value:function(e){}}]),e}()),be=new me,Ce=function(){var e=function(){function e(t){_classCallCheck(this,e),this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return _createClass(e,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):Object(r.Ab)(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,r.Y.wrap(this._latestValue)):(e&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue)}},{key:"_subscribe",value:function(e){var t=this;this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,(function(n){return t._updateLatestValue(e,n)}))}},{key:"_selectStrategy",value:function(t){if(Object(r.zb)(t))return _e;if(Object(r.yb)(t))return be;throw ge(e,t)}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.gc())},e.\u0275pipe=r.Ub({name:"async",type:e,pure:!1}),e}(),we=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g,ke=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(t){if(!t)return t;if("string"!=typeof t)throw ge(e,t);return t.replace(we,(function(e){return e[0].toUpperCase()+e.substr(1).toLowerCase()}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r.Ub({name:"titlecase",type:e,pure:!0}),e}(),Ee=function(){var e=function(){function e(t){_classCallCheck(this,e),this.locale=t}return _createClass(e,[{key:"transform",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if(null==t||""===t||t!=t)return null;try{return function(e,t,n,i){var o=function(e){if(ne(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();var t,n=parseFloat(e);if(!isNaN(e-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var r=_slicedToArray(e.split("-").map((function(e){return+e})),3),i=r[0],o=r[1],a=r[2];return new Date(i,o-1,a)}if(t=e.match(q))return function(e){var t=new Date(0),n=0,r=0,i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));var a=Number(e[4]||0)-n,s=Number(e[5]||0)-r,u=Number(e[6]||0),c=Math.round(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,a,s,u,c),t}(t)}var s=new Date(e);if(!ne(s))throw new Error('Unable to convert "'.concat(e,'" into a date'));return s}(e);t=function e(t,n){var i=function(e){return Object(r.rb)(e)[r.hb.LocaleId]}(t);if(H[i]=H[i]||{},H[i][n])return H[i][n];var o="";switch(n){case"shortDate":o=N(t,x.Short);break;case"mediumDate":o=N(t,x.Medium);break;case"longDate":o=N(t,x.Long);break;case"fullDate":o=N(t,x.Full);break;case"shortTime":o=R(t,x.Short);break;case"mediumTime":o=R(t,x.Medium);break;case"longTime":o=R(t,x.Long);break;case"fullTime":o=R(t,x.Full);break;case"short":var a=e(t,"shortTime"),s=e(t,"shortDate");o=Q(j(t,x.Short),[a,s]);break;case"medium":var u=e(t,"mediumTime"),c=e(t,"mediumDate");o=Q(j(t,x.Medium),[u,c]);break;case"long":var l=e(t,"longTime"),h=e(t,"longDate");o=Q(j(t,x.Long),[l,h]);break;case"full":var f=e(t,"fullTime"),d=e(t,"fullDate");o=Q(j(t,x.Full),[f,d])}return o&&(H[i][n]=o),o}(n,t)||t;for(var a,s=[];t;){if(!(a=z.exec(t))){s.push(t);break}var u=(s=s.concat(a.slice(1))).pop();if(!u)break;t=u}var c=o.getTimezoneOffset();i&&(c=te(i,c),o=function(e,t,n){var r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(te(t,r)-r))}(o,i));var l="";return s.forEach((function(e){var t=function(e){if(ee[e])return ee[e];var t;switch(e){case"G":case"GG":case"GGG":t=Y(G.Eras,A.Abbreviated);break;case"GGGG":t=Y(G.Eras,A.Wide);break;case"GGGGG":t=Y(G.Eras,A.Narrow);break;case"y":t=J(K.FullYear,1,0,!1,!0);break;case"yy":t=J(K.FullYear,2,0,!0,!0);break;case"yyy":t=J(K.FullYear,3,0,!1,!0);break;case"yyyy":t=J(K.FullYear,4,0,!1,!0);break;case"M":case"L":t=J(K.Month,1,1);break;case"MM":case"LL":t=J(K.Month,2,1);break;case"MMM":t=Y(G.Months,A.Abbreviated);break;case"MMMM":t=Y(G.Months,A.Wide);break;case"MMMMM":t=Y(G.Months,A.Narrow);break;case"LLL":t=Y(G.Months,A.Abbreviated,D.Standalone);break;case"LLLL":t=Y(G.Months,A.Wide,D.Standalone);break;case"LLLLL":t=Y(G.Months,A.Narrow,D.Standalone);break;case"w":t=$(1);break;case"ww":t=$(2);break;case"W":t=$(1,!0);break;case"d":t=J(K.Date,1);break;case"dd":t=J(K.Date,2);break;case"E":case"EE":case"EEE":t=Y(G.Days,A.Abbreviated);break;case"EEEE":t=Y(G.Days,A.Wide);break;case"EEEEE":t=Y(G.Days,A.Narrow);break;case"EEEEEE":t=Y(G.Days,A.Short);break;case"a":case"aa":case"aaa":t=Y(G.DayPeriods,A.Abbreviated);break;case"aaaa":t=Y(G.DayPeriods,A.Wide);break;case"aaaaa":t=Y(G.DayPeriods,A.Narrow);break;case"b":case"bb":case"bbb":t=Y(G.DayPeriods,A.Abbreviated,D.Standalone,!0);break;case"bbbb":t=Y(G.DayPeriods,A.Wide,D.Standalone,!0);break;case"bbbbb":t=Y(G.DayPeriods,A.Narrow,D.Standalone,!0);break;case"B":case"BB":case"BBB":t=Y(G.DayPeriods,A.Abbreviated,D.Format,!0);break;case"BBBB":t=Y(G.DayPeriods,A.Wide,D.Format,!0);break;case"BBBBB":t=Y(G.DayPeriods,A.Narrow,D.Format,!0);break;case"h":t=J(K.Hours,1,-12);break;case"hh":t=J(K.Hours,2,-12);break;case"H":t=J(K.Hours,1);break;case"HH":t=J(K.Hours,2);break;case"m":t=J(K.Minutes,1);break;case"mm":t=J(K.Minutes,2);break;case"s":t=J(K.Seconds,1);break;case"ss":t=J(K.Seconds,2);break;case"S":t=J(K.FractionalSeconds,1);break;case"SS":t=J(K.FractionalSeconds,2);break;case"SSS":t=J(K.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=X(W.Short);break;case"ZZZZZ":t=X(W.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=X(W.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=X(W.Long);break;default:return null}return ee[e]=t,t}(e);l+=t?t(o,n,c):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),l}(t,n,o||this.locale,i)}catch(a){throw ge(e,a.message)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Vb(r.y))},e.\u0275pipe=r.Ub({name:"date",type:e,pure:!0}),e}(),Se=function(){var e=function(){function e(t){_classCallCheck(this,e),this._locale=t}return _createClass(e,[{key:"transform",value:function(t,n,r){if(Te(t))return null;r=r||this._locale;try{return function(e,t,n){return ie(e,oe(M(t,T.Decimal),F(t,P.MinusSign)),t,P.Group,P.Decimal,n)}(Ie(t),r,n)}catch(i){throw ge(e,i.message)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Vb(r.y))},e.\u0275pipe=r.Ub({name:"number",type:e,pure:!0}),e}(),Oe=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";_classCallCheck(this,e),this._locale=t,this._defaultCurrencyCode=n}return _createClass(e,[{key:"transform",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"symbol",o=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(Te(t))return null;a=a||this._locale,"boolean"==typeof i&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),i=i?"symbol":"code");var s=n||this._defaultCurrencyCode;"code"!==i&&(s="symbol"===i||"symbol-narrow"===i?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",i=function(e){return Object(r.rb)(e)[r.hb.Currencies]}(n)[e]||O[e]||[],o=i[1];return"narrow"===t&&"string"==typeof o?o:i[0]||e}(s,"symbol"===i?"wide":"narrow",a):i);try{return function(e,t,n,r,i){var o=oe(M(t,T.Currency),F(t,P.MinusSign));return o.minFrac=function(e){var t,n=O[e];return n&&(t=n[2]),"number"==typeof t?t:2}(r),o.maxFrac=o.minFrac,ie(e,o,t,P.CurrencyGroup,P.CurrencyDecimal,i).replace("\xa4",n).replace("\xa4","").trim()}(Ie(t),a,s,n,o)}catch(u){throw ge(e,u.message)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Vb(r.y),r.Vb(r.m))},e.\u0275pipe=r.Ub({name:"currency",type:e,pure:!0}),e}();function Te(e){return null==e||""===e||e!=e}function Ie(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(e+" is not a number");return e}var De=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=r.Tb({type:e}),e.\u0275inj=r.Sb({factory:function(t){return new(t||e)},providers:[{provide:se,useClass:ue}]}),e}(),Ae="browser";function xe(e){return"server"===e}var Pe=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275prov=Object(r.Rb)({token:e,providedIn:"root",factory:function(){return new Ne(Object(r.ec)(u),window,Object(r.ec)(r.p))}}),e}(),Ne=function(){function e(t,n,r){_classCallCheck(this,e),this.document=t,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var t=this.document.querySelector("#"+e);if(t)return void this.scrollToElement(t);var n=this.document.querySelector("[name='".concat(e,"']"));if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}]),e}()},pLZG:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(e,t){return function(n){return n.lift(new o(e,t))}}var o=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).predicate=r,o.thisArg=i,o.count=0,o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(r.a)},pxpQ:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var r=n("7o/Q"),i=n("WMd4");function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new a(e,t))}}var a=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.scheduler,this.delay))}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(i=t.call(this,e)).scheduler=r,i.delay=o,i}return _createClass(n,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new u(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(i.a.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(i.a.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),n}(r.a),u=function e(t,n){_classCallCheck(this,e),this.notification=t,this.destination=n}},"q/0M":function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return d}));var o=[],a=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},u=a.INFO,c=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in a))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],e)),this._logHandler.apply(this,r([this,a.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],e)),this._logHandler.apply(this,r([this,a.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],e)),this._logHandler.apply(this,r([this,a.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],e)),this._logHandler.apply(this,r([this,a.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],e)),this._logHandler.apply(this,r([this,a.ERROR],e))},e}();function f(e){o.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:a[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return M})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return P})),n.d(t,"i",(function(){return L})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return h})),n.d(t,"l",(function(){return q})),n.d(t,"m",(function(){return G})),n.d(t,"n",(function(){return d})),n.d(t,"o",(function(){return x})),n.d(t,"p",(function(){return y})),n.d(t,"q",(function(){return g})),n.d(t,"r",(function(){return _})),n.d(t,"s",(function(){return R})),n.d(t,"t",(function(){return b})),n.d(t,"u",(function(){return p})),n.d(t,"v",(function(){return v})),n.d(t,"w",(function(){return w})),n.d(t,"x",(function(){return m})),n.d(t,"y",(function(){return C})),n.d(t,"z",(function(){return A})),n.d(t,"A",(function(){return T})),n.d(t,"B",(function(){return j})),n.d(t,"C",(function(){return F})),n.d(t,"D",(function(){return N})),n.d(t,"E",(function(){return K})),n.d(t,"F",(function(){return W})),n.d(t,"G",(function(){return I})),n.d(t,"H",(function(){return B})),n.d(t,"I",(function(){return H})),n.d(t,"J",(function(){return z}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},i=function(e,t){if(!e)throw o(t)},o=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},a=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=(15&s)<<2|c>>6,h=63&c;u||(h=64,a||(l=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[l],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(a(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},u=function(e){var t=a(e);return s.encodeByteArray(t,!0)},c=function(e){try{return s.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(e){return h(void 0,e)}function h(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=h(e[n],t[n]));return e}var f=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function p(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())}function v(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function y(){return"object"==typeof self&&self.self===self}function g(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _(){return d().indexOf("Electron/")>=0}function b(){var e=d();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function C(){return d().indexOf("MSAppHost/")>=0}function w(){return!1}var k=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,E.prototype.create),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),E=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?S(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new k(i,s,r);return u},e}();function S(e,t){return e.replace(O,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var O=/\{\$([^}]+)}/g;function T(e){return JSON.parse(e)}function I(e){return JSON.stringify(e)}var D=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=T(c(o[0])||""),n=T(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}},A=function(e){var t=D(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},x=function(e){var t=D(e).claims;return"object"==typeof t&&!0===t.admin};function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function N(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function R(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function j(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function F(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}var M=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^s&(u^c),o=1518500249):(i=s^u^c,o=1859775393):r<60?(i=s&u|c&(s|u),o=2400959708):(i=s^u^c,o=3395469782);var h=(a<<5|a>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function L(e,t){var n=new V(e,t);return n.subscribe.bind(n)}var V=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=U),void 0===r.error&&(r.error=U),void 0===r.complete&&(r.complete=U);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function U(){}var B=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function q(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return e+" failed: "+r+" argument "}function H(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(q(e,t,r)+"must be a valid function.")}function z(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(q(e,t,r)+"must be a valid context object.")}var W=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);if(o>=55296&&o<=56319){var a=o-55296;r++,i(r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(e.charCodeAt(r)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},K=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function G(e){return e&&e._delegate?e._delegate:e}},qgXg:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,r):e.flush(this)}}]),n}(n("3N8a").a),i=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(n("IjjT").a))(r)},quSY:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r,i,o=n("DH7j"),a=n("XoHu"),s=n("n6bG"),u=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map((function(e,t){return"".concat(t+1,") ").concat(e.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),c=((i=function(){function e(t){_classCallCheck(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return _createClass(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var c=0;c<n.length;++c)n[c].remove(this);if(Object(s.a)(r))try{r.call(this)}catch(p){t=p instanceof u?l(p.errors):[p]}if(Object(o.a)(i))for(var h=-1,f=i.length;++h<f;){var d=i[h];if(Object(a.a)(d))try{d.unsubscribe()}catch(p){t=t||[],p instanceof u?t=t.concat(l(p.errors)):t.push(p)}}if(t)throw new u(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}()).EMPTY=((r=new i).closed=!0,r),i);function l(e){return e.reduce((function(e,t){return e.concat(t instanceof u?t.errors:t)}),[])}},sVev:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}()},sYmb:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return H})),n.d(t,"c",(function(){return q})),n.d(t,"d",(function(){return B}));var r=n("fXoL"),i=n("LRne"),o=n("HDdC");function a(e){return!!e&&(e instanceof o.a||"function"==typeof e.lift&&"function"==typeof e.subscribe)}var s,u,c=n("cp0P"),l=n("GyhO"),h=n("NXyV"),f=n("IzEk"),d=n("UXun"),p=n("lJxs"),v=n("bOdf"),y=n("eIep"),g=function e(){_classCallCheck(this,e)},m=((s=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTranslation",value:function(e){return Object(i.a)({})}}]),n}(g)).\u0275fac=function(e){return _(e||s)},s.\u0275prov=r.Rb({token:s,factory:s.\u0275fac}),s),_=r.cc(m),b=function e(){_classCallCheck(this,e)},C=((u=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"handle",value:function(e){return e.key}}]),e}()).\u0275fac=function(e){return new(e||u)},u.\u0275prov=r.Rb({token:u,factory:u.\u0275fac}),u);function w(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var n,r,i,o=typeof e;if(o==typeof t&&"object"==o){if(!Array.isArray(e)){if(Array.isArray(t))return!1;for(r in i=Object.create(null),e){if(!w(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!(r in i)&&void 0!==t[r])return!1;return!0}if(!Array.isArray(t))return!1;if((n=e.length)==t.length){for(r=0;r<n;r++)if(!w(e[r],t[r]))return!1;return!0}}return!1}function k(e){return null!=e}function E(e){return e&&"object"==typeof e&&!Array.isArray(e)}var S,O,T,I,D,A=function e(){_classCallCheck(this,e)},x=((S=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).templateMatcher=/{{\s?([^{}\s]*)\s?}}/g,e}return _createClass(n,[{key:"interpolate",value:function(e,t){return"string"==typeof e?this.interpolateString(e,t):"function"==typeof e?this.interpolateFunction(e,t):e}},{key:"getValue",value:function(e,t){var n="string"==typeof t?t.split("."):[t];t="";do{t+=n.shift(),!k(e)||!k(e[t])||"object"!=typeof e[t]&&n.length?n.length?t+=".":e=void 0:(e=e[t],t="")}while(n.length);return e}},{key:"interpolateFunction",value:function(e,t){return e(t)}},{key:"interpolateString",value:function(e,t){var n=this;return t?e.replace(this.templateMatcher,(function(e,r){var i=n.getValue(t,r);return k(i)?i:e})):e}}]),n}(A)).\u0275fac=function(e){return P(e||S)},S.\u0275prov=r.Rb({token:S,factory:S.\u0275fac}),S),P=r.cc(x),N=function e(){_classCallCheck(this,e)},R=((O=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"compile",value:function(e,t){return e}},{key:"compileTranslations",value:function(e,t){return e}}]),n}(N)).\u0275fac=function(e){return j(e||O)},O.\u0275prov=r.Rb({token:O,factory:O.\u0275fac}),O),j=r.cc(R),F=function e(){_classCallCheck(this,e),this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new r.q,this.onLangChange=new r.q,this.onDefaultLangChange=new r.q},M=new r.t("USE_STORE"),L=new r.t("USE_DEFAULT_LANG"),V=new r.t("DEFAULT_LANGUAGE"),U=new r.t("USE_EXTEND"),B=((D=function(){function e(t,n,i,o,a){var s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8?arguments[8]:void 0;_classCallCheck(this,e),this.store=t,this.currentLoader=n,this.compiler=i,this.parser=o,this.missingTranslationHandler=a,this.useDefaultLang=s,this.isolate=u,this.extend=c,this.pending=!1,this._onTranslationChange=new r.q,this._onLangChange=new r.q,this._onDefaultLangChange=new r.q,this._langs=[],this._translations={},this._translationRequests={},l&&this.setDefaultLang(l)}return _createClass(e,[{key:"onTranslationChange",get:function(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}},{key:"onLangChange",get:function(){return this.isolate?this._onLangChange:this.store.onLangChange}},{key:"onDefaultLangChange",get:function(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}},{key:"defaultLang",get:function(){return this.isolate?this._defaultLang:this.store.defaultLang},set:function(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}},{key:"currentLang",get:function(){return this.isolate?this._currentLang:this.store.currentLang},set:function(e){this.isolate?this._currentLang=e:this.store.currentLang=e}},{key:"langs",get:function(){return this.isolate?this._langs:this.store.langs},set:function(e){this.isolate?this._langs=e:this.store.langs=e}},{key:"translations",get:function(){return this.isolate?this._translations:this.store.translations},set:function(e){this.isolate?this._translations=e:this.store.translations=e}},{key:"setDefaultLang",value:function(e){var t=this;if(e!==this.defaultLang){var n=this.retrieveTranslations(e);void 0!==n?(null==this.defaultLang&&(this.defaultLang=e),n.pipe(Object(f.a)(1)).subscribe((function(n){t.changeDefaultLang(e)}))):this.changeDefaultLang(e)}}},{key:"getDefaultLang",value:function(){return this.defaultLang}},{key:"use",value:function(e){var t=this;if(e===this.currentLang)return Object(i.a)(this.translations[e]);var n=this.retrieveTranslations(e);return void 0!==n?(this.currentLang||(this.currentLang=e),n.pipe(Object(f.a)(1)).subscribe((function(n){t.changeLang(e)})),n):(this.changeLang(e),Object(i.a)(this.translations[e]))}},{key:"retrieveTranslations",value:function(e){var t;return(void 0===this.translations[e]||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),t=this._translationRequests[e]),t}},{key:"getTranslation",value:function(e){var t=this;this.pending=!0;var n=this.currentLoader.getTranslation(e).pipe(Object(d.a)(1),Object(f.a)(1));return this.loadingTranslations=n.pipe(Object(p.a)((function(n){return t.compiler.compileTranslations(n,e)})),Object(d.a)(1),Object(f.a)(1)),this.loadingTranslations.subscribe({next:function(n){t.translations[e]=t.extend&&t.translations[e]?Object.assign(Object.assign({},n),t.translations[e]):n,t.updateLangs(),t.pending=!1},error:function(e){t.pending=!1}}),n}},{key:"setTranslation",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t=this.compiler.compileTranslations(t,e),this.translations[e]=(n||this.extend)&&this.translations[e]?function e(t,n){var r=Object.assign({},t);return E(t)&&E(n)&&Object.keys(n).forEach((function(i){E(n[i])&&i in t?r[i]=e(t[i],n[i]):Object.assign(r,_defineProperty({},i,n[i]))})),r}(this.translations[e],t):t,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}},{key:"getLangs",value:function(){return this.langs}},{key:"addLangs",value:function(e){var t=this;e.forEach((function(e){-1===t.langs.indexOf(e)&&t.langs.push(e)}))}},{key:"updateLangs",value:function(){this.addLangs(Object.keys(this.translations))}},{key:"getParsedResult",value:function(e,t,n){var r;if(t instanceof Array){var o,s={},u=!1,l=_createForOfIteratorHelper(t);try{for(l.s();!(o=l.n()).done;){var h=o.value;s[h]=this.getParsedResult(e,h,n),a(s[h])&&(u=!0)}}catch(v){l.e(v)}finally{l.f()}if(u){var f=t.map((function(e){return a(s[e])?s[e]:Object(i.a)(s[e])}));return Object(c.a)(f).pipe(Object(p.a)((function(e){var n={};return e.forEach((function(e,r){n[t[r]]=e})),n})))}return s}if(e&&(r=this.parser.interpolate(this.parser.getValue(e,t),n)),void 0===r&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(r=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],t),n)),void 0===r){var d={key:t,translateService:this};void 0!==n&&(d.interpolateParams=n),r=this.missingTranslationHandler.handle(d)}return void 0!==r?r:t}},{key:"get",value:function(e,t){var n=this;if(!k(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Object(v.a)((function(r){return a(r=n.getParsedResult(r,e,t))?r:Object(i.a)(r)})));var r=this.getParsedResult(this.translations[this.currentLang],e,t);return a(r)?r:Object(i.a)(r)}},{key:"getStreamOnTranslationChange",value:function(e,t){var n=this;if(!k(e)||!e.length)throw new Error('Parameter "key" required');return Object(l.a)(Object(h.a)((function(){return n.get(e,t)})),this.onTranslationChange.pipe(Object(y.a)((function(r){var o=n.getParsedResult(r.translations,e,t);return"function"==typeof o.subscribe?o:Object(i.a)(o)}))))}},{key:"stream",value:function(e,t){var n=this;if(!k(e)||!e.length)throw new Error('Parameter "key" required');return Object(l.a)(Object(h.a)((function(){return n.get(e,t)})),this.onLangChange.pipe(Object(y.a)((function(r){var o=n.getParsedResult(r.translations,e,t);return a(o)?o:Object(i.a)(o)}))))}},{key:"instant",value:function(e,t){if(!k(e)||!e.length)throw new Error('Parameter "key" required');var n=this.getParsedResult(this.translations[this.currentLang],e,t);if(a(n)){if(e instanceof Array){var r={};return e.forEach((function(t,n){r[e[n]]=e[n]})),r}return e}return n}},{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentLang;this.translations[n][e]=this.compiler.compile(t,n),this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})}},{key:"changeLang",value:function(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),null==this.defaultLang&&this.changeDefaultLang(e)}},{key:"changeDefaultLang",value:function(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}},{key:"reloadLang",value:function(e){return this.resetLang(e),this.getTranslation(e)}},{key:"resetLang",value:function(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}},{key:"getBrowserLang",value:function(){if("undefined"!=typeof window&&void 0!==window.navigator){var e=window.navigator.languages?window.navigator.languages[0]:null;return void 0!==(e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage)?(-1!==e.indexOf("-")&&(e=e.split("-")[0]),-1!==e.indexOf("_")&&(e=e.split("_")[0]),e):void 0}}},{key:"getBrowserCultureLang",value:function(){if("undefined"!=typeof window&&void 0!==window.navigator){var e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}}}]),e}()).\u0275fac=function(e){return new(e||D)(r.ec(F),r.ec(g),r.ec(N),r.ec(A),r.ec(b),r.ec(L),r.ec(M),r.ec(U),r.ec(V))},D.\u0275prov=r.Rb({token:D,factory:D.\u0275fac}),D),q=((I=function(){function e(t,n){_classCallCheck(this,e),this.translate=t,this._ref=n,this.value=""}return _createClass(e,[{key:"updateValue",value:function(e,t,n){var r=this,i=function(t){r.value=void 0!==t?t:e,r.lastKey=e,r._ref.markForCheck()};if(n){var o=this.translate.getParsedResult(n,e,t);a(o.subscribe)?o.subscribe(i):i(o)}this.translate.get(e,t).subscribe(i)}},{key:"transform",value:function(e){var t,n=this;if(!e||!e.length)return e;for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];if(w(e,this.lastKey)&&w(i,this.lastParams))return this.value;if(k(i[0])&&i.length)if("string"==typeof i[0]&&i[0].length){var a=i[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{t=JSON.parse(a)}catch(s){throw new SyntaxError("Wrong parameter in TranslatePipe. Expected a valid Object, received: "+i[0])}}else"object"!=typeof i[0]||Array.isArray(i[0])||(t=i[0]);return this.lastKey=e,this.lastParams=i,this.updateValue(e,t),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe((function(r){n.lastKey&&r.lang===n.translate.currentLang&&(n.lastKey=null,n.updateValue(e,t,r.translations))}))),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe((function(r){n.lastKey&&(n.lastKey=null,n.updateValue(e,t,r.translations))}))),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe((function(){n.lastKey&&(n.lastKey=null,n.updateValue(e,t))}))),this.value}},{key:"_dispose",value:function(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}},{key:"ngOnDestroy",value:function(){this._dispose()}}]),e}()).\u0275fac=function(e){return new(e||I)(r.Vb(B),r.gc())},I.\u0275pipe=r.Ub({name:"translate",type:I,pure:!1}),I.\u0275prov=r.Rb({token:I,factory:I.\u0275fac}),I),H=((T=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.loader||{provide:g,useClass:m},t.compiler||{provide:N,useClass:R},t.parser||{provide:A,useClass:x},t.missingTranslationHandler||{provide:b,useClass:C},F,{provide:M,useValue:t.isolate},{provide:L,useValue:t.useDefaultLang},{provide:U,useValue:t.extend},{provide:V,useValue:t.defaultLanguage},B]}}},{key:"forChild",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.loader||{provide:g,useClass:m},t.compiler||{provide:N,useClass:R},t.parser||{provide:A,useClass:x},t.missingTranslationHandler||{provide:b,useClass:C},{provide:M,useValue:t.isolate},{provide:L,useValue:t.useDefaultLang},{provide:U,useValue:t.extend},{provide:V,useValue:t.defaultLanguage},B]}}}]),e}()).\u0275mod=r.Tb({type:T}),T.\u0275inj=r.Sb({factory:function(e){return new(e||T)}}),T)},spgP:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return E})),n.d(t,"g",(function(){return C})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return y})),n.d(t,"j",(function(){return w}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),a=n("tf+s"),s=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}var h=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a;_classCallCheck(this,e),this.zone=t,this.delegate=n}return _createClass(e,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(e,t,n){var r=this.zone;return this.delegate.schedule((function(t){var n=this;r.runGuarded((function(){e.apply(n,[t])}))}),t,n)}}]),e}(),f=function(){function e(t){_classCallCheck(this,e),this.zone=t,this.task=null}return _createClass(e,[{key:"call",value:function(e,t){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)})),t.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(e).add(n)}},{key:"unscheduleTask",value:function(){var e=this;setTimeout((function(){null!=e.task&&"scheduled"===e.task.state&&(e.task.invoke(),e.task=null)}),10)}}]),e}(),d=function e(t){_classCallCheck(this,e),this.ngZone=t,this.outsideAngular=t.runOutsideAngular((function(){return new h(Zone.current)})),this.insideAngular=t.run((function(){return new h(Zone.current,i.a)}))};function p(e){return function(t){return(t=t.lift(new f(e.ngZone))).pipe(Object(a.a)(e.outsideAngular),Object(s.b)(e.insideAngular))}}var v=["ngOnDestroy"],y=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(e,{get:function(i,o){return n.runOutsideAngular((function(){var i;if(e[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,e[o]),e[o];if(v.indexOf(o)>-1)return function(){};var a=t.toPromise().then((function(e){var t=e&&e[o];return"function"==typeof t?t.bind(e):t&&t.then?t.then((function(e){return n.run((function(){return e}))})):n.run((function(){return t}))}));return new Proxy((function(){}),{get:function(e,t){return a[t]},apply:function(e,t,n){return a.then((function(e){var t,i=e&&e.apply(void 0,_toConsumableArray(n));return(null===(t=null==r?void 0:r.spy)||void 0===t?void 0:t.apply)&&r.spy.apply(o,n,i),i}))}})}))}})},g=function(e,t){t.forEach((function(t){Object.getOwnPropertyNames(t.prototype||t).forEach((function(n){Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))}))}))},m=new u.t("angularfire2.app.options"),_=new u.t("angularfire2.app.nameOrConfig"),b=new u.V("6.1.4");function C(t,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=c.a.apps.filter((function(e){return e&&e.name===i.name}))[0]||n.runOutsideAngular((function(){return c.a.initializeApp(t,i)}));try{JSON.stringify(t)!==JSON.stringify(o.options)&&k("error","".concat(o.name," Firebase App already initialized with different options").concat(e.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(a){}return o}var w=function(){k("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},k=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Object(u.cb)()&&"undefined"!=typeof console&&(t=console)[e].apply(t,r)};function E(t,n,r,i,o){var a=_toArray(globalThis.\u0275AngularfireInstanceCache.get(t)||[]),s=a[0],u=a.slice(1);if(s){try{o.some((function(e,t){var n=u[t];return e&&"object"==typeof e?JSON.stringify(e)!==JSON.stringify(n):e!==n}))&&k("error","".concat(n," was already initialized on the ").concat(r.name," Firebase App instance with different settings.").concat(e.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(l){}return s}var c=i();return globalThis.\u0275AngularfireInstanceCache.set(t,[c].concat(_toConsumableArray(o))),c}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var S={provide:function e(){_classCallCheck(this,e)},useFactory:C,deps:[m,u.E,[new u.F,_]]},O=function(){var e=function(){function e(t){_classCallCheck(this,e),c.a.registerVersion("angularfire",b.full,t.toString()),c.a.registerVersion("angular",u.U.full)}return _createClass(e,null,[{key:"initializeApp",value:function(t,n){return{ngModule:e,providers:[{provide:m,useValue:t},{provide:_,useValue:n}]}}}]),e}();return e.\u0275mod=u.Tb({type:e}),e.\u0275inj=u.Sb({factory:function(t){return new(t||e)(u.ec(u.H))},providers:[S]}),e}()}).call(this,n("3UD+")(e))},tS1D:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("D0XW"),i=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}(),o=n("l7GE"),a=n("ZUHj"),s=function(){function e(t,n,r,i){_classCallCheck(this,e),this.waitFor=t,this.absoluteTimeout=n,this.withObservable=r,this.scheduler=i}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}]),e}(),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;return _classCallCheck(this,n),(s=t.call(this,e)).absoluteTimeout=r,s.waitFor=i,s.withObservable=o,s.scheduler=a,s.action=null,s.scheduleTimeout(),s}return _createClass(n,[{key:"scheduleTimeout",value:function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(n.dispatchTimeout,this.waitFor,this))}},{key:"_next",value:function(e){this.absoluteTimeout||this.scheduleTimeout(),_get(_getPrototypeOf(n.prototype),"_next",this).call(this,e)}},{key:"_unsubscribe",value:function(){this.action=null,this.scheduler=null,this.withObservable=null}}],[{key:"dispatchTimeout",value:function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(Object(a.a)(e,t))}}]),n}(o.a),c=n("z6cu");function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a;return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.a;return function(r){var i,o=(i=e)instanceof Date&&!isNaN(+i),a=o?+e-n.now():Math.abs(e);return r.lift(new s(a,o,t,n))}}(e,Object(c.a)(new i),t)}},"tf+s":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("HDdC"),i=1,o=Promise.resolve(),a={};function s(e){return e in a&&(delete a[e],!0)}var u=function(e){var t=i++;return a[t]=!0,o.then((function(){return s(t)&&e()})),t},c=function(e){s(e)},l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=u(e.flush.bind(e,null))))}},{key:"recycleAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,e,t,r);0===e.actions.length&&(c(t),e.scheduled=void 0)}}]),n}(n("3N8a").a),h=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}(n("IjjT").a))(l),f=n("DH7j"),d=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;return _classCallCheck(this,n),(r=t.call(this)).source=e,r.delayTime=o,r.scheduler=a,i=o,(Object(f.a)(i)||!(i-parseFloat(i)+1>=0)||o<0)&&(r.delayTime=0),a&&"function"==typeof a.schedule||(r.scheduler=h),r}return _createClass(n,[{key:"_subscribe",value:function(e){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:e})}}],[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;return new n(e,t,r)}},{key:"dispatch",value:function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))}}]),n}(r.a);function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new v(e,t))}}var v=function(){function e(t,n){_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return new d(t,this.delay,this.scheduler).subscribe(e)}}]),e}()},"tk/3":function(e,t,n){"use strict";n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return B})),n.d(t,"d",(function(){return f}));var r=n("fXoL"),i=n("LRne"),o=n("HDdC"),a=n("bOdf"),s=n("pLZG"),u=n("lJxs"),c=n("ofXK"),l=function e(){_classCallCheck(this,e)},h=function e(){_classCallCheck(this,e)},f=function(){function e(t){var n=this;_classCallCheck(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach((function(e){var t=e.indexOf(":");if(t>0){var r=e.slice(0,t),i=r.toLowerCase(),o=e.slice(t+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}}))}:function(){n.headers=new Map,Object.keys(t).forEach((function(e){var r=t[e],i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(e,i))}))}:this.headers=new Map}return _createClass(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(e){return t.applyUpdate(e)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach((function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))}))}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var r=("a"===e.op?this.headers.get(t):void 0)||[];r.push.apply(r,_toConsumableArray(n)),this.headers.set(t,r);break;case"d":var i=e.value;if(i){var o=this.headers.get(t);if(!o)return;0===(o=o.filter((function(e){return-1===i.indexOf(e)}))).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return e(t.normalizedNames.get(n),t.headers.get(n))}))}}]),e}(),d=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"encodeKey",value:function(e){return p(e)}},{key:"encodeValue",value:function(e){return p(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}();function p(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var v=function(){function e(){var t,n,r,i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,e),this.updates=null,this.cloneFrom=null,this.encoder=o.encoder||new d,o.fromString){if(o.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(t=o.fromString,n=this.encoder,r=new Map,t.length>0&&t.split("&").forEach((function(e){var t=e.indexOf("="),i=_slicedToArray(-1==t?[n.decodeKey(e),""]:[n.decodeKey(e.slice(0,t)),n.decodeValue(e.slice(t+1))],2),o=i[0],a=i[1],s=r.get(o)||[];s.push(a),r.set(o,s)})),r)}else o.fromObject?(this.map=new Map,Object.keys(o.fromObject).forEach((function(e){var t=o.fromObject[e];i.map.set(e,Array.isArray(t)?t:[t])}))):this.map=null}return _createClass(e,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map((function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map((function(t){return n+"="+e.encoder.encodeValue(t)})).join("&")})).filter((function(e){return""!==e})).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([t]),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(t){return e.map.set(t,e.cloneFrom.map.get(t))})),this.updates.forEach((function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(t.value),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var r=e.map.get(t.param)||[],i=r.indexOf(t.value);-1!==i&&r.splice(i,1),r.length>0?e.map.set(t.param,r):e.map.delete(t.param)}})),this.cloneFrom=this.updates=null)}}]),e}();function y(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function g(e){return"undefined"!=typeof Blob&&e instanceof Blob}function m(e){return"undefined"!=typeof FormData&&e instanceof FormData}var _=function(){function e(t,n,r,i){var o;if(_classCallCheck(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new f),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new v,this.urlWithParams=n}return _createClass(e,[{key:"serializeBody",value:function(){return null===this.body?null:y(this.body)||g(this.body)||m(this.body)||"string"==typeof this.body?this.body:this.body instanceof v?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||m(this.body)?null:g(this.body)?this.body.type||null:y(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof v?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,u=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((function(e,n){return e.set(n,t.setHeaders[n])}),u)),t.setParams&&(c=Object.keys(t.setParams).reduce((function(e,n){return e.set(n,t.setParams[n])}),c)),new e(n,r,o,{params:c,headers:u,reportProgress:s,responseType:i,withCredentials:a})}}]),e}(),b=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}(),C=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck(this,e),this.headers=t.headers||new f,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300},w=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this,r)).type=b.ResponseHeader,e}return _createClass(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(C),k=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this,r)).type=b.Response,e.body=void 0!==r.body?r.body:null,e}return _createClass(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(C),E=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),r.error=e.error||null,r}return n}(C);function S(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var O=function(){var e=function(){function e(t){_classCallCheck(this,e),this.handler=t}return _createClass(e,[{key:"request",value:function(e,t){var n,r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e instanceof _)n=e;else{var c=void 0;c=o.headers instanceof f?o.headers:new f(o.headers);var l=void 0;o.params&&(l=o.params instanceof v?o.params:new v({fromObject:o.params})),n=new _(e,t,void 0!==o.body?o.body:null,{headers:c,params:l,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}var h=Object(i.a)(n).pipe(Object(a.a)((function(e){return r.handler.handle(e)})));if(e instanceof _||"events"===o.observe)return h;var d=h.pipe(Object(s.a)((function(e){return e instanceof k})));switch(o.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return d.pipe(Object(u.a)((function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body})));case"blob":return d.pipe(Object(u.a)((function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body})));case"text":return d.pipe(Object(u.a)((function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body})));case"json":default:return d.pipe(Object(u.a)((function(e){return e.body})))}case"response":return d;default:throw new Error("Unreachable: unhandled observe type ".concat(o.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new v).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,S(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,S(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,S(n,t))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.ec(l))},e.\u0275prov=r.Rb({token:e,factory:e.\u0275fac}),e}(),T=function(){function e(t,n){_classCallCheck(this,e),this.next=t,this.interceptor=n}return _createClass(e,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),e}(),I=new r.t("HTTP_INTERCEPTORS"),D=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Rb({token:e,factory:e.\u0275fac}),e}(),A=/^\)\]\}',?\n/,x=function e(){_classCallCheck(this,e)},P=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Rb({token:e,factory:e.\u0275fac}),e}(),N=function(){var e=function(){function e(t){_classCallCheck(this,e),this.xhrFactory=t}return _createClass(e,[{key:"handle",value:function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new o.a((function(n){var r=t.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((function(e,t){return r.setRequestHeader(e,t.join(","))})),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var i=e.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(e.responseType){var o=e.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=e.serializeBody(),s=null,u=function(){if(null!==s)return s;var t=1223===r.status?204:r.status,n=r.statusText||"OK",i=new f(r.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||e.url;return s=new w({headers:i,status:t,statusText:n,url:o})},c=function(){var t=u(),i=t.headers,o=t.status,a=t.statusText,s=t.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===e.responseType&&"string"==typeof c){var h=c;c=c.replace(A,"");try{c=""!==c?JSON.parse(c):null}catch(f){c=h,l&&(l=!1,c={error:f,text:c})}}l?(n.next(new k({body:c,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new E({error:c,headers:i,status:o,statusText:a,url:s||void 0}))},l=function(e){var t=u().url,i=new E({error:e,status:r.status||0,statusText:r.statusText||"Unknown Error",url:t||void 0});n.error(i)},h=!1,d=function(t){h||(n.next(u()),h=!0);var i={type:b.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(i.total=t.total),"text"===e.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},p=function(e){var t={type:b.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return r.addEventListener("load",c),r.addEventListener("error",l),e.reportProgress&&(r.addEventListener("progress",d),null!==a&&r.upload&&r.upload.addEventListener("progress",p)),r.send(a),n.next({type:b.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("load",c),e.reportProgress&&(r.removeEventListener("progress",d),null!==a&&r.upload&&r.upload.removeEventListener("progress",p)),r.abort()}}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.ec(x))},e.\u0275prov=r.Rb({token:e,factory:e.\u0275fac}),e}(),R=new r.t("XSRF_COOKIE_NAME"),j=new r.t("XSRF_HEADER_NAME"),F=function e(){_classCallCheck(this,e)},M=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.doc=t,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _createClass(e,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(c.w)(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.ec(c.e),r.ec(r.H),r.ec(R))},e.\u0275prov=r.Rb({token:e,factory:e.\u0275fac}),e}(),L=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.tokenService=t,this.headerName=n}return _createClass(e,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.ec(F),r.ec(j))},e.\u0275prov=r.Rb({token:e,factory:e.\u0275fac}),e}(),V=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.backend=t,this.injector=n,this.chain=null}return _createClass(e,[{key:"handle",value:function(e){if(null===this.chain){var t=this.injector.get(I,[]);this.chain=t.reduceRight((function(e,t){return new T(e,t)}),this.backend)}return this.chain.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.ec(h),r.ec(r.u))},e.\u0275prov=r.Rb({token:e,factory:e.\u0275fac}),e}(),U=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"disable",value:function(){return{ngModule:e,providers:[{provide:L,useClass:D}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.cookieName?{provide:R,useValue:t.cookieName}:[],t.headerName?{provide:j,useValue:t.headerName}:[]]}}}]),e}();return e.\u0275mod=r.Tb({type:e}),e.\u0275inj=r.Sb({factory:function(t){return new(t||e)},providers:[L,{provide:I,useExisting:L,multi:!0},{provide:F,useClass:M},{provide:R,useValue:"XSRF-TOKEN"},{provide:j,useValue:"X-XSRF-TOKEN"}]}),e}(),B=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=r.Tb({type:e}),e.\u0275inj=r.Sb({factory:function(t){return new(t||e)},providers:[O,{provide:l,useClass:V},N,{provide:h,useExisting:N},P,{provide:x,useExisting:P}],imports:[[U.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e}()},tyNb:function(e,t,n){"use strict";n.d(t,"a",(function(){return tt})),n.d(t,"b",(function(){return ce})),n.d(t,"c",(function(){return J})),n.d(t,"d",(function(){return fn})),n.d(t,"e",(function(){return dn})),n.d(t,"f",(function(){return pn})),n.d(t,"g",(function(){return Pn})),n.d(t,"h",(function(){return Cn}));var r=n("ofXK"),i=n("fXoL"),o=n("LRne"),a=n("Cfvw"),s=n("2Vo4"),u=n("HDdC"),c=n("sVev"),l=n("z+Ro"),h=n("DH7j"),f=n("l7GE"),d=n("ZUHj"),p=n("yCtX"),v={},y=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new g(e,this.resultSelector))}}]),e}(),g=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _createClass(n,[{key:"_next",value:function(e){this.values.push(v),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Object(d.a)(this,r,r,n))}}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,r,i){var o=this.values,a=this.toRespond?o[n]===v?--this.toRespond:this.toRespond:0;o[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(f.a),m=n("NXyV"),_=n("XNiG"),b=n("EY2u"),C=n("lJxs"),w=n("0EUg"),k=n("pLZG"),E=n("7o/Q"),S=n("4I5i");function O(e){return function(t){return 0===e?Object(b.b)():t.lift(new T(e))}}var T=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new S.a}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new I(e,this.total))}}]),e}(),I=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.ring=new Array,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()}}]),n}(E.a),D=n("XDbj"),A=n("xbPD"),x=n("SpAZ");function P(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Object(k.a)((function(t,n){return e(t,n,r)})):x.a,O(1),n?Object(A.a)(t):Object(D.a)((function(){return new c.a})))}}var N,R=n("JIr8"),j=n("SxV6"),F=n("5+tZ"),M=function(){function e(t,n,r){_classCallCheck(this,e),this.predicate=t,this.thisArg=n,this.source=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new L(e,this.predicate,this.thisArg,this.source))}}]),e}(),L=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e)).predicate=r,a.thisArg=i,a.source=o,a.index=0,a.thisArg=i||_assertThisInitialized(a),a}return _createClass(n,[{key:"notifyComplete",value:function(e){this.destination.next(e),this.destination.complete()}},{key:"_next",value:function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(E.a),V=n("eIep"),U=n("IzEk"),B=n("JX91"),q=n("Kqap"),H=n("bOdf"),z=n("mCNh"),W=n("vkgz"),K=n("nYR2"),G=n("bHdf"),Q=function e(t,n){_classCallCheck(this,e),this.id=t,this.url=n},Z=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(i=t.call(this,e,r)).navigationTrigger=o,i.restoredState=a,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Q),J=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(Q),Y=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).reason=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Q),X=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).error=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(Q),$=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Q),ee=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Q),te=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;return _classCallCheck(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(Q),ne=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Q),re=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Q),ie=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),oe=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),ae=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),se=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),ue=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),ce=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),le=function(){function e(t,n,r){_classCallCheck(this,e),this.routerEvent=t,this.position=n,this.anchor=r}return _createClass(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),he=((N=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||N)},N.\u0275cmp=i.Pb({type:N,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&i.Wb(0,"router-outlet")},directives:function(){return[Cn]},encapsulation:2}),N),fe=function(){function e(t){_classCallCheck(this,e),this.params=t||{}}return _createClass(e,[{key:"has",value:function(e){return this.params.hasOwnProperty(e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function de(e){return new fe(e)}function pe(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function ve(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=e[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}var ye=function e(t,n){_classCallCheck(this,e),this.routes=t,this.module=n};function ge(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n];me(r,_e(t,r))}}function me(e,t){if(!e)throw new Error("\n      Invalid configuration of route '".concat(t,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(e))throw new Error("Invalid configuration of route '".concat(t,"': Array cannot be specified"));if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error("Invalid configuration of route '".concat(t,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and children cannot be used together"));if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and loadChildren cannot be used together"));if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': children and loadChildren cannot be used together"));if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and component cannot be used together"));if(e.path&&e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': path and matcher cannot be used together"));if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': routes must have either a path or a matcher specified"));if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '".concat(t,"': path cannot start with a slash"));if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(t,'", redirectTo: "').concat(e.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '".concat(t,"': pathMatch can only be set to 'prefix' or 'full'"));e.children&&ge(e.children,t)}function _e(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function be(e){var t=e.children&&e.children.map(be),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=he),n}function Ce(e,t){var n,r=Object.keys(e),i=Object.keys(t);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!we(e[n=r[o]],t[n]))return!1;return!0}function we(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length==t.length&&e.every((function(e){return t.indexOf(e)>-1})):e===t}function ke(e){return Array.prototype.concat.apply([],e)}function Ee(e){return e.length>0?e[e.length-1]:null}function Se(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Oe(e){return Object(i.yb)(e)?e:Object(i.zb)(e)?Object(a.a)(Promise.resolve(e)):Object(o.a)(e)}function Te(e,t,n){return n?function(e,t){return Ce(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!xe(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every((function(n){return we(e[n],t[n])}))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,i){if(n.segments.length>i.length)return!!xe(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!xe(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!e(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!xe(n.segments,a)&&!!n.children.primary&&t(n.children.primary,r,s)}(t,n,n.segments)}(e.root,t.root)}var Ie=function(){function e(t,n,r){_classCallCheck(this,e),this.root=t,this.queryParams=n,this.fragment=r}return _createClass(e,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=de(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return je.serialize(this)}}]),e}(),De=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.segments=t,this.children=n,this.parent=null,Se(n,(function(e,t){return e.parent=r}))}return _createClass(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return Fe(this)}}]),e}(),Ae=function(){function e(t,n){_classCallCheck(this,e),this.path=t,this.parameters=n}return _createClass(e,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=de(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return qe(this)}}]),e}();function xe(e,t){return e.length===t.length&&e.every((function(e,n){return e.path===t[n].path}))}function Pe(e,t){var n=[];return Se(e.children,(function(e,r){"primary"===r&&(n=n.concat(t(e,r)))})),Se(e.children,(function(e,r){"primary"!==r&&(n=n.concat(t(e,r)))})),n}var Ne=function e(){_classCallCheck(this,e)},Re=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parse",value:function(e){var t=new Ge(e);return new Ie(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){return"".concat("/"+function e(t,n){if(!t.hasChildren())return Fe(t);if(n){var r=t.children.primary?e(t.children.primary,!1):"",i=[];return Se(t.children,(function(t,n){"primary"!==n&&i.push("".concat(n,":").concat(e(t,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=Pe(t,(function(n,r){return"primary"===r?[e(t.children.primary,!1)]:["".concat(r,":").concat(e(n,!1))]}));return"".concat(Fe(t),"/(").concat(o.join("//"),")")}(e.root,!0)).concat((t=e.queryParams,n=Object.keys(t).map((function(e){var n=t[e];return Array.isArray(n)?n.map((function(t){return"".concat(Le(e),"=").concat(Le(t))})).join("&"):"".concat(Le(e),"=").concat(Le(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof e.fragment?"#"+encodeURI(e.fragment):"");var t,n}}]),e}(),je=new Re;function Fe(e){return e.segments.map((function(e){return qe(e)})).join("/")}function Me(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Le(e){return Me(e).replace(/%3B/gi,";")}function Ve(e){return Me(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ue(e){return decodeURIComponent(e)}function Be(e){return Ue(e.replace(/\+/g,"%20"))}function qe(e){return"".concat(Ve(e.path)).concat((t=e.parameters,Object.keys(t).map((function(e){return";".concat(Ve(e),"=").concat(Ve(t[e]))})).join("")));var t}var He=/^[^\/()?;=#]+/;function ze(e){var t=e.match(He);return t?t[0]:""}var We=/^[^=?&#]+/,Ke=/^[^?&#]+/,Ge=function(){function e(t){_classCallCheck(this,e),this.url=t,this.remaining=t}return _createClass(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new De(e,t)),n}},{key:"parseSegment",value:function(){var e=ze(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new Ae(Ue(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=ze(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=ze(this.remaining);r&&(n=r,this.capture(n))}e[Ue(t)]=Ue(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(We);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(Ke);return t?t[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=Be(t),o=Be(n);if(e.hasOwnProperty(i)){var a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(o)}else e[i]=o}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=ze(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i="primary");var o=this.parseChildren();t[i]=1===Object.keys(o).length?o.primary:new De([],o),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),Qe=function(){function e(t){_classCallCheck(this,e),this._root=t}return _createClass(e,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=Ze(e,this._root);return t?t.children.map((function(e){return e.value})):[]}},{key:"firstChild",value:function(e){var t=Ze(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=Je(e,this._root);return t.length<2?[]:t[t.length-2].children.map((function(e){return e.value})).filter((function(t){return t!==e}))}},{key:"pathFromRoot",value:function(e){return Je(e,this._root).map((function(e){return e.value}))}}]),e}();function Ze(e,t){if(e===t.value)return t;var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=Ze(e,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function Je(e,t){if(e===t.value)return[t];var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=Je(e,n.value);if(i.length)return i.unshift(t),i}}catch(o){r.e(o)}finally{r.f()}return[]}var Ye=function(){function e(t,n){_classCallCheck(this,e),this.value=t,this.children=n}return _createClass(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function Xe(e){var t={};return e&&e.children.forEach((function(e){return t[e.value.outlet]=e})),t}var $e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).snapshot=r,ot(_assertThisInitialized(i),e),i}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Qe);function et(e,t){var n=function(e,t){var n=new rt([],{},{},"",{},"primary",t,null,e.root,-1,{});return new it("",new Ye(n,[]))}(e,t),r=new s.a([new Ae("",{})]),i=new s.a({}),o=new s.a({}),a=new s.a({}),u=new s.a(""),c=new tt(r,i,a,u,o,"primary",t,n.root);return c.snapshot=n.root,new $e(new Ye(c,[]),n)}var tt=function(){function e(t,n,r,i,o,a,s,u){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return _createClass(e,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(C.a)((function(e){return de(e)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(C.a)((function(e){return de(e)})))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),e}();function nt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(e){return e.reduce((function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var rt=function(){function e(t,n,r,i,o,a,s,u,c,l,h){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return _createClass(e,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=de(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=de(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(e){return e.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),e}(),it=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,r)).url=e,ot(_assertThisInitialized(i),r),i}return _createClass(n,[{key:"toString",value:function(){return at(this._root)}}]),n}(Qe);function ot(e,t){t.value._routerState=e,t.children.forEach((function(t){return ot(e,t)}))}function at(e){var t=e.children.length>0?" { ".concat(e.children.map(at).join(", ")," } "):"";return"".concat(e.value).concat(t)}function st(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Ce(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Ce(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Ce(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Ce(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function ut(e,t){var n,r;return Ce(e.params,t.params)&&xe(n=e.url,r=t.url)&&n.every((function(e,t){return Ce(e.parameters,r[t].parameters)}))&&!(!e.parent!=!t.parent)&&(!e.parent||ut(e.parent,t.parent))}function ct(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function lt(e,t,n,r,i){var o={};return r&&Se(r,(function(e,t){o[t]=Array.isArray(e)?e.map((function(e){return""+e})):""+e})),new Ie(n.root===e?t:function e(t,n,r){var i={};return Se(t.children,(function(t,o){i[o]=t===n?r:e(t,n,r)})),new De(t.segments,i)}(n.root,e,t),o,i)}var ht=function(){function e(t,n,r){if(_classCallCheck(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&ct(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(e){return"object"==typeof e&&null!=e&&e.outlets}));if(i&&i!==Ee(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),ft=function e(t,n,r){_classCallCheck(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r};function dt(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:""+e}function pt(e,t,n){if(e||(e=new De([],{})),0===e.segments.length&&e.hasChildren())return vt(e,t,n);var r=function(e,t,n){for(var r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return o;var a=e.segments[i],s=dt(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!_t(s,u,a))return o;r+=2}else{if(!_t(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var o=new De(e.segments.slice(0,r.pathIndex),{});return o.children.primary=new De(e.segments.slice(r.pathIndex),e.children),vt(o,0,i)}return r.match&&0===i.length?new De(e.segments,{}):r.match&&!e.hasChildren()?yt(e,t,n):r.match?vt(e,0,i):yt(e,t,n)}function vt(e,t,n){if(0===n.length)return new De(e.segments,{});var r=function(e){return"object"!=typeof e[0]||void 0===e[0].outlets?{primary:e}:e[0].outlets}(n),i={};return Se(r,(function(n,r){null!==n&&(i[r]=pt(e.children[r],t,n))})),Se(e.children,(function(e,t){void 0===r[t]&&(i[t]=e)})),new De(e.segments,i)}function yt(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=gt(n[i].outlets);return new De(r,o)}if(0===i&&ct(n[0]))r.push(new Ae(e.segments[t].path,n[0])),i++;else{var a=dt(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&ct(s)?(r.push(new Ae(a,mt(s))),i+=2):(r.push(new Ae(a,{})),i++)}}return new De(r,{})}function gt(e){var t={};return Se(e,(function(e,n){null!==e&&(t[n]=yt(new De([],{}),0,e))})),t}function mt(e){var t={};return Se(e,(function(e,n){return t[n]=""+e})),t}function _t(e,t,n){return e==n.path&&Ce(t,n.parameters)}var bt=function(){function e(t,n,r,i){_classCallCheck(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),st(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=Xe(t);e.children.forEach((function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]})),Se(i,(function(e,t){r.deactivateRouteAndItsChildren(e,n)}))}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){var n=this,r=t.getContext(e.value.outlet);if(r){var i=Xe(e),o=e.value.component?r.children:t;Se(i,(function(e,t){return n.deactivateRouteAndItsChildren(e,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=Xe(t);e.children.forEach((function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new ce(e.value.snapshot))})),e.children.length&&this.forwardEvent(new se(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(st(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),Ct(s.route)}else{var u=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function Ct(e){st(e.value),e.children.forEach(Ct)}function wt(e){return"function"==typeof e}function kt(e){return e instanceof Ie}var Et=function e(t){_classCallCheck(this,e),this.segmentGroup=t||null},St=function e(t){_classCallCheck(this,e),this.urlTree=t};function Ot(e){return new u.a((function(t){return t.error(new Et(e))}))}function Tt(e){return new u.a((function(t){return t.error(new St(e))}))}function It(e){return new u.a((function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))}))}var Dt=function(){function e(t,n,r,o,a){_classCallCheck(this,e),this.configLoader=n,this.urlSerializer=r,this.urlTree=o,this.config=a,this.allowRedirects=!0,this.ngModule=t.get(i.C)}return _createClass(e,[{key:"apply",value:function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(C.a)((function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)}))).pipe(Object(R.a)((function(t){if(t instanceof St)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof Et)throw e.noMatchError(t);throw t})))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(Object(C.a)((function(n){return t.createUrlTree(n,e.queryParams,e.fragment)}))).pipe(Object(R.a)((function(e){if(e instanceof Et)throw t.noMatchError(e);throw e})))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var r=e.segments.length>0?new De([],{primary:e}):e;return new Ie(r,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(Object(C.a)((function(e){return new De([],e)}))):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Object(o.a)({});var a=[],s=[],u={};return Se(n,(function(n,i){var o,c,l=(o=i,c=n,r.expandSegmentGroup(e,t,c,o)).pipe(Object(C.a)((function(e){return u[i]=e})));"primary"===i?a.push(l):s.push(l)})),o.a.apply(null,a.concat(s)).pipe(Object(w.a)(),P(),Object(C.a)((function(){return u})))}(n.children)}},{key:"expandSegment",value:function(e,t,n,r,i,a){var s=this;return Object(o.a).apply(void 0,_toConsumableArray(n)).pipe(Object(C.a)((function(u){return s.expandSegmentAgainstRoute(e,t,n,u,r,i,a).pipe(Object(R.a)((function(e){if(e instanceof Et)return Object(o.a)(null);throw e})))})),Object(w.a)(),Object(j.a)((function(e){return!!e})),Object(R.a)((function(e,n){if(e instanceof c.a||"EmptyError"===e.name){if(s.noLeftoversInUrl(t,r,i))return Object(o.a)(new De([],{}));throw new Et(t)}throw e})))}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,o,a){return Nt(r)!==o?Ot(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):Ot(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Tt(o):this.lineralizeSegments(n,o).pipe(Object(F.a)((function(n){var o=new De(n,{});return i.expandSegment(e,o,t,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){var a=this,s=At(t,r,i),u=s.matched,c=s.consumedSegments,l=s.lastChild,h=s.positionalParamSegments;if(!u)return Ot(t);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?Tt(f):this.lineralizeSegments(r,f).pipe(Object(F.a)((function(r){return a.expandSegment(e,t,n,r.concat(i.slice(l)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(Object(C.a)((function(e){return n._loadedConfig=e,new De(r,{})}))):Object(o.a)(new De(r,{}));var a=At(t,n,r),s=a.matched,u=a.consumedSegments,c=a.lastChild;if(!s)return Ot(t);var l=r.slice(c);return this.getChildConfig(e,n,r).pipe(Object(F.a)((function(e){var n=e.module,r=e.routes,a=function(e,t,n,r){return n.length>0&&function(e,t,n){return n.some((function(n){return Pt(e,t,n)&&"primary"!==Nt(n)}))}(e,n,r)?{segmentGroup:xt(new De(t,function(e,t){var n={};n.primary=t;var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&"primary"!==Nt(o)&&(n[Nt(o)]=new De([],{}))}}catch(a){i.e(a)}finally{i.f()}return n}(r,new De(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some((function(n){return Pt(e,t,n)}))}(e,n,r)?{segmentGroup:xt(new De(e.segments,function(e,t,n,r){var i,o={},a=_createForOfIteratorHelper(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;Pt(e,t,s)&&!r[Nt(s)]&&(o[Nt(s)]=new De([],{}))}}catch(u){a.e(u)}finally{a.f()}return Object.assign(Object.assign({},r),o)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,u,l,r),s=a.segmentGroup,c=a.slicedSegments;return 0===c.length&&s.hasChildren()?i.expandChildren(n,r,s).pipe(Object(C.a)((function(e){return new De(u,e)}))):0===r.length&&0===c.length?Object(o.a)(new De(u,{})):i.expandSegment(n,s,r,c,"primary",!0).pipe(Object(C.a)((function(e){return new De(u.concat(e.segments),e.children)})))})))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?Object(o.a)(new ye(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Object(o.a)(t._loadedConfig):function(e,t,n){var r,i=t.canLoad;return i&&0!==i.length?Object(a.a)(i).pipe(Object(C.a)((function(r){var i,o=e.get(r);if(function(e){return e&&wt(e.canLoad)}(o))i=o.canLoad(t,n);else{if(!wt(o))throw new Error("Invalid CanLoad guard");i=o(t,n)}return Oe(i)}))).pipe(Object(w.a)(),(r=function(e){return!0===e},function(e){return e.lift(new M(r,void 0,e))})):Object(o.a)(!0)}(e.injector,t,n).pipe(Object(F.a)((function(n){return n?r.configLoader.load(e.injector,t).pipe(Object(C.a)((function(e){return t._loadedConfig=e,e}))):function(e){return new u.a((function(t){return t.error(pe("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))}))}(t)}))):Object(o.a)(new ye([],e))}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(o.a)(n);if(r.numberOfChildren>1||!r.children.primary)return It(e.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new Ie(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return Se(e,(function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e})),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var i=this,o=this.createSegments(e,t.segments,n,r),a={};return Se(t.children,(function(t,o){a[o]=i.createSegmentGroup(e,t,n,r)})),new De(o,a)}},{key:"createSegments",value:function(e,t,n,r){var i=this;return t.map((function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)}))}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var n,r=0,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===e.path)return t.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return e}}]),e}();function At(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(t.matcher||ve)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function xt(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new De(e.segments.concat(t.segments),t.children)}return e}function Pt(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Nt(e){return e.outlet||"primary"}var Rt=function e(t){_classCallCheck(this,e),this.path=t,this.route=this.path[this.path.length-1]},jt=function e(t,n){_classCallCheck(this,e),this.component=t,this.route=n};function Ft(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Mt(e,t,n){var r=Xe(e),i=e.value;Se(r,(function(e,r){Mt(e,i.component?t?t.children.getContext(r):null:t,n)})),n.canDeactivateChecks.push(new jt(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}var Lt=Symbol("INITIAL_VALUE");function Vt(){return Object(V.a)((function(e){return(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=null,i=null;return Object(l.a)(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&Object(h.a)(t[0])&&(t=t[0]),Object(p.a)(t,i).lift(new y(r))}).apply(void 0,_toConsumableArray(e.map((function(e){return e.pipe(Object(U.a)(1),Object(B.a)(Lt))})))).pipe(Object(q.a)((function(e,t){var n=!1;return t.reduce((function(e,r,i){if(e!==Lt)return e;if(r===Lt&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||kt(r))return r}return e}),e)}),Lt),Object(k.a)((function(e){return e!==Lt})),Object(C.a)((function(e){return kt(e)?e:!0===e})),Object(U.a)(1))}))}function Ut(e,t){return null!==e&&t&&t(new ue(e)),Object(o.a)(!0)}function Bt(e,t){return null!==e&&t&&t(new ae(e)),Object(o.a)(!0)}function qt(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Object(o.a)(!0);var i=r.map((function(r){return Object(m.a)((function(){var i,o=Ft(r,t,n);if(function(e){return e&&wt(e.canActivate)}(o))i=Oe(o.canActivate(t,e));else{if(!wt(o))throw new Error("Invalid CanActivate guard");i=Oe(o(t,e))}return i.pipe(Object(j.a)())}))}));return Object(o.a)(i).pipe(Vt())}function Ht(e,t,n){var r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map((function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)})).filter((function(e){return null!==e})).map((function(t){return Object(m.a)((function(){var i=t.guards.map((function(i){var o,a=Ft(i,t.node,n);if(function(e){return e&&wt(e.canActivateChild)}(a))o=Oe(a.canActivateChild(r,e));else{if(!wt(a))throw new Error("Invalid CanActivateChild guard");o=Oe(a(r,e))}return o.pipe(Object(j.a)())}));return Object(o.a)(i).pipe(Vt())}))}));return Object(o.a)(i).pipe(Vt())}var zt=function e(){_classCallCheck(this,e)},Wt=function(){function e(t,n,r,i,o,a){_classCallCheck(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return _createClass(e,[{key:"recognize",value:function(){try{var e=Qt(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new rt([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ye(n,t),i=new it(this.url,r);return this.inheritParamsAndData(i._root),Object(o.a)(i)}catch(a){return new u.a((function(e){return e.error(a)}))}}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=nt(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach((function(e){return t.inheritParamsAndData(e)}))}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){var n,r=this,i=Pe(t,(function(t,n){return r.processSegmentGroup(e,t,n)}));return n={},i.forEach((function(e){var t=n[e.value.outlet];if(t){var r=t.url.map((function(e){return e.toString()})).join("/"),i=e.value.url.map((function(e){return e.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[e.value.outlet]=e.value})),i.sort((function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)})),i}},{key:"processSegment",value:function(e,t,n,r){var i,o=_createForOfIteratorHelper(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;try{return this.processSegmentAgainstRoute(a,t,n,r)}catch(s){if(!(s instanceof zt))throw s}}}catch(u){o.e(u)}finally{o.f()}if(this.noLeftoversInUrl(t,n,r))return[];throw new zt}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo)throw new zt;if((e.outlet||"primary")!==r)throw new zt;var i,o=[],a=[];if("**"===e.path){var s=n.length>0?Ee(n).parameters:{};i=new rt(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Yt(e),r,e.component,e,Kt(t),Gt(t)+n.length,Xt(e))}else{var u=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new zt;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(t.matcher||ve)(n,e,t);if(!r)throw new zt;var i={};Se(r.posParams,(function(e,t){i[t]=e.path}));var o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(t,e,n);o=u.consumedSegments,a=n.slice(u.lastChild),i=new rt(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Yt(e),r,e.component,e,Kt(t),Gt(t)+o.length,Xt(e))}var c=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),l=Qt(t,o,a,c,this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return[new Ye(i,d)]}if(0===c.length&&0===f.length)return[new Ye(i,[])];var p=this.processSegment(c,h,f,"primary");return[new Ye(i,p)]}}]),e}();function Kt(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function Gt(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Qt(e,t,n,r,i){if(n.length>0&&function(e,t,n){return n.some((function(n){return Zt(e,t,n)&&"primary"!==Jt(n)}))}(e,n,r)){var o=new De(t,function(e,t,n,r){var i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;var o,a=_createForOfIteratorHelper(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&"primary"!==Jt(s)){var u=new De([],{});u._sourceSegment=e,u._segmentIndexShift=t.length,i[Jt(s)]=u}}}catch(c){a.e(c)}finally{a.f()}return i}(e,t,r,new De(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some((function(n){return Zt(e,t,n)}))}(e,n,r)){var a=new De(e.segments,function(e,t,n,r,i,o){var a,s={},u=_createForOfIteratorHelper(r);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(Zt(e,n,c)&&!i[Jt(c)]){var l=new De([],{});l._sourceSegment=e,l._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[Jt(c)]=l}}}catch(h){u.e(h)}finally{u.f()}return Object.assign(Object.assign({},i),s)}(e,t,n,r,e.children,i));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}var s=new De(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function Zt(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Jt(e){return e.outlet||"primary"}function Yt(e){return e.data||{}}function Xt(e){return e.resolve||{}}function $t(e,t,n,r){var i=Ft(e,t,r);return Oe(i.resolve?i.resolve(t,n):i(t,n))}function en(e){return function(t){return t.pipe(Object(V.a)((function(t){var n=e(t);return n?Object(a.a)(n).pipe(Object(C.a)((function(){return t}))):Object(a.a)([t])})))}}var tn=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}(),nn=new i.t("ROUTES"),rn=function(){function e(t,n,r,i){_classCallCheck(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(e,[{key:"load",value:function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(Object(C.a)((function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var i=r.create(e);return new ye(ke(i.injector.get(nn)).map(be),i)})))}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?Object(a.a)(this.loader.load(e)):Oe(e()).pipe(Object(F.a)((function(e){return e instanceof i.A?Object(o.a)(e):Object(a.a)(t.compiler.compileModuleAsync(e))})))}}]),e}(),on=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function an(e){throw e}function sn(e,t,n){return t.parse("/")}function un(e,t){return Object(o.a)(null)}var cn,ln,hn,fn=((hn=function(){function e(t,n,r,o,a,u,c,l){var h=this;_classCallCheck(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=r,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new _.a,this.errorHandler=an,this.malformedUriErrorHandler=sn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:un,afterPreactivation:un},this.urlHandlingStrategy=new on,this.routeReuseStrategy=new tn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=a.get(i.C),this.console=a.get(i.fb);var f=a.get(i.E);this.isNgZoneEnabled=f instanceof i.E,this.resetConfig(l),this.currentUrlTree=new Ie(new De([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new rn(u,c,(function(e){return h.triggerEvent(new ie(e))}),(function(e){return h.triggerEvent(new oe(e))})),this.routerState=et(this.currentUrlTree,this.rootComponentType),this.transitions=new s.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(Object(k.a)((function(e){return 0!==e.id})),Object(C.a)((function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})})),Object(V.a)((function(e){var r,i,u,c=!1,l=!1;return Object(o.a)(e).pipe(Object(W.a)((function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}})),Object(V.a)((function(e){var r,i,a,s,u=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||u)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Object(o.a)(e).pipe(Object(V.a)((function(e){var r=t.transitions.getValue();return n.next(new Z(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?b.a:[e]})),Object(V.a)((function(e){return Promise.resolve(e)})),(r=t.ngModule.injector,i=t.configLoader,a=t.urlSerializer,s=t.config,function(e){return e.pipe(Object(V.a)((function(e){return function(e,t,n,r,i){return new Dt(e,t,n,r,i).apply()}(r,i,a,e.extractedUrl,s).pipe(Object(C.a)((function(t){return Object.assign(Object.assign({},e),{urlAfterRedirects:t})})))})))}),Object(W.a)((function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})})),function(e,n,r,i,o){return function(r){return r.pipe(Object(F.a)((function(r){return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new Wt(e,t,n,r,i,o).recognize()}(e,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,t.serializeUrl(a)),i,o).pipe(Object(C.a)((function(e){return Object.assign(Object.assign({},r),{targetSnapshot:e})})));var a})))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),Object(W.a)((function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),Object(W.a)((function(e){var r=new $(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)})));if(u&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var c=e.id,l=e.extractedUrl,h=e.source,f=e.restoredState,d=e.extras,p=new Z(c,t.serializeUrl(l),h,f);n.next(p);var v=et(l,t.rootComponentType).snapshot;return Object(o.a)(Object.assign(Object.assign({},e),{targetSnapshot:v,urlAfterRedirects:l,extras:Object.assign(Object.assign({},d),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),b.a})),en((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,u=a.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Object(W.a)((function(e){var n=new ee(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),Object(C.a)((function(e){return Object.assign(Object.assign({},e),{guards:(n=e.targetSnapshot,r=e.currentSnapshot,i=t.rootContexts,o=n._root,function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=Xe(n);return t.children.forEach((function(t){!function(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=t.value,s=n?n.value:null,u=r?r.getContext(t.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var c=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!xe(e.url,t.url);case"pathParamsOrQueryParamsChange":return!xe(e.url,t.url)||!Ce(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ut(e,t)||!Ce(e.queryParams,t.queryParams);case"paramsChange":default:return!ut(e,t)}}(s,a,a.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Rt(i)):(a.data=s.data,a._resolvedData=s._resolvedData),e(t,n,a.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new jt(u&&u.outlet&&u.outlet.component||null,s))}else s&&Mt(n,u,o),o.canActivateChecks.push(new Rt(i)),e(t,null,a.component?u?u.children:null:r,i,o)}(t,a[t.value.outlet],r,i.concat([t.value]),o),delete a[t.value.outlet]})),Se(a,(function(e,t){return Mt(e,r.getContext(t),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(e,t){return function(n){return n.pipe(Object(F.a)((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,s=n.guards,u=s.canActivateChecks,c=s.canDeactivateChecks;return 0===c.length&&0===u.length?Object(o.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return Object(a.a)(e).pipe(Object(F.a)((function(e){return function(e,t,n,r,i){var a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!a||0===a.length)return Object(o.a)(!0);var s=a.map((function(o){var a,s=Ft(o,t,i);if(function(e){return e&&wt(e.canDeactivate)}(s))a=Oe(s.canDeactivate(e,t,n,r));else{if(!wt(s))throw new Error("Invalid CanDeactivate guard");a=Oe(s(e,t,n,r))}return a.pipe(Object(j.a)())}));return Object(o.a)(s).pipe(Vt())}(e.component,e.route,n,t,r)})),Object(j.a)((function(e){return!0!==e}),!0))}(c,r,i,e).pipe(Object(F.a)((function(n){return n&&"boolean"==typeof n?function(e,t,n,r){return Object(a.a)(t).pipe(Object(H.a)((function(t){return Object(a.a)([Bt(t.route.parent,r),Ut(t.route,r),Ht(e,t.path,n),qt(e,t.route,n)]).pipe(Object(w.a)(),Object(j.a)((function(e){return!0!==e}),!0))})),Object(j.a)((function(e){return!0!==e}),!0))}(r,u,e,t):Object(o.a)(n)})),Object(C.a)((function(e){return Object.assign(Object.assign({},n),{guardsResult:e})})))})))}}(t.ngModule.injector,(function(e){return t.triggerEvent(e)})),Object(W.a)((function(e){if(kt(e.guardsResult)){var n=pe('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}})),Object(W.a)((function(e){var n=new te(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(n)})),Object(k.a)((function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var r=new Y(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(r),e.resolve(!1),!1}return!0})),en((function(e){if(e.guards.canActivateChecks.length)return Object(o.a)(e).pipe(Object(W.a)((function(e){var n=new ne(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),(n=t.paramsInheritanceStrategy,r=t.ngModule.injector,function(e){return e.pipe(Object(F.a)((function(e){var t=e.targetSnapshot,i=e.guards.canActivateChecks;return i.length?Object(a.a)(i).pipe(Object(H.a)((function(e){return function(e,t,n,r){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return Object(o.a)({});if(1===i.length){var s=i[0];return $t(e[s],t,n,r).pipe(Object(C.a)((function(e){return _defineProperty({},s,e)})))}var u={};return Object(a.a)(i).pipe(Object(F.a)((function(i){return $t(e[i],t,n,r).pipe(Object(C.a)((function(e){return u[i]=e,e})))}))).pipe(P(),Object(C.a)((function(){return u})))}(e._resolve,e,t,r).pipe(Object(C.a)((function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),nt(e,n).resolve),null})))}(e.route,t,n,r)})),function(e,t){return arguments.length>=2?function(n){return Object(z.a)(Object(q.a)(e,t),O(1),Object(A.a)(t))(n)}:function(t){return Object(z.a)(Object(q.a)((function(t,n,r){return e(t,n,r+1)})),O(1))(t)}}((function(e,t){return e})),Object(C.a)((function(t){return e}))):Object(o.a)(e)})))}),Object(W.a)((function(e){var n=new re(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})));var n,r})),en((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,u=a.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Object(C.a)((function(e){var n=function(e,t,n){var r=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(t,n,r){return n.children.map((function(n){var i,o=_createForOfIteratorHelper(r.children);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(t.shouldReuseRoute(a.value.snapshot,n.value))return e(t,n,a)}}catch(s){o.e(s)}finally{o.f()}return e(t,n)}))}(t,n,r);return new Ye(i,o)}var a=t.retrieve(n.value);if(a){var u=a.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,u),u}var c,l=new tt(new s.a((c=n.value).url),new s.a(c.params),new s.a(c.queryParams),new s.a(c.fragment),new s.a(c.data),c.outlet,c.component,c),h=n.children.map((function(n){return e(t,n)}));return new Ye(l,h)}(e,t._root,n?n._root:void 0);return new $e(r,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:n})})),Object(W.a)((function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),(r=t.rootContexts,i=t.routeReuseStrategy,u=function(e){return t.triggerEvent(e)},Object(C.a)((function(e){return new bt(i,e.targetRouterState,e.currentRouterState,u).activate(r),e}))),Object(W.a)({next:function(){c=!0},complete:function(){c=!0}}),Object(K.a)((function(){if(!c&&!l){t.resetUrlToCurrentUrlTree();var r=new Y(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(r),e.resolve(!1)}t.currentNavigation=null})),Object(R.a)((function(r){if(l=!0,(s=r)&&s.ngNavigationCancelingError){var i=kt(r.url);i||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var o=new Y(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(o),i?setTimeout((function(){var n=t.urlHandlingStrategy.merge(r.url,t.rawUrlTree);return t.scheduleNavigation(n,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})}),0):e.resolve(!1)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var a=new X(e.id,t.serializeUrl(e.extractedUrl),r);n.next(a);try{e.resolve(t.errorHandler(r))}catch(u){e.reject(u)}}var s;return b.a})))})))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(t){var n=e.parseUrl(t.url),r="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout((function(){e.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){ge(e),this.config=e.map(be),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,r=t.queryParams,o=t.fragment,a=t.preserveQueryParams,s=t.queryParamsHandling,u=t.preserveFragment;Object(i.cb)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o,h=null;if(s)switch(s){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=r||null}else h=a?this.currentUrlTree.queryParams:r||null;return null!==h&&(h=this.removeEmptyProps(h)),function(e,t,n,r,i){if(0===n.length)return lt(t.root,t.root,t,r,i);var o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new ht(!0,0,e);var t=0,n=!1,r=e.reduce((function(e,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return Se(r.outlets,(function(e,t){o[t]="string"==typeof e?e.split("/"):e})),[].concat(_toConsumableArray(e),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(e),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(e),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))})),e):[].concat(_toConsumableArray(e),[r])}),[]);return new ht(n,t,r)}(n);if(o.toRoot())return lt(t.root,new De([],{}),t,r,i);var a=function(e,t,n){if(e.isAbsolute)return new ft(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new ft(n.snapshot._urlSegment,!0,0);var r=ct(e.commands[0])?0:1;return function(e,t,n){for(var r=e,i=t,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new ft(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),s=a.processChildren?vt(a.segmentGroup,a.index,o.commands):pt(a.segmentGroup,a.index,o.commands);return lt(a.segmentGroup,s,t,r,i)}(c,this.currentUrlTree,e,h,l)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Object(i.cb)()&&this.isNgZoneEnabled&&!i.E.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=kt(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(kt(e))return Te(this.currentUrlTree,e,t);var n=this.parseUrl(e);return Te(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return null!=r&&(t[n]=r),t}),{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe((function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new J(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)}),(function(t){e.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(e,t,n,r,i){var o,a,s,u=this.getTransition();if(u&&"imperative"!==t&&"imperative"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(u&&"hashchange"==t&&"popstate"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(u&&"popstate"==t&&"hashchange"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise((function(e,t){o=e,a=t}));var c=++this.navigationId;return this.setTransition({id:c,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(e){return Promise.reject(e)}))}},{key:"setBrowserUrl",value:function(e,t,n,r){var i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),e}()).\u0275fac=function(e){i.hc()},hn.\u0275dir=i.Qb({type:hn}),hn),dn=((ln=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.router=t,this.route=n,this.commands=[],null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return _createClass(e,[{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Object(i.cb)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}},{key:"onClick",value:function(){var e={skipLocationChange:vn(this.skipLocationChange),replaceUrl:vn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:vn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:vn(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||ln)(i.Vb(fn),i.Vb(tt),i.fc("tabindex"),i.Vb(i.K),i.Vb(i.o))},ln.\u0275dir=i.Qb({type:ln,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&i.ic("click",(function(){return t.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),ln),pn=((cn=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.router=t,this.route=n,this.locationStrategy=r,this.commands=[],this.subscription=t.events.subscribe((function(e){e instanceof J&&i.updateTargetUrlAndHref()}))}return _createClass(e,[{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Object(i.cb)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}},{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:vn(this.skipLocationChange),replaceUrl:vn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:vn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:vn(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||cn)(i.Vb(fn),i.Vb(tt),i.Vb(r.k))},cn.\u0275dir=i.Qb({type:cn,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&i.ic("click",(function(e){return t.onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)})),2&e&&(i.dc("href",t.href,i.yc),i.Kb("target",t.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[i.Hb]}),cn);function vn(e){return""===e||!!e}var yn,gn,mn,_n=function e(){_classCallCheck(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new bn,this.attachRef=null},bn=function(){function e(){_classCallCheck(this,e),this.contexts=new Map}return _createClass(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new _n,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),Cn=((yn=function(){function e(t,n,r,o,a){_classCallCheck(this,e),this.parentContexts=t,this.location=n,this.resolver=r,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.q,this.deactivateEvents=new i.q,this.name=o||"primary",t.onChildOutletCreated(this.name,this)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new wn(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),e}()).\u0275fac=function(e){return new(e||yn)(i.Vb(bn),i.Vb(i.W),i.Vb(i.l),i.fc("name"),i.Vb(i.i))},yn.\u0275dir=i.Qb({type:yn,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),yn),wn=function(){function e(t,n,r){_classCallCheck(this,e),this.route=t,this.childContexts=n,this.parent=r}return _createClass(e,[{key:"get",value:function(e,t){return e===tt?this.route:e===bn?this.childContexts:this.parent.get(e,t)}}]),e}(),kn=function e(){_classCallCheck(this,e)},En=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return Object(o.a)(null)}}]),e}(),Sn=((mn=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new rn(n,r,(function(e){return t.triggerEvent(new ie(e))}),(function(e){return t.triggerEvent(new oe(e))}))}return _createClass(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(Object(k.a)((function(e){return e instanceof J})),Object(H.a)((function(){return e.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var e=this.injector.get(i.C);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,r=[],i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var s=o._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children))}}catch(u){i.e(u)}finally{i.f()}return Object(a.a)(r).pipe(Object(G.a)(),Object(C.a)((function(e){})))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,(function(){return n.loader.load(e.injector,t).pipe(Object(F.a)((function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)})))}))}}]),e}()).\u0275fac=function(e){return new(e||mn)(i.ec(fn),i.ec(i.B),i.ec(i.j),i.ec(i.u),i.ec(kn))},mn.\u0275prov=i.Rb({token:mn,factory:mn.\u0275fac}),mn),On=((gn=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof Z?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof J&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof le&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new le(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){i.hc()},gn.\u0275dir=i.Qb({type:gn}),gn),Tn=new i.t("ROUTER_CONFIGURATION"),In=new i.t("ROUTER_FORROOT_GUARD"),Dn=[r.j,{provide:Ne,useClass:Re},{provide:fn,useFactory:function(e,t,n,i,o,a,s){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,h=new fn(null,e,t,n,i,o,a,ke(s));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var f=Object(r.v)();h.events.subscribe((function(e){f.logGroup("Router Event: "+e.constructor.name),f.log(e.toString()),f.log(e),f.logGroupEnd()}))}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[Ne,bn,r.j,i.u,i.B,i.j,nn,Tn,[function(){return function e(){_classCallCheck(this,e)}}(),new i.F],[function(){return function e(){_classCallCheck(this,e)}}(),new i.F]]},bn,{provide:tt,useFactory:function(e){return e.routerState.root},deps:[fn]},{provide:i.B,useClass:i.R},Sn,En,function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return t().pipe(Object(R.a)((function(){return Object(o.a)(null)})))}}]),e}(),{provide:Tn,useValue:{enableTracing:!1}}];function An(){return new i.D("Router",fn)}var xn,Pn=((xn=function(){function e(t,n){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[Dn,Fn(t),{provide:In,useFactory:jn,deps:[[fn,new i.F,new i.Q]]},{provide:Tn,useValue:n||{}},{provide:r.k,useFactory:Rn,deps:[r.p,[new i.s(r.a),new i.F],Tn]},{provide:On,useFactory:Nn,deps:[fn,r.r,Tn]},{provide:kn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:En},{provide:i.D,multi:!0,useFactory:An},[Ln,{provide:i.d,multi:!0,useFactory:Vn,deps:[Ln]},{provide:Bn,useFactory:Un,deps:[Ln]},{provide:i.b,multi:!0,useExisting:Bn}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[Fn(t)]}}}]),e}()).\u0275mod=i.Tb({type:xn}),xn.\u0275inj=i.Sb({factory:function(e){return new(e||xn)(i.ec(In,8),i.ec(fn,8))}}),xn);function Nn(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new On(e,t,n)}function Rn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new r.h(e,t):new r.o(e,t)}function jn(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Fn(e){return[{provide:i.a,multi:!0,useValue:e},{provide:nn,multi:!0,useValue:e}]}var Mn,Ln=((Mn=function(){function e(t){_classCallCheck(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new _.a}return _createClass(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(r.i,Promise.resolve(null)).then((function(){var t=null,n=new Promise((function(e){return t=e})),r=e.injector.get(fn),i=e.injector.get(Tn);if(e.isLegacyDisabled(i)||e.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return e.initNavigation?Object(o.a)(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(Tn),n=this.injector.get(Sn),r=this.injector.get(On),o=this.injector.get(fn),a=this.injector.get(i.g);e===a.components[0]&&(this.isLegacyEnabled(t)?o.initialNavigation():this.isLegacyDisabled(t)&&o.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}},{key:"isLegacyDisabled",value:function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}]),e}()).\u0275fac=function(e){return new(e||Mn)(i.ec(i.u))},Mn.\u0275prov=i.Rb({token:Mn,factory:Mn.\u0275fac}),Mn);function Vn(e){return e.appInitializer.bind(e)}function Un(e){return e.bootstrapListener.bind(e)}var Bn=new i.t("Router Initializer")},"v/J3":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n("kt0X"),i=n("cnBi"),o="shared",a=Object(r.p)({showLoading:!1},Object(r.r)(i.a,(function(e,t){return Object.assign(Object.assign({},e),{showLoading:t.status})})));function s(e,t){return a(e,t)}},vTDv:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r,i,o=n("ofXK"),a=n("tk/3"),s=n("3Pt+"),u=n("tyNb"),c=n("oOf3"),l=n("sYmb"),h=(n("YYeE"),n("SXPc"),n("KWzY"),n("j/7n"),n("EWl0")),f=n("fXoL"),d=n("lf8/"),p=((i=function(){function e(t){_classCallCheck(this,e),this.tokenService=t}return _createClass(e,[{key:"intercept",value:function(e,t){var n=this.tokenService.getTokenWithExpiry("token");if(!n)return t.handle(e);var r=e.clone({headers:new a.d({"Content-Type":"application/json",Authorization:"Bearer "+n})});return e.url==h.a.generalUploadAPI||0==e.url.indexOf(h.a.googleMapSearchAPI)||0==e.url.indexOf(h.a.googleMapPlaceDetailsAPI)?t.handle(e):t.handle(r)}}]),e}()).\u0275fac=function(e){return new(e||i)(f.ec(d.a))},i.\u0275prov=f.Rb({token:i,factory:i.\u0275fac}),i),v=((r=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(){return{ngModule:e}}}]),e}()).\u0275mod=f.Tb({type:r}),r.\u0275inj=f.Sb({factory:function(e){return new(e||r)},providers:[{provide:a.a,useClass:p,multi:!0}],imports:[[o.c,s.f,u.g,l.b],o.c,a.c,s.f,c.a,s.l,l.b]}),r)},vkgz:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("7o/Q");function i(){}var o=n("n6bG");function a(e,t,n){return function(r){return r.lift(new s(e,t,n))}}var s=function(){function e(t,n,r){_classCallCheck(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a,s){var u;return _classCallCheck(this,n),(u=t.call(this,e))._tapNext=i,u._tapError=i,u._tapComplete=i,u._tapError=a||i,u._tapComplete=s||i,Object(o.a)(r)?(u._context=_assertThisInitialized(u),u._tapNext=r):r&&(u._context=r,u._tapNext=r.next||i,u._tapError=r.error||i,u._tapComplete=r.complete||i),u}return _createClass(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(r.a)},w1tV:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("XNiG"),i=n("HDdC"),o=n("7o/Q"),a=n("quSY");function s(){return function(e){return e.lift(new c(e))}}var u,c=function(){function e(t){_classCallCheck(this,e),this.connectable=t}return _createClass(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new l(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(o.a),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new a.a).add(this.source.subscribe(new d(this.getSubject(),this))),e.closed&&(this._connection=null,e=a.a.EMPTY)),e}},{key:"refCount",value:function(){return s()(this)}}]),n}(i.a),f={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(u=h.prototype)._subscribe},_isComplete:{value:u._isComplete,writable:!0},getSubject:{value:u.getSubject},connect:{value:u.connect},refCount:{value:u.refCount}},d=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(e){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(r.b);function p(){return new r.a}function v(){return function(e){return s()((t=p,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,f);return r.source=e,r.subjectFactory=n,r})(e));var t}}},xbPD:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new o(e))}}var o=function(){function e(t){_classCallCheck(this,e),this.defaultValue=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.defaultValue))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).defaultValue=r,i.isEmpty=!0,i}return _createClass(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(r.a)},yCtX:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function a(e,t){return t?Object(o.a)(e,t):new r.a(Object(i.a)(e))}},"z+Ro":function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,"a",(function(){return r}))},z6cu:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("HDdC");function i(e,t){return new r.a(t?function(n){return t.schedule(o,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}function o(e){var t=e.error;e.subscriber.error(t)}},zIRd:function(e,t,n){"use strict";var r,i,o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=n("qOnz"),s=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.b("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.b("@firebase/app"),d=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Object(a.j)(e),this.container=new s.b(t.name),this._addComponent(new s.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t="[DEFAULT]"),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){f.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(Object(a.h)(t,s))throw l.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=h[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void f.warn(c.join(" "))}o(new s.a(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.c,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw l.create("invalid-log-argument");Object(u.d)(e,t)},apps:null,SDK_VERSION:"8.3.2",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||"[DEFAULT]",!Object(a.h)(t,e))throw l.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return f.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[s])throw l.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&Object(a.k)(u,o.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,s);return n.apply(this,o.multipleInstances?e:[])}}for(var c=0,h=Object.keys(t);c<h.length;c++)t[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(d);return t.INTERNAL=o(o({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(a.k)(t,e)},createSubscribe:a.i,ErrorFactory:a.b,deepExtend:a.k}),t}(),v=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(Object(a.p)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var g=p.initializeApp;p.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(a.v)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),g.apply(void 0,e)};var m,_=p;(m=_).INTERNAL.registerComponent(new s.a("platform-logger",(function(e){return new v(e)}),"PRIVATE")),m.registerVersion("@firebase/app","0.6.18",void 0),m.registerVersion("fire-js",""),t.a=_},zP0r:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(e){return function(t){return t.lift(new o(e))}}var o=function(){function e(t){_classCallCheck(this,e),this.total=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.total))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){++this.count>this.total&&this.destination.next(e)}}]),n}(r.a)},zUnb:function(e,t,n){"use strict";var r;n.r(t);var i,o,a=n("fXoL"),s=n("jhN1"),u=n("tyNb"),c=[{path:"login",loadChildren:function(){return n.e(13).then(n.bind(null,"fhSy")).then((function(e){return e.RegisterModule}))}},{path:"",loadChildren:function(){return n.e(6).then(n.bind(null,"dgmN")).then((function(e){return e.PagesModule}))}}],l=((i=function e(){_classCallCheck(this,e)}).\u0275mod=a.Tb({type:i}),i.\u0275inj=a.Sb({factory:function(e){return new(e||i)},imports:[[u.g.forRoot(c)],u.g]}),i),h=n("vTDv"),f=n("maDz"),d=((o=function e(){_classCallCheck(this,e),this.menu=f.a,this.title="Tourist Dashboard"}).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=a.Pb({type:o,selectors:[["app-root"]],decls:2,vars:0,template:function(e,t){1&e&&(a.ac(0,"router-outlet"),a.Wb(1,"router-outlet"),a.Zb())},directives:[u.h],encapsulation:2}),o),p=n("R0Ic");function v(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function y(e){switch(e.length){case 0:return new p.d;case 1:return e[0];default:return new p.k(e)}}function g(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=[],s=[],u=-1,c=null;if(r.forEach((function(e){var n=e.offset,r=n==u,l=r&&c||{};Object.keys(e).forEach((function(n){var r=n,s=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,a),s){case p.l:s=i[n];break;case p.a:s=o[n];break;default:s=t.normalizeStyleValue(n,r,s,a)}l[r]=s})),r||s.push(l),c=l,u=n})),a.length){var l="\n - ";throw new Error("Unable to animate due to the following errors:".concat(l).concat(a.join(l)))}return s}function m(e,t,n,r){switch(t){case"start":e.onStart((function(){return r(n&&_(n,"start",e))}));break;case"done":e.onDone((function(){return r(n&&_(n,"done",e))}));break;case"destroy":e.onDestroy((function(){return r(n&&_(n,"destroy",e))}))}}function _(e,t,n){var r=n.totalTime,i=b(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),o=e._data;return null!=o&&(i._data=o),i}function b(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function C(e,t,n){var r;return e instanceof Map?(r=e.get(t))||e.set(t,r=n):(r=e[t])||(r=e[t]=n),r}function w(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var k=function(e,t){return!1},E=function(e,t){return!1},S=function(e,t,n){return[]},O=v();(O||"undefined"!=typeof Element)&&(k=function(e,t){return e.contains(t)},E=function(){if(O||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?function(e,n){return t.apply(e,[n])}:E}(),S=function(e,t,n){var r=[];if(n)r.push.apply(r,_toConsumableArray(e.querySelectorAll(t)));else{var i=e.querySelector(t);i&&r.push(i)}return r});var T=null,I=!1;function D(e){T||(T=("undefined"!=typeof document?document.body:null)||{},I=!!T.style&&"WebkitAppearance"in T.style);var t=!0;return T.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(!(t=e in T.style)&&I)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in T.style),t}var A=E,x=k,P=S;function N(e){var t={};return Object.keys(e).forEach((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]})),t}var R,j=((R=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return D(e)}},{key:"matchesElement",value:function(e,t){return A(e,t)}},{key:"containsElement",value:function(e,t){return x(e,t)}},{key:"query",value:function(e,t,n){return P(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,r,i){return arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6],new p.d(n,r)}}]),e}()).\u0275fac=function(e){return new(e||R)},R.\u0275prov=a.Rb({token:R,factory:R.\u0275fac}),R),F=function(){var e=function e(){_classCallCheck(this,e)};return e.NOOP=new j,e}();function M(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:L(parseFloat(t[1]),t[2])}function L(e,t){switch(t){case"s":return 1e3*e;default:return e}}function V(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var r,i=0,o="";if("string"==typeof e){var a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};r=L(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(i=L(parseFloat(s),a[4]));var u=a[5];u&&(o=u)}else r=e;if(!n){var c=!1,l=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),c=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&t.splice(l,0,'The provided timing value "'.concat(e,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(e,t,n)}function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach((function(n){t[n]=e[n]})),t}function B(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var r in e)n[r]=e[r];else U(e,n);return n}function q(e,t,n){return n?t+":"+n+";":""}function H(e){for(var t="",n=0;n<e.style.length;n++){var r=e.style.item(n);t+=q(0,r,e.style.getPropertyValue(r))}for(var i in e.style)e.style.hasOwnProperty(i)&&!i.startsWith("_")&&(t+=q(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[i]));e.setAttribute("style",t)}function z(e,t,n){e.style&&(Object.keys(t).forEach((function(r){var i=X(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]})),v()&&H(e))}function W(e,t){e.style&&(Object.keys(t).forEach((function(t){var n=X(t);e.style[n]=""})),v()&&H(e))}function K(e){return Array.isArray(e)?1==e.length?e[0]:Object(p.f)(e):e}var G=new RegExp("{{\\s*(.+?)\\s*}}","g");function Q(e){var t=[];if("string"==typeof e){for(var n;n=G.exec(e);)t.push(n[1]);G.lastIndex=0}return t}function Z(e,t,n){var r=e.toString(),i=r.replace(G,(function(e,r){var i=t[r];return t.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()}));return i==r?e:i}function J(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var Y=/-+([a-z0-9])/g;function X(e){return e.replace(Y,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()}))}function $(e,t){return 0===e||0===t}function ee(e,t,n){var r=Object.keys(n);if(r.length&&t.length){var i=t[0],o=[];if(r.forEach((function(e){i.hasOwnProperty(e)||o.push(e),i[e]=n[e]})),o.length)for(var a=function(){var n=t[s];o.forEach((function(t){n[t]=ne(e,t)}))},s=1;s<t.length;s++)a()}return t}function te(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function ne(e,t){return window.getComputedStyle(e)[t]}var re=new Set(["true","1"]),ie=new Set(["false","0"]);function oe(e,t){var n=re.has(e)||ie.has(e),r=re.has(t)||ie.has(t);return function(i,o){var a="*"==e||e==i,s="*"==t||t==o;return!a&&n&&"boolean"==typeof i&&(a=i?re.has(e):ie.has(e)),!s&&r&&"boolean"==typeof o&&(s=o?re.has(t):ie.has(t)),a&&s}}var ae=new RegExp("s*:selfs*,?","g");function se(e,t,n){return new ue(e).build(t,n)}var ue=function(){function e(t){_classCallCheck(this,e),this._driver=t}return _createClass(e,[{key:"build",value:function(e,t){var n=new ce(t);return this._resetContextStyleTimingState(n),te(this,K(e),n)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var n=this,r=t.queryCount=0,i=t.depCount=0,o=[],a=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach((function(e){if(n._resetContextStyleTimingState(t),0==e.type){var s=e,u=s.name;u.toString().split(/\s*,\s*/).forEach((function(e){s.name=e,o.push(n.visitState(s,t))})),s.name=u}else if(1==e.type){var c=n.visitTransition(e,t);r+=c.queryCount,i+=c.depCount,a.push(c)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:e.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(e,t){var n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach((function(e){if(le(e)){var t=e;Object.keys(t).forEach((function(e){Q(t[e]).forEach((function(e){o.hasOwnProperty(e)||i.add(e)}))}))}})),i.size){var a=J(i.values());t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n,r,i,o=te(this,K(e.animation),t);return{type:1,matchers:(n=e.expr,r=t.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(e){return function(e,t,n){if(":"==e[0]){var r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}var i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;var o=i[1],a=i[2],s=i[3];t.push(oe(o,s)),"<"!=a[0]||"*"==o&&"*"==s||t.push(oe(s,o))}(e,i,r)})):i.push(n),i),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:he(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map((function(e){return te(n,e,t)})),options:he(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,r=t.currentTime,i=0,o=e.steps.map((function(e){t.currentTime=r;var o=te(n,e,t);return i=Math.max(i,t.currentTime),o}));return t.currentTime=i,{type:3,steps:o,options:he(e.options)}}},{key:"visitAnimate",value:function(e,t){var n,r=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return fe(V(e,t).duration,0,"");var r=e;if(r.split(/\s+/).some((function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)}))){var i=fe(0,0,"");return i.dynamic=!0,i.strValue=r,i}return fe((n=n||V(r,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;var i=e.styles?e.styles:Object(p.h)({});if(5==i.type)n=this.visitKeyframes(i,t);else{var o=e.styles,a=!1;if(!o){a=!0;var s={};r.easing&&(s.easing=r.easing),o=Object(p.h)(s)}t.currentTime+=r.duration+r.delay;var u=this.visitStyle(o,t);u.isEmptyStep=a,n=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach((function(e){"string"==typeof e?e==p.a?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed.")):n.push(e)})):n.push(e.styles);var r=!1,i=null;return n.forEach((function(e){if(le(e)){var t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(var o in t)if(t[o].toString().indexOf("{{")>=0){r=!0;break}}})),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(e,t){var n=this,r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach((function(e){"string"!=typeof e&&Object.keys(e).forEach((function(r){if(n._driver.validateStyleProperty(r)){var a,s,u,c,l,h=t.collectedStyles[t.currentQuerySelector],f=h[r],d=!0;f&&(o!=i&&o>=f.startTime&&i<=f.endTime&&(t.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(f.startTime,'ms" and "').concat(f.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),d=!1),o=f.startTime),d&&(h[r]={startTime:o,endTime:i}),t.options&&(a=e[r],s=t.options,u=t.errors,c=s.params||{},(l=Q(a)).length&&l.forEach((function(e){c.hasOwnProperty(e)||u.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))})))}else t.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(e,t){var n=this,r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],a=!1,s=!1,u=0,c=e.steps.map((function(e){var r=n._makeStyleAst(e,t),c=null!=r.offset?r.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach((function(e){if(le(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}}));else if(le(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(r.styles),l=0;return null!=c&&(i++,l=r.offset=c),s=s||l<0||l>1,a=a||l<u,u=l,o.push(l),r}));s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");var l=e.steps.length,h=0;i>0&&i<l?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(l-1));var f=l-1,d=t.currentTime,p=t.currentAnimateTimings,v=p.duration;return c.forEach((function(e,i){var a=h>0?i==f?1:h*i:o[i],s=a*v;t.currentTime=d+p.delay+s,p.duration=s,n._validateStyleAst(e,t),e.offset=a,r.styles.push(e)})),r}},{key:"visitReference",value:function(e,t){return{type:8,animation:te(this,K(e.animation),t),options:he(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:he(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:he(e.options)}}},{key:"visitQuery",value:function(e,t){var n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;var i=_slicedToArray(function(e){var t=!!e.split(/\s*,\s*/).find((function(e){return":self"==e}));return t&&(e=e.replace(ae,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(e){return".ng-trigger-"+e.substr(1)})).replace(/:animating/g,".ng-animating"),t]}(e.selector),2),o=i[0],a=i[1];t.currentQuerySelector=n.length?n+" "+o:o,C(t.collectedStyles,t.currentQuerySelector,{});var s=te(this,K(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:e.selector,options:he(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:V(e.timings,t.errors,!0);return{type:12,animation:te(this,K(e.animation),t),timings:n,options:null}}}]),e}(),ce=function e(t){_classCallCheck(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function le(e){return!Array.isArray(e)&&"object"==typeof e}function he(e){var t;return e?(e=U(e)).params&&(e.params=(t=e.params)?U(t):null):e={},e}function fe(e,t,n){return{duration:e,delay:t,easing:n}}function de(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}var pe=function(){function e(){_classCallCheck(this,e),this._map=new Map}return _createClass(e,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var n,r=this._map.get(e);r||this._map.set(e,r=[]),(n=r).push.apply(n,_toConsumableArray(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),e}(),ve=new RegExp(":enter","g"),ye=new RegExp(":leave","g");function ge(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new me).buildKeyframes(e,t,n,r,i,o,a,s,u,c)}var me=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"buildKeyframes",value:function(e,t,n,r,i,o,a,s,u){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new pe;var l=new be(e,t,u,r,i,c,[]);l.options=s,l.currentTimeline.setStyles([o],null,l.errors,s),te(this,n,l);var h=l.timelines.filter((function(e){return e.containsAnimation()}));if(h.length&&Object.keys(a).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,l.errors,s)}return h.length?h.map((function(e){return e.buildKeyframes()})):[de(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n=t.subInstructions.consume(t.element);if(n){var r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var r=t.currentTimeline.currentTime,i=null!=n.duration?M(n.duration):null,o=null!=n.delay?M(n.delay):null;return 0!==i&&e.forEach((function(e){var n=t.appendInstructionToTimeline(e,i,o);r=Math.max(r,n.duration+n.delay)})),r}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),te(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&((i=t.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=_e);var a=M(o.delay);i.delayNextStep(a)}e.steps.length&&(e.steps.forEach((function(e){return te(n,e,i)})),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var n=this,r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?M(e.options.delay):0;e.steps.forEach((function(a){var s=t.createSubContext(e.options);o&&s.delayNextStep(o),te(n,a,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)})),r.forEach((function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)})),t.transformIntoNewTimeline(i),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return V(t.params?Z(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());var i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,o=t.createSubContext().currentTimeline;o.easing=n.easing,e.styles.forEach((function(e){o.forwardTime((e.offset||0)*i),o.setStyles(e.styles,e.easing,t.errors,t.options),o.applyStylesToKeyframe()})),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(r+i),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var n=this,r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?M(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=_e);var a=r,s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=s.length;var u=null;s.forEach((function(r,i){t.currentQueryIndex=i;var s=t.createSubContext(e.options,r);o&&s.delayNextStep(o),r===t.element&&(u=s.currentTimeline),te(n,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)})),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,r=t.currentTimeline,i=e.timings,o=Math.abs(i.duration),a=o*(t.currentQueryTotal-1),s=o*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var u=t.currentTimeline;s&&u.delayNextStep(s);var c=u.currentTime;te(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}]),e}(),_e={},be=function(){function e(t,n,r,i,o,a,s,u){_classCallCheck(this,e),this._driver=t,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_e,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Ce(this._driver,n,0),s.push(this.currentTimeline)}return _createClass(e,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(e,t){var n=this;if(e){var r=e,i=this.options;null!=r.duration&&(i.duration=M(r.duration)),null!=r.delay&&(i.delay=M(r.delay));var o=r.params;if(o){var a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach((function(e){t&&a.hasOwnProperty(e)||(a[e]=Z(o[e],a,n.errors))}))}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach((function(e){n[e]=t[e]}))}}return e}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new e(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=_e,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){var r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new we(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,n,r,i,o){var a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(ve,"."+this._enterClassName)).replace(ye,"."+this._leaveClassName);var s=this._driver.query(this.element,e,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),a.push.apply(a,_toConsumableArray(s))}return i||0!=a.length||o.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),a}}]),e}(),Ce=function(){function e(t,n,r,i){_classCallCheck(this,e),this._driver=t,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(e,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach((function(e){t._backFill[e]=t._globalTimelineStyles[e]||p.a,t._currentKeyframe[e]=p.a})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,r){var i=this;t&&(this._previousKeyframe.easing=t);var o=r&&r.params||{},a=function(e,t){var n,r={};return e.forEach((function(e){"*"===e?(n=n||Object.keys(t)).forEach((function(e){r[e]=p.a})):B(e,!1,r)})),r}(e,this._globalTimelineStyles);Object.keys(a).forEach((function(e){var t=Z(a[e],o,n);i._pendingStyles[e]=t,i._localTimelineStyles.hasOwnProperty(e)||(i._backFill[e]=i._globalTimelineStyles.hasOwnProperty(e)?i._globalTimelineStyles[e]:p.a),i._updateStyle(e,t)}))}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){e._currentKeyframe[n]=t[n]})),Object.keys(this._localTimelineStyles).forEach((function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])})))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach((function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach((function(n){var r=t._styleSummary[n],i=e._styleSummary[n];(!r||i.time>r.time)&&t._updateStyle(n,i.value)}))}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach((function(o,a){var s=B(o,!0);Object.keys(s).forEach((function(e){var r=s[e];r==p.l?t.add(e):r==p.a&&n.add(e)})),r||(s.offset=a/e.duration),i.push(s)}));var o=t.size?J(t.values()):[],a=n.size?J(n.values()):[];if(r){var s=i[0],u=U(s);s.offset=0,u.offset=1,i=[s,u]}return de(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)}}]),e}(),we=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a,s){var u,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,n),(u=t.call(this,e,r,s.delay)).element=r,u.keyframes=i,u.preStyleProps=o,u.postStyleProps=a,u._stretchStartingKeyframe=c,u.timings={duration:s.duration,delay:s.delay,easing:s.easing},u}return _createClass(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,r=t.duration,i=t.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,s=n/a,u=B(e[0],!1);u.offset=0,o.push(u);var c=B(e[0],!1);c.offset=ke(s),o.push(c);for(var l=e.length-1,h=1;h<=l;h++){var f=B(e[h],!1);f.offset=ke((n+f.offset*r)/a),o.push(f)}r=a,n=0,i="",e=o}return de(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(Ce);function ke(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,t-1);return Math.round(e*n)/n}var Ee=function e(){_classCallCheck(this,e)},Se=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"normalizePropertyName",value:function(e,t){return X(e)}},{key:"normalizeStyleValue",value:function(e,t,n,r){var i="",o=n.toString().trim();if(Oe[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push("Please provide a CSS unit value for ".concat(e,":").concat(n))}return o+i}}]),n}(Ee),Oe=function(e){var t={};return e.forEach((function(e){return t[e]=!0})),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function Te(e,t,n,r,i,o,a,s,u,c,l,h,f){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}var Ie={},De=function(){function e(t,n,r){_classCallCheck(this,e),this._triggerName=t,this.ast=n,this._stateStyles=r}return _createClass(e,[{key:"match",value:function(e,t,n,r){return function(e,t,n,r,i){return e.some((function(e){return e(t,n,r,i)}))}(this.ast.matchers,e,t,n,r)}},{key:"buildStyles",value:function(e,t,n){var r=this._stateStyles["*"],i=this._stateStyles[e],o=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):o}},{key:"build",value:function(e,t,n,r,i,o,a,s,u,c){var l=[],h=this.ast.options&&this.ast.options.params||Ie,f=this.buildStyles(n,a&&a.params||Ie,l),d=s&&s.params||Ie,p=this.buildStyles(r,d,l),v=new Set,y=new Map,g=new Map,m="void"===r,_={params:Object.assign(Object.assign({},h),d)},b=c?[]:ge(e,t,this.ast.animation,i,o,f,p,_,u,l),w=0;if(b.forEach((function(e){w=Math.max(e.duration+e.delay,w)})),l.length)return Te(t,this._triggerName,n,r,m,f,p,[],[],y,g,w,l);b.forEach((function(e){var n=e.element,r=C(y,n,{});e.preStyleProps.forEach((function(e){return r[e]=!0}));var i=C(g,n,{});e.postStyleProps.forEach((function(e){return i[e]=!0})),n!==t&&v.add(n)}));var k=J(v.values());return Te(t,this._triggerName,n,r,m,f,p,b,k,y,g,w)}}]),e}(),Ae=function(){function e(t,n){_classCallCheck(this,e),this.styles=t,this.defaultParams=n}return _createClass(e,[{key:"buildStyles",value:function(e,t){var n={},r=U(this.defaultParams);return Object.keys(e).forEach((function(t){var n=e[t];null!=n&&(r[t]=n)})),this.styles.styles.forEach((function(e){if("string"!=typeof e){var i=e;Object.keys(i).forEach((function(e){var o=i[e];o.length>1&&(o=Z(o,r,t)),n[e]=o}))}})),n}}]),e}(),xe=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.name=t,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(e){r.states[e.name]=new Ae(e.style,e.options&&e.options.params||{})})),Pe(this.states,"true","1"),Pe(this.states,"false","0"),n.transitions.forEach((function(e){r.transitionFactories.push(new De(t,e,r.states))})),this.fallbackTransition=new De(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass(e,[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(e,t,n,r){return this.transitionFactories.find((function(i){return i.match(e,t,n,r)}))||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}]),e}();function Pe(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var Ne=new pe,Re=function(){function e(t,n,r){_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return _createClass(e,[{key:"register",value:function(e,t){var n=[],r=se(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[e]=r}},{key:"_buildPlayer",value:function(e,t,n){var r=e.element,i=g(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],a=this._animations[e],s=new Map;if(a?(n=ge(this._driver,t,a,"ng-enter","ng-leave",{},{},i,Ne,o)).forEach((function(e){var t=C(s,e.element,{});e.postStyleProps.forEach((function(e){return t[e]=null}))})):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: "+o.join("\n"));s.forEach((function(e,t){Object.keys(e).forEach((function(n){e[n]=r._driver.computeStyle(t,n,p.a)}))}));var u=y(n.map((function(e){var t=s.get(e.element);return r._buildPlayer(e,{},t)})));return this._playersById[e]=u,u.onDestroy((function(){return r.destroy(e)})),this.players.push(u),u}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t}},{key:"listen",value:function(e,t,n,r){var i=b(t,"","","");return m(this._getPlayer(e),n,i,r),function(){}}},{key:"command",value:function(e,t,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,r[0]||{});else this.register(e,r[0])}}]),e}(),je=[],Fe={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Me={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Le=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,e),this.namespaceId=n;var r,i=t&&t.hasOwnProperty("value");if(this.value=null!=(r=i?t.value:t)?r:null,i){var o=U(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return _createClass(e,[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach((function(e){null==n[e]&&(n[e]=t[e])}))}}}]),e}(),Ve=new Le("void"),Ue=function(){function e(t,n,r){_classCallCheck(this,e),this.id=t,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ge(n,this._hostClassName)}return _createClass(e,[{key:"listen",value:function(e,t,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var a=C(this._elementListeners,e,[]),s={name:t,phase:n,callback:r};a.push(s);var u=C(this._engine.statesByElement,e,{});return u.hasOwnProperty(t)||(Ge(e,"ng-trigger"),Ge(e,"ng-trigger-"+t),u[t]=Ve),function(){o._engine.afterFlush((function(){var e=a.indexOf(s);e>=0&&a.splice(e,1),o._triggers[t]||delete u[t]}))}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(e,t,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(t),a=new qe(this.id,t,e),s=this._engine.statesByElement.get(e);s||(Ge(e,"ng-trigger"),Ge(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,s={}));var u=s[t],c=new Le(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),s[t]=c,u||(u=Ve),"void"===c.value||u.value!==c.value){var l=C(this._engine.playersByElement,e,[]);l.forEach((function(e){e.namespaceId==r.id&&e.triggerName==t&&e.queued&&e.destroy()}));var h=o.matchTransition(u.value,c.value,e,c.params),f=!1;if(!h){if(!i)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:u,toState:c,player:a,isFallbackTransition:f}),f||(Ge(e,"ng-animate-queued"),a.onStart((function(){Qe(e,"ng-animate-queued")}))),a.onDone((function(){var t=r.players.indexOf(a);t>=0&&r.players.splice(t,1);var n=r._engine.playersByElement.get(e);if(n){var i=n.indexOf(a);i>=0&&n.splice(i,1)}})),this.players.push(a),l.push(a),a}if(!function(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}(u.params,c.params)){var d=[],p=o.matchStyles(u.value,u.params,d),v=o.matchStyles(c.value,c.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush((function(){W(e,p),z(e,v)}))}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach((function(t,n){delete t[e]})),this._elementListeners.forEach((function(n,r){t._elementListeners.set(r,n.filter((function(t){return t.name!=e})))}))}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach((function(e){return e.destroy()})),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var n=this,r=this._engine.driver.query(e,".ng-trigger",!0);r.forEach((function(e){if(!e.__ng_removed){var r=n._engine.fetchNamespacesByElement(e);r.size?r.forEach((function(n){return n.triggerLeaveAnimation(e,t,!1,!0)})):n.clearElementCache(e)}})),this._engine.afterFlushAnimationsDone((function(){return r.forEach((function(e){return n.clearElementCache(e)}))}))}},{key:"triggerLeaveAnimation",value:function(e,t,n,r){var i=this,o=this._engine.statesByElement.get(e);if(o){var a=[];if(Object.keys(o).forEach((function(t){if(i._triggers[t]){var n=i.trigger(e,t,"void",r);n&&a.push(n)}})),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&y(a).onDone((function(){return i._engine.processLeaveNode(e)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,n=this._elementListeners.get(e);if(n){var r=new Set;n.forEach((function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=t._triggers[i].fallbackTransition,a=t._engine.statesByElement.get(e)[i]||Ve,s=new Le("void"),u=new qe(t.id,i,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:i,transition:o,fromState:a,toState:s,player:u,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(e,t){var n=this,r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),!this.triggerLeaveAnimation(e,t,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else for(var a=e;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{var s=e.__ng_removed;s&&s!==Fe||(r.afterFlush((function(){return n.clearElementCache(e)})),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}}},{key:"insertNode",value:function(e,t){Ge(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,n=[];return this._queue.forEach((function(r){var i=r.player;if(!i.destroyed){var o=r.element,a=t._elementListeners.get(o);a&&a.forEach((function(t){if(t.name==r.triggerName){var n=b(o,r.triggerName,r.fromState.value,r.toState.value);n._data=e,m(r.player,t.phase,n,t.callback)}})),i.markedForDestroy?t._engine.afterFlush((function(){i.destroy()})):n.push(r)}})),this._queue=[],n.sort((function(e,n){var r=e.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:t._engine.driver.containsElement(e.element,n.element)?1:-1}))}},{key:"destroy",value:function(e){this.players.forEach((function(e){return e.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find((function(t){return t.element===e}))||t}}]),e}(),Be=function(){function e(t,n,r){_classCallCheck(this,e),this.bodyNode=t,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return _createClass(e,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach((function(t){t.players.forEach((function(t){t.queued&&e.push(t)}))})),e}},{key:"createNamespace",value:function(e,t){var n=new Ue(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}},{key:"registerTrigger",value:function(e,t,n){var r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var n=this;if(e){var r=this._fetchNamespace(e);this.afterFlush((function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(r);t>=0&&n._namespaceList.splice(t,1)})),this.afterFlushAnimationsDone((function(){return r.destroy(t)}))}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&t.add(a)}}return t}},{key:"trigger",value:function(e,t,n,r){if(He(t)){var i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}},{key:"insertNode",value:function(e,t,n,r){if(He(t)){var i=t.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){var a=this._fetchNamespace(e);a&&a.insertNode(t,n)}r&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ge(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Qe(e,"ng-animate-disabled"))}},{key:"removeNode",value:function(e,t,n,r){if(He(t)){var i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){var o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}},{key:"markElementAsRemoved",value:function(e,t,n,r){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,r,i){return He(t)?this._fetchNamespace(e).listen(t,n,r,i):function(){}}},{key:"_buildInstruction",value:function(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}},{key:"destroyInnerAnimations",value:function(e){var t=this,n=this.driver.query(e,".ng-trigger",!0);n.forEach((function(e){return t.destroyActiveAnimationsForElement(e)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,".ng-animating",!0)).forEach((function(e){return t.finishActiveQueriedAnimationOnElement(e)}))}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach((function(e){e.queued?e.markedForDestroy=!0:e.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach((function(e){return e.finish()}))}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise((function(t){if(e.players.length)return y(e.players).onDone((function(){return t()}));t()}))}},{key:"processLeaveNode",value:function(e){var t=this,n=e.__ng_removed;if(n&&n.setForRemoval){if(e.__ng_removed=Fe,n.namespaceId){this.destroyInnerAnimations(e);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach((function(e){t.markElementAsDisabled(e,!1)}))}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(t,n){return e._balanceNamespaceList(t,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)Ge(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,t)}finally{for(var o=0;o<i.length;o++)i[o]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(e){return e()})),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?y(n).onDone((function(){s.forEach((function(e){return e()}))})):s.forEach((function(e){return e()}))}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))}},{key:"_flushAnimations",value:function(e,t){var n=this,r=new pe,i=[],o=new Map,a=[],s=new Map,u=new Map,c=new Map,l=new Set;this.disabledNodes.forEach((function(e){l.add(e);for(var t=n.driver.query(e,".ng-animate-queued",!0),r=0;r<t.length;r++)l.add(t[r])}));var h=this.bodyNode,f=Array.from(this.statesByElement.keys()),d=Ke(f,this.collectedEnterElements),v=new Map,g=0;d.forEach((function(e,t){var n="ng-enter"+g++;v.set(t,n),e.forEach((function(e){return Ge(e,n)}))}));for(var m=[],_=new Set,b=new Set,w=0;w<this.collectedLeaveElements.length;w++){var k=this.collectedLeaveElements[w],E=k.__ng_removed;E&&E.setForRemoval&&(m.push(k),_.add(k),E.hasAnimation?this.driver.query(k,".ng-star-inserted",!0).forEach((function(e){return _.add(e)})):b.add(k))}var S=new Map,O=Ke(f,Array.from(_));O.forEach((function(e,t){var n="ng-leave"+g++;S.set(t,n),e.forEach((function(e){return Ge(e,n)}))})),e.push((function(){d.forEach((function(e,t){var n=v.get(t);e.forEach((function(e){return Qe(e,n)}))})),O.forEach((function(e,t){var n=S.get(t);e.forEach((function(e){return Qe(e,n)}))})),m.forEach((function(e){n.processLeaveNode(e)}))}));for(var T=[],I=[],D=this._namespaceList.length-1;D>=0;D--)this._namespaceList[D].drainQueuedTransitions(t).forEach((function(e){var t=e.player,o=e.element;if(T.push(t),n.collectedEnterElements.length){var l=o.__ng_removed;if(l&&l.setForMove)return void t.destroy()}var f=!h||!n.driver.containsElement(h,o),d=S.get(o),p=v.get(o),y=n._buildInstruction(e,r,p,d,f);if(y.errors&&y.errors.length)I.push(y);else{if(f)return t.onStart((function(){return W(o,y.fromStyles)})),t.onDestroy((function(){return z(o,y.toStyles)})),void i.push(t);if(e.isFallbackTransition)return t.onStart((function(){return W(o,y.fromStyles)})),t.onDestroy((function(){return z(o,y.toStyles)})),void i.push(t);y.timelines.forEach((function(e){return e.stretchStartingKeyframe=!0})),r.append(o,y.timelines),a.push({instruction:y,player:t,element:o}),y.queriedElements.forEach((function(e){return C(s,e,[]).push(t)})),y.preStyleProps.forEach((function(e,t){var n=Object.keys(e);if(n.length){var r=u.get(t);r||u.set(t,r=new Set),n.forEach((function(e){return r.add(e)}))}})),y.postStyleProps.forEach((function(e,t){var n=Object.keys(e),r=c.get(t);r||c.set(t,r=new Set),n.forEach((function(e){return r.add(e)}))}))}}));if(I.length){var A=[];I.forEach((function(e){A.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach((function(e){return A.push("- ".concat(e,"\n"))}))})),T.forEach((function(e){return e.destroy()})),this.reportError(A)}var x=new Map,P=new Map;a.forEach((function(e){var t=e.element;r.has(t)&&(P.set(t,t),n._beforeAnimationBuild(e.player.namespaceId,e.instruction,x))})),i.forEach((function(e){var t=e.element;n._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach((function(e){C(x,t,[]).push(e),e.destroy()}))}));var N=m.filter((function(e){return Je(e,u,c)})),R=new Map;We(R,this.driver,b,c,p.a).forEach((function(e){Je(e,u,c)&&N.push(e)}));var j=new Map;d.forEach((function(e,t){We(j,n.driver,new Set(e),u,p.l)})),N.forEach((function(e){var t=R.get(e),n=j.get(e);R.set(e,Object.assign(Object.assign({},t),n))}));var F=[],M=[],L={};a.forEach((function(e){var t=e.element,a=e.player,s=e.instruction;if(r.has(t)){if(l.has(t))return a.onDestroy((function(){return z(t,s.toStyles)})),a.disabled=!0,a.overrideTotalTime(s.totalTime),void i.push(a);var u=L;if(P.size>1){for(var c=t,h=[];c=c.parentNode;){var f=P.get(c);if(f){u=f;break}h.push(c)}h.forEach((function(e){return P.set(e,u)}))}var d=n._buildAnimation(a.namespaceId,s,x,o,j,R);if(a.setRealPlayer(d),u===L)F.push(a);else{var p=n.playersByElement.get(u);p&&p.length&&(a.parentPlayer=y(p)),i.push(a)}}else W(t,s.fromStyles),a.onDestroy((function(){return z(t,s.toStyles)})),M.push(a),l.has(t)&&i.push(a)})),M.forEach((function(e){var t=o.get(e.element);if(t&&t.length){var n=y(t);e.setRealPlayer(n)}})),i.forEach((function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()}));for(var V=0;V<m.length;V++){var U=m[V],B=U.__ng_removed;if(Qe(U,"ng-leave"),!B||!B.hasAnimation){var q=[];if(s.size){var H=s.get(U);H&&H.length&&q.push.apply(q,_toConsumableArray(H));for(var K=this.driver.query(U,".ng-animating",!0),G=0;G<K.length;G++){var Q=s.get(K[G]);Q&&Q.length&&q.push.apply(q,_toConsumableArray(Q))}}var Z=q.filter((function(e){return!e.destroyed}));Z.length?Ze(this,U,Z):this.processLeaveNode(U)}}return m.length=0,F.forEach((function(e){n.players.push(e),e.onDone((function(){e.destroy();var t=n.players.indexOf(e);n.players.splice(t,1)})),e.play()})),F}},{key:"elementContainsData",value:function(e,t){var n=!1,r=t.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,r,i){var o=[];if(t){var a=this.playersByQueriedElement.get(e);a&&(o=a)}else{var s=this.playersByElement.get(e);if(s){var u=!i||"void"==i;s.forEach((function(e){e.queued||(u||e.triggerName==r)&&o.push(e)}))}}return(n||r)&&(o=o.filter((function(e){return!(n&&n!=e.namespaceId||r&&r!=e.triggerName)}))),o}},{key:"_beforeAnimationBuild",value:function(e,t,n){var r,i=this,o=t.element,a=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName,u=_createForOfIteratorHelper(t.timelines);try{var c=function(){var e=r.value.element,u=e!==o,c=C(n,e,[]);i._getPreviousPlayers(e,u,a,s,t.toState).forEach((function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),c.push(e)}))};for(u.s();!(r=u.n()).done;)c()}catch(l){u.e(l)}finally{u.f()}W(o,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,n,r,i,o){var a=this,s=t.triggerName,u=t.element,c=[],l=new Set,h=new Set,f=t.timelines.map((function(t){var f=t.element;l.add(f);var d=f.__ng_removed;if(d&&d.removedBeforeQueried)return new p.d(t.duration,t.delay);var v,y,m=f!==u,_=(v=(n.get(f)||je).map((function(e){return e.getRealPlayer()})),y=[],function e(t,n){for(var r=0;r<t.length;r++){var i=t[r];i instanceof p.k?e(i.players,n):n.push(i)}}(v,y),y).filter((function(e){return!!e.element&&e.element===f})),b=i.get(f),C=o.get(f),w=g(0,a._normalizer,0,t.keyframes,b,C),k=a._buildPlayer(t,w,_);if(t.subTimeline&&r&&h.add(f),m){var E=new qe(e,s,f);E.setRealPlayer(k),c.push(E)}return k}));c.forEach((function(e){C(a.playersByQueriedElement,e.element,[]).push(e),e.onDone((function(){return function(e,t,n){var r;if(e instanceof Map){if(r=e.get(t)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&e.delete(t)}}else if(r=e[t]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete e[t]}return r}(a.playersByQueriedElement,e.element,e)}))})),l.forEach((function(e){return Ge(e,"ng-animating")}));var d=y(f);return d.onDestroy((function(){l.forEach((function(e){return Qe(e,"ng-animating")})),z(u,t.toStyles)})),h.forEach((function(e){C(r,e,[]).push(d)})),d}},{key:"_buildPlayer",value:function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new p.d(e.duration,e.delay)}}]),e}(),qe=function(){function e(t,n,r){_classCallCheck(this,e),this.namespaceId=t,this.triggerName=n,this.element=r,this._player=new p.d,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(e,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach((function(n){t._queuedCallbacks[n].forEach((function(t){return m(e,n,void 0,t)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart((function(){return n.triggerCallback("start")})),e.onDone((function(){return t.finish()})),e.onDestroy((function(){return t.destroy()}))}},{key:"_queueEvent",value:function(e,t){C(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),e}();function He(e){return e&&1===e.nodeType}function ze(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function We(e,t,n,r,i){var o=[];n.forEach((function(e){return o.push(ze(e))}));var a=[];r.forEach((function(n,r){var o={};n.forEach((function(e){var n=o[e]=t.computeStyle(r,e,i);n&&0!=n.length||(r.__ng_removed=Me,a.push(r))})),e.set(r,o)}));var s=0;return n.forEach((function(e){return ze(e,o[s++])})),a}function Ke(e,t){var n=new Map;if(e.forEach((function(e){return n.set(e,[])})),0==t.length)return n;var r=new Set(t),i=new Map;return t.forEach((function(e){var t=function e(t){if(!t)return 1;var o=i.get(t);if(o)return o;var a=t.parentNode;return o=n.has(a)?a:r.has(a)?1:e(a),i.set(t,o),o}(e);1!==t&&n.get(t).push(e)})),n}function Ge(e,t){if(e.classList)e.classList.add(t);else{var n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function Qe(e,t){if(e.classList)e.classList.remove(t);else{var n=e.$$classes;n&&delete n[t]}}function Ze(e,t,n){y(n).onDone((function(){return e.processLeaveNode(t)}))}function Je(e,t,n){var r=n.get(e);if(!r)return!1;var i=t.get(e);return i?r.forEach((function(e){return i.add(e)})):t.set(e,r),n.delete(e),!0}var Ye=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new Be(t,n,r),this._timelineEngine=new Re(t,n,r),this._transitionEngine.onRemovalComplete=function(e,t){return i.onRemovalComplete(e,t)}}return _createClass(e,[{key:"registerTrigger",value:function(e,t,n,r,i){var o=e+"-"+r,a=this._triggerCache[o];if(!a){var s=[],u=se(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));a=function(e,t){return new xe(e,t)}(r,u),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}},{key:"onRemove",value:function(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,t,n,r){if("@"==n.charAt(0)){var i=_slicedToArray(w(n),2),o=i[0],a=i[1];this._timelineEngine.command(o,t,a,r)}else this._transitionEngine.trigger(e,t,n,r)}},{key:"listen",value:function(e,t,n,r,i){if("@"==n.charAt(0)){var o=_slicedToArray(w(n),2),a=o[0],s=o[1];return this._timelineEngine.listen(a,t,s,i)}return this._transitionEngine.listen(e,t,n,r,i)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}}]),e}();function Xe(e,t){var n=null,r=null;return Array.isArray(t)&&t.length?(n=et(t[0]),t.length>1&&(r=et(t[t.length-1]))):t&&(n=et(t)),n||r?new $e(e,n,r):null}var $e=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;var i=e.initialStylesByElement.get(t);i||e.initialStylesByElement.set(t,i={}),this._initialStyles=i}return _createClass(e,[{key:"start",value:function(){this._state<1&&(this._startStyles&&z(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(z(this._element,this._initialStyles),this._endStyles&&(z(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(W(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(W(this._element,this._endStyles),this._endStyles=null),z(this._element,this._initialStyles),this._state=3)}}]),e}();return e.initialStylesByElement=new WeakMap,e}();function et(e){for(var t=null,n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];tt(i)&&((t=t||{})[i]=e[i])}return t}function tt(e){return"display"===e||"position"===e}var nt=function(){function e(t,n,r,i,o,a,s){var u=this;_classCallCheck(this,e),this._element=t,this._name=n,this._duration=r,this._delay=i,this._easing=o,this._fillMode=a,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return u._handleCallback(e)}}return _createClass(e,[{key:"apply",value:function(){var e,t,n;e=this._element,t="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=ut(e,"").trim()).length&&(function(e,t){for(var n=0;n<e.length;n++)e.charAt(n)}(n),t="".concat(n,", ").concat(t)),st(e,"",t),at(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){rt(this._element,this._name,"paused")}},{key:"resume",value:function(){rt(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=it(this._element,this._name);this._position=e*this._duration,st(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),at(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var e,t,n,r;this._destroyed||(this._destroyed=!0,this.finish(),e=this._element,t=this._name,n=ut(e,"").split(","),(r=ot(n,t))>=0&&(n.splice(r,1),st(e,"",n.join(","))))}}]),e}();function rt(e,t,n){st(e,"PlayState",n,it(e,t))}function it(e,t){var n=ut(e,"");return n.indexOf(",")>0?ot(n.split(","),t):ot([n],t)}function ot(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function at(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function st(e,t,n,r){var i="animation"+t;if(null!=r){var o=e.style[i];if(o.length){var a=o.split(",");a[r]=n,n=a.join(",")}}e.style[i]=n}function ut(e,t){return e.style["animation"+t]}var ct=function(){function e(t,n,r,i,o,a,s,u){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=s,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=i+o,this._buildStyler()}return _createClass(e,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new nt(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return e.finish()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(r){"offset"!=r&&(t[r]=n?e._finalStyles[r]:ne(e.element,r))}))}this.currentSnapshot=t}}]),e}(),lt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).element=e,i._startingStyles={},i.__initialized=!1,i._styles=N(r),i}return _createClass(n,[{key:"init",value:function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(t){e._startingStyles[t]=e.element.style[t]})),_get(_getPrototypeOf(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(t){return e.element.style.setProperty(t,e._styles[t])})),_get(_getPrototypeOf(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)})),this._startingStyles=null,_get(_getPrototypeOf(n.prototype),"destroy",this).call(this))}}]),n}(p.d),ht=function(){function e(){_classCallCheck(this,e),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return D(e)}},{key:"matchesElement",value:function(e,t){return A(e,t)}},{key:"containsElement",value:function(e,t){return x(e,t)}},{key:"query",value:function(e,t,n){return P(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map((function(e){return N(e)}));var r="@keyframes ".concat(t," {\n"),i="";n.forEach((function(e){i=" ";var t=parseFloat(e.offset);r+="".concat(i).concat(100*t,"% {\n"),i+=" ",Object.keys(e).forEach((function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(t,": ").concat(n,";\n"))}})),r+=i+"}\n"})),r+="}\n";var o=document.createElement("style");return o.innerHTML=r,o}},{key:"animate",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;a&&this._notifyFaultyScrubber();var s=o.filter((function(e){return e instanceof ct})),u={};$(n,r)&&s.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return u[e]=t[e]}))}));var c=function(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach((function(e){Object.keys(e).forEach((function(n){"offset"!=n&&"easing"!=n&&(t[n]=e[n])}))})),t}(t=ee(e,t,u));if(0==n)return new lt(e,c);var l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,l,t);document.querySelector("head").appendChild(h);var f=Xe(e,t),d=new ct(e,t,l,n,r,i,c,f);return d.onDestroy((function(){var e;(e=h).parentNode.removeChild(e)})),d}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),e}(),ft=function(){function e(t,n,r,i){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return e._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"totalTime",get:function(){return this._delay+this._duration}},{key:"beforeDestroy",value:function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:ne(e.element,n))})),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),dt=function(){function e(){_classCallCheck(this,e),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(pt().toString()),this._cssKeyframesDriver=new ht}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return D(e)}},{key:"matchesElement",value:function(e,t){return A(e,t)}},{key:"containsElement",value:function(e,t){return x(e,t)}},{key:"query",value:function(e,t,n){return P(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,o);var s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);var u={},c=o.filter((function(e){return e instanceof ft}));$(n,r)&&c.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return u[e]=t[e]}))}));var l=Xe(e,t=ee(e,t=t.map((function(e){return B(e,!1)})),u));return new ft(e,t,s,l)}}]),e}();function pt(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var vt,yt=n("ofXK"),gt=((vt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._nextAnimationId=0,i._renderer=e.createRenderer(r.body,{id:"0",encapsulation:a.X.None,styles:[],data:{animation:[]}}),i}return _createClass(n,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?Object(p.f)(e):e;return bt(this._renderer,null,t,"register",[n]),new mt(t,this._renderer)}}]),n}(p.b)).\u0275fac=function(e){return new(e||vt)(a.ec(a.L),a.ec(yt.e))},vt.\u0275prov=a.Rb({token:vt,factory:vt.\u0275fac}),vt),mt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._id=e,i._renderer=r,i}return _createClass(n,[{key:"create",value:function(e,t){return new _t(this._id,e,t||{},this._renderer)}}]),n}(p.c),_t=function(){function e(t,n,r,i){_classCallCheck(this,e),this.id=t,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return _createClass(e,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return bt(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){return 0}}]),e}();function bt(e,t,n,r,i){return e.setProperty(t,"@@".concat(n,":").concat(r),i)}var Ct,wt,kt,Et=((Ct=function(){function e(t,n,r){_classCallCheck(this,e),this.delegate=t,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return _createClass(e,[{key:"createRenderer",value:function(e,t){var n=this,r=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var i=this._rendererCache.get(r);return i||(i=new St("",r,this.engine),this._rendererCache.set(r,i)),i}var o=t.id,a=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,e),t.data.animation.forEach((function t(r){Array.isArray(r)?r.forEach(t):n.engine.registerTrigger(o,a,e,r.name,r)})),new Ot(this,a,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then((function(){e._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(e,t,n){var r=this;e>=0&&e<this._microtaskId?this._zone.run((function(){return t(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){r._zone.run((function(){r._animationCallbacksBuffer.forEach((function(e){var t=_slicedToArray(e,2);(0,t[0])(t[1])})),r._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([t,n]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),e}()).\u0275fac=function(e){return new(e||Ct)(a.ec(a.L),a.ec(Ye),a.ec(a.E))},Ct.\u0275prov=a.Rb({token:Ct,factory:Ct.\u0275fac}),Ct),St=function(){function e(t,n,r){_classCallCheck(this,e),this.namespaceId=t,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(e){return n.destroyNode(e)}:null}return _createClass(e,[{key:"data",get:function(){return this.delegate.data}},{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}}]),e}(),Ot=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,r,i,o)).factory=e,a.namespaceId=r,a}return _createClass(n,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){var r,i,o=this;if("@"==t.charAt(0)){var a,s=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),u=t.substr(1),c="";return"@"!=u.charAt(0)&&(i=(r=u).indexOf("."),u=(a=_slicedToArray([r.substring(0,i),r.substr(i+1)],2))[0],c=a[1]),this.engine.listen(this.namespaceId,s,u,c,(function(e){o.factory.scheduleListenerCallback(e._data||-1,n,e)}))}return this.delegate.listen(e,t,n)}}]),n}(St),Tt=((wt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e.body,r,i)}return n}(Ye)).\u0275fac=function(e){return new(e||wt)(a.ec(yt.e),a.ec(F),a.ec(Ee))},wt.\u0275prov=a.Rb({token:wt,factory:wt.\u0275fac}),wt),It=[{provide:F,useFactory:function(){return"function"==typeof pt()?new dt:new ht}},{provide:new a.t("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:p.b,useClass:gt},{provide:Ee,useFactory:function(){return new Se}},{provide:Ye,useClass:Tt},{provide:a.L,useFactory:function(e,t,n){return new Et(e,t,n)},deps:[s.d,Ye,a.E]}],Dt=((kt=function e(){_classCallCheck(this,e)}).\u0275mod=a.Tb({type:kt}),kt.\u0275inj=a.Sb({factory:function(e){return new(e||kt)},providers:It,imports:[s.a]}),kt),At=n("5eHb"),xt=n("spgP"),Pt=n("D0XW"),Nt=n("HDdC"),Rt=n("Cfvw"),jt=n("LRne"),Ft=n("JX91"),Mt=n("7o/Q");function Lt(){return function(e){return e.lift(new Vt)}}var Vt=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ut(e))}}]),e}(),Ut=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).hasPrev=!1,r}return _createClass(n,[{key:"_next",value:function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}]),n}(Mt.a),Bt=n("lJxs"),qt=n("Kqap"),Ht=n("/uUt"),zt=n("pLZG"),Wt=n("pxpQ"),Kt=n("Jgta"),Gt=n("zIRd"),Qt=n("qOnz"),Zt=n("q/0M"),Jt=function(e,t){return(Jt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Yt(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Xt,$t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},en=en||{},tn=$t||self;function nn(){}function rn(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function on(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var an="closure_uid_"+(1e9*Math.random()>>>0),sn=0;function un(e,t,n){return e.call.apply(e.bind,arguments)}function cn(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ln(e,t,n){return(ln=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?un:cn).apply(null,arguments)}function hn(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function fn(){return Date.now()}function dn(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function pn(){this.j=this.j,this.i=this.i}pn.prototype.j=!1,pn.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,an)&&e[an]||(e[an]=++sn)}(this)},pn.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var vn=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},yn=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function gn(e){return Array.prototype.concat.apply([],arguments)}function mn(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function _n(e){return/^[\s\xa0]*$/.test(e)}var bn,Cn=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function wn(e,t){return-1!=e.indexOf(t)}function kn(e,t){return e<t?-1:e>t?1:0}e:{var En=tn.navigator;if(En){var Sn=En.userAgent;if(Sn){bn=Sn;break e}}bn=""}function On(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Tn(e){var t={};for(var n in e)t[n]=e[n];return t}var In="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Dn(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<In.length;o++)n=In[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function An(e){return An[" "](e),e}An[" "]=nn;var xn,Pn,Nn=wn(bn,"Opera"),Rn=wn(bn,"Trident")||wn(bn,"MSIE"),jn=wn(bn,"Edge"),Fn=jn||Rn,Mn=wn(bn,"Gecko")&&!(wn(bn.toLowerCase(),"webkit")&&!wn(bn,"Edge"))&&!(wn(bn,"Trident")||wn(bn,"MSIE"))&&!wn(bn,"Edge"),Ln=wn(bn.toLowerCase(),"webkit")&&!wn(bn,"Edge");function Vn(){var e=tn.document;return e?e.documentMode:void 0}e:{var Un="",Bn=(Pn=bn,Mn?/rv:([^\);]+)(\)|;)/.exec(Pn):jn?/Edge\/([\d\.]+)/.exec(Pn):Rn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Pn):Ln?/WebKit\/(\S+)/.exec(Pn):Nn?/(?:Version)[ \/]?(\S+)/.exec(Pn):void 0);if(Bn&&(Un=Bn?Bn[1]:""),Rn){var qn=Vn();if(null!=qn&&qn>parseFloat(Un)){xn=String(qn);break e}}xn=Un}var Hn={};function zn(e){return function(e,t){var n=Hn;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=Cn(String(xn)).split("."),r=Cn(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=kn(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||kn(0==a[2].length,0==s[2].length)||kn(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}var Wn=tn.document&&Rn&&(Vn()||parseInt(xn,10))||void 0,Kn=!Rn||9<=Number(Wn),Gn=Rn&&!zn("9"),Qn=function(){if(!tn.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{tn.addEventListener("test",nn,t),tn.removeEventListener("test",nn,t)}catch(n){}return e}();function Zn(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function Jn(e,t){if(Zn.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(Mn){e:{try{An(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Yn[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}Zn.prototype.b=function(){this.defaultPrevented=!0},dn(Jn,Zn);var Yn={2:"touch",3:"pen",4:"mouse"};Jn.prototype.b=function(){Jn.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Gn)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var Xn="closure_listenable_"+(1e6*Math.random()|0),$n=0;function er(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++$n,this.Y=this.Z=!1}function tr(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function nr(e){this.src=e,this.a={},this.b=0}function rr(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=vn(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(tr(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function ir(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.ca==r)return i}return-1}nr.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=ir(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new er(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var or="closure_lm_"+(1e6*Math.random()|0),ar={};function sr(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);return null}return r=vr(r),t&&t[Xn]?t.wa(n,r,on(i)?!!i.capture:!!i,o):ur(t,n,r,!0,i,o)}(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)sr(e,t[o],n,r,i);return null}return n=vr(n),e&&e[Xn]?e.va(t,n,on(r)?!!r.capture:!!r,i):ur(e,t,n,!1,r,i)}function ur(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=on(i)?!!i.capture:!!i;if(a&&!Kn)return null;var s=dr(e);if(s||(e[or]=s=new nr(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=fr,t=Kn?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Qn||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(lr(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function cr(e){if("number"!=typeof e&&e&&!e.Y){var t=e.src;if(t&&t[Xn])rr(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(lr(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=dr(t))?(rr(n,e),0==n.b&&(n.src=null,t[or]=null)):tr(e)}}}function lr(e){return e in ar?ar[e]:ar[e]="on"+e}function hr(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&cr(e),n.call(r,t)}function fr(e,t){if(e.Y)return!0;if(!Kn){if(!t)e:{t=["window","event"];for(var n=tn,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return hr(e,t=new Jn(t,this))}return hr(e,new Jn(t,this))}function dr(e){return(e=e[or])instanceof nr?e:null}var pr="__closure_events_fn_"+(1e9*Math.random()>>>0);function vr(e){return"function"==typeof e?e:(e[pr]||(e[pr]=function(t){return e.handleEvent(t)}),e[pr])}function yr(){pn.call(this),this.c=new nr(this),this.J=this,this.C=null}function gr(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,"string"==typeof t)t=new Zn(t,e);else if(t instanceof Zn)t.target=t.target||e;else{var i=t;Dn(t=new Zn(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.a=n[o];i=mr(a,r,!0,t)&&i}if(i=mr(a=t.a=e,r,!0,t)&&i,i=mr(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=mr(a=t.a=n[o],r,!1,t)&&i}function mr(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&rr(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}dn(yr,pn),yr.prototype[Xn]=!0,(Xt=yr.prototype).addEventListener=function(e,t,n,r){sr(this,e,t,n,r)},Xt.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);else i=on(i)?!!i.capture:!!i,r=vr(r),t&&t[Xn]?(t=t.c,(n=String(n).toString())in t.a&&-1<(r=ir(a=t.a[n],r,i,o))&&(tr(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.a[n],t.b--))):t&&(t=dr(t))&&(n=t.a[n.toString()],t=-1,n&&(t=ir(n,r,i,o)),(r=-1<t?n[t]:null)&&cr(r))}(this,e,t,n,r)},Xt.G=function(){if(yr.X.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)tr(n[r]);delete t.a[e],t.b--}}this.C=null},Xt.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},Xt.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var _r=tn.JSON.stringify;function br(){this.b=this.a=null}var Cr,wr=new(function(){function e(e,t){this.c=e,this.f=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,this.a=(e=this.a).next,e.next=null):e=this.c(),e},e}())((function(){return new Er}),(function(e){e.reset()}));function kr(){var e=Ir,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Er(){this.next=this.b=this.a=null}function Sr(e){tn.setTimeout((function(){throw e}),0)}function Or(e,t){Cr||function(){var e=tn.Promise.resolve(void 0);Cr=function(){e.then(Dr)}}(),Tr||(Cr(),Tr=!0),Ir.add(e,t)}br.prototype.add=function(e,t){var n=wr.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Er.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Er.prototype.reset=function(){this.next=this.b=this.a=null};var Tr=!1,Ir=new br;function Dr(){for(var e;e=kr();){try{e.a.call(e.b)}catch(n){Sr(n)}var t=wr;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}Tr=!1}function Ar(e,t){yr.call(this),this.b=e||1,this.a=t||tn,this.f=ln(this.Za,this),this.g=fn()}function xr(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function Pr(e,t,n){if("function"==typeof e)n&&(e=ln(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ln(e.handleEvent,e)}return 2147483647<Number(t)?-1:tn.setTimeout(e,t||0)}function Nr(e){e.a=Pr((function(){e.a=null,e.c&&(e.c=!1,Nr(e))}),e.h);var t=e.b;e.b=null,e.g.apply(null,t)}dn(Ar,yr),(Xt=Ar.prototype).aa=!1,Xt.M=null,Xt.Za=function(){if(this.aa){var e=fn()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),gr(this,"tick"),this.aa&&(xr(this),this.start()))}},Xt.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=fn())},Xt.G=function(){Ar.X.G.call(this),xr(this),delete this.a};var Rr=function(e){function t(t,n){var r=e.call(this)||this;return r.g=t,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(e,t){function n(){this.constructor=e}Jt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:Nr(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(tn.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(pn);function jr(e){pn.call(this),this.b=e,this.a={}}dn(jr,pn);var Fr=[];function Mr(e,t,n,r){Array.isArray(n)||(n&&(Fr[0]=n.toString()),n=Fr);for(var i=0;i<n.length;i++){var o=sr(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function Lr(e){On(e.a,(function(e,t){this.a.hasOwnProperty(t)&&cr(e)}),e),e.a={}}function Vr(){this.a=!0}function Ur(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return _r(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}jr.prototype.G=function(){jr.X.G.call(this),Lr(this)},jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Vr.prototype.info=function(){};var Br={},qr=null;function Hr(){return qr=qr||new yr}function zr(e){Zn.call(this,Br.Fa,e)}function Wr(e){var t=Hr();gr(t,new zr(t,e))}function Kr(e,t){Zn.call(this,Br.STAT_EVENT,e),this.stat=t}function Gr(e){var t=Hr();gr(t,new Kr(t,e))}function Qr(e){Zn.call(this,Br.Ga,e)}function Zr(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return tn.setTimeout((function(){e()}),t)}Br.Fa="serverreachability",dn(zr,Zn),Br.STAT_EVENT="statevent",dn(Kr,Zn),Br.Ga="timingevent",dn(Qr,Zn);var Jr={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Yr={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Xr(){}function $r(){}Xr.prototype.a=null;var ei,ti={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function ni(){Zn.call(this,"d")}function ri(){Zn.call(this,"c")}function ii(){}function oi(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new jr(this),this.P=ai,this.R=new Ar(e=Fn?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}dn(ni,Zn),dn(ri,Zn),dn(ii,Xr),ei=new ii;var ai=45e3,si={},ui={};function ci(e,t,n){e.H=1,e.i=xi(Si(t)),e.j=n,e.I=!0,li(e,null)}function li(e,t){e.u=fn(),di(e),e.l=Si(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),zi(n.b,"t",r),e.D=0,e.a=Vo(e.g,e.g.C?t:null),0<e.O&&(e.F=new Rr(ln(e.Ca,e,e.a),e.O)),Mr(e.J,e.a,"readystatechange",e.Xa),t=e.B?Tn(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),Wr(1),function(e,t,n,r,i,o){e.info((function(){if(e.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.c,e.m,e.l,e.f,e.S,e.j)}function hi(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=fi(e,n);if(i==ui){4==t&&(e.h=4,Gr(14),r=!1),Ur(e.c,e.f,null,"[Incomplete Response]");break}if(i==si){e.h=4,Gr(15),Ur(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}Ur(e.c,e.f,i,null),mi(e,i)}4==t&&0==n.length&&(e.h=1,Gr(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,(t=e.g).a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),xo(t),t.F=!0,Gr(11))):(Ur(e.c,e.f,n,"[Invalid Chunked Response]"),gi(e),yi(e))}function fi(e,t){var n=e.D,r=t.indexOf("\n",n);return-1==r?ui:(n=Number(t.substring(n,r)),isNaN(n)?si:(r+=1)+n>t.length?ui:(t=t.substr(r,n),e.D=r+n,t))}function di(e){e.T=fn()+e.P,pi(e,e.P)}function pi(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=Zr(ln(e.Va,e),t)}function vi(e){e.o&&(tn.clearTimeout(e.o),e.o=null)}function yi(e){0==e.g.v||e.A||Ro(e.g,e)}function gi(e){vi(e);var t=e.F;t&&"function"==typeof t.ja&&t.ja(),e.F=null,xr(e.R),Lr(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function mi(e,t){try{var n=e.g;if(0!=n.v&&(n.a==e||Yi(n.b,e)))if(n.I=e.N,!e.C&&Yi(n.b,e)&&3==n.v){try{var r=n.ka.a.parse(t)}catch(kv){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.j){if(n.a){if(!(n.a.u+3e3<e.u))break e;No(n),wo(n)}Ao(n),Gr(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Zr(ln(n.Sa,n),6e3));if(1>=Ji(n.b)&&n.ea){try{n.ea()}catch(kv){}n.ea=void 0}}else Fo(n,11)}else if((e.C||n.a==e)&&No(n),!_n(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(n.P=(i=t[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=e.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(wn(l,"spdy")||wn(l,"quic")||wn(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Xi(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Ai(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=fn()-e.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=e;if((u=n).la=Lo(u,u.C?u.ga:null,u.fa),d.C){$i(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(vi(p),di(p)),u.a=d}else Do(u);0<n.g.length&&So(n)}else"stop"!=i[0]&&"close"!=i[0]||Fo(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Fo(n,7):Co(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Wr(4)}catch(kv){}}function _i(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(rn(e)||"string"==typeof e)yn(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if(rn(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"==typeof e)return e.split("");if(rn(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function bi(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof bi)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ci(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];wi(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)wi(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function wi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Xt=oi.prototype).setTimeout=function(e){this.P=e},Xt.Xa=function(e){e=e.target;var t=this.F;t&&3==go(e)?t.f():this.Ca(e)},Xt.Ca=function(e){try{if(e==this.a)e:{var t=go(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||3==t&&!Fn&&!this.a.$())){this.A||4!=t||7==n||Wr(8==n||0>=r?3:2),vi(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_n(a)){var u=a;break t}}u=null}if(!u){this.b=!1,this.h=3,Gr(12),gi(this),yi(this);break e}Ur(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,mi(this,u)}this.I?(hi(this,t,o),Fn&&this.b&&3==t&&(Mr(this.J,this.R,"tick",this.Wa),this.R.start())):(Ur(this.c,this.f,o,null),mi(this,o)),4==t&&gi(this),this.b&&!this.A&&(4==t?Ro(this.g,this):(this.b=!1,di(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Gr(12)):(this.h=0,Gr(13)),gi(this),yi(this)}}}catch(c){}},Xt.Wa=function(){if(this.a){var e=go(this.a),t=this.a.$();this.D<t.length&&(vi(this),hi(this,e,t),this.b&&4!=e&&di(this))}},Xt.cancel=function(){this.A=!0,gi(this)},Xt.Va=function(){this.o=null;var e=fn();0<=e-this.T?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.c,this.l),2!=this.H&&(Wr(3),Gr(17)),gi(this),this.h=2,yi(this)):pi(this,this.T-e)},(Xt=bi.prototype).K=function(){Ci(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},Xt.L=function(){return Ci(this),this.a.concat()},Xt.get=function(e,t){return wi(this.b,e)?this.b[e]:t},Xt.set=function(e,t){wi(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},Xt.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var ki=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ei(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Ei){this.a=void 0!==t?t:e.a,Oi(this,e.f),this.j=e.j,Ti(this,e.c),Ii(this,e.h),this.g=e.g,t=e.b;var n=new Ui;n.c=t.c,t.a&&(n.a=new bi(t.a),n.b=t.b),Di(this,n),this.i=e.i}else e&&(n=String(e).match(ki))?(this.a=!!t,Oi(this,n[1]||"",!0),this.j=Pi(n[2]||""),Ti(this,n[3]||"",!0),Ii(this,n[4]),this.g=Pi(n[5]||"",!0),Di(this,n[6]||"",!0),this.i=Pi(n[7]||"")):(this.a=!!t,this.b=new Ui(null,this.a))}function Si(e){return new Ei(e)}function Oi(e,t,n){e.f=n?Pi(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Ti(e,t,n){e.c=n?Pi(t,!0):t}function Ii(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function Di(e,t,n){t instanceof Ui?(e.b=t,function(e,t){t&&!e.f&&(Bi(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(qi(this,t),zi(this,n,e))}),e)),e.f=t}(e.b,e.a)):(n||(t=Ni(t,Li)),e.b=new Ui(t,e.a))}function Ai(e,t,n){e.b.set(t,n)}function xi(e){return Ai(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^fn()).toString(36)),e}function Pi(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ni(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Ri),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ri(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ei.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Ni(t,ji,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(Ni(t,ji,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ni(n,"/"==n.charAt(0)?Mi:Fi,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Ni(n,Vi)),e.join("")};var ji=/[#\/\?@]/g,Fi=/[#\?:]/g,Mi=/[#\?]/g,Li=/[#\?@]/g,Vi=/#/g;function Ui(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Bi(e){e.a||(e.a=new bi,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function qi(e,t){Bi(e),t=Wi(e,t),wi(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,wi((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Ci(e)))}function Hi(e,t){return Bi(e),t=Wi(e,t),wi(e.a.b,t)}function zi(e,t,n){qi(e,t),0<n.length&&(e.c=null,e.a.set(Wi(e,t),mn(n)),e.b+=n.length)}function Wi(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(Xt=Ui.prototype).add=function(e,t){Bi(this),this.c=null,e=Wi(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},Xt.forEach=function(e,t){Bi(this),this.a.forEach((function(n,r){yn(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Xt.L=function(){Bi(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Xt.K=function(e){Bi(this);var t=[];if("string"==typeof e)Hi(this,e)&&(t=gn(t,this.a.get(Wi(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=gn(t,e[n])}return t},Xt.set=function(e,t){return Bi(this),this.c=null,Hi(this,e=Wi(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},Xt.get=function(e,t){return e&&0<(e=this.K(e)).length?String(e[0]):t},Xt.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var Ki=function(e,t){this.b=e,this.a=t};function Gi(e){this.g=e||Qi,e=tn.PerformanceNavigationTiming?0<(e=tn.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(tn.ia&&tn.ia.ya&&tn.ia.ya()&&tn.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Qi=10;function Zi(e){return!!e.b||!!e.a&&e.a.size>=e.f}function Ji(e){return e.b?1:e.a?e.a.size:0}function Yi(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function Xi(e,t){e.a?e.a.add(t):e.b=t}function $i(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function eo(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null!=e.a&&0!==e.a.size){var r=e.c;try{for(var i=Yt(e.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return mn(e.c)}function to(){}function no(){this.a=new to}function ro(e,t,n){var r=n||"";try{_i(e,(function(e,n){var i=e;on(e)&&(i=_r(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(iy){throw t.push(r+"type="+encodeURIComponent("_badmap")),iy}}function io(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}Gi.prototype.cancel=function(){var e,t;if(this.c=eo(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Yt(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},to.prototype.stringify=function(e){return tn.JSON.stringify(e,void 0)},to.prototype.parse=function(e){return tn.JSON.parse(e,void 0)};var oo=tn.JSON.parse;function ao(e){yr.call(this),this.headers=new bi,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=so,this.D=this.F=!1}dn(ao,yr);var so="",uo=/^https?$/i,co=["POST","PUT"];function lo(e){return"content-type"==e.toLowerCase()}function ho(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,fo(e),vo(e)}function fo(e){e.u||(e.u=!0,gr(e,"complete"),gr(e,"error"))}function po(e){if(e.b&&void 0!==en&&(!e.s[1]||4!=go(e)||2!=e.W()))if(e.l&&4==go(e))Pr(e.za,0,e);else if(gr(e,"readystatechange"),4==go(e)){e.b=!1;try{var t,n=e.W();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.B).match(ki)[1]||null;if(!o&&tn.self&&tn.self.location){var a=tn.self.location.protocol;o=a.substr(0,a.length-1)}i=!uo.test(o?o.toLowerCase():"")}t=i}if(t)gr(e,"complete"),gr(e,"success");else{e.h=6;try{var s=2<go(e)?e.a.statusText:""}catch(n){s=""}e.f=s+" ["+e.W()+"]",fo(e)}}finally{vo(e)}}}function vo(e,t){if(e.a){yo(e);var n=e.a,r=e.s[0]?nn:null;e.a=null,e.s=null,t||gr(e,"ready");try{n.onreadystatechange=r}catch(iy){}}}function yo(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(tn.clearTimeout(e.m),e.m=null)}function go(e){return e.a?e.a.readyState:0}function mo(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return On(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Ai(e,t,n))}function _o(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function bo(e){this.pa=0,this.g=[],this.c=new Vr,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=_o("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=_o("baseRetryDelayMs",5e3,e),this.Ra=_o("retryDelaySeedMs",1e4,e),this.Ma=_o("forwardChannelMaxRetries",2,e),this.ma=_o("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new Gi(e&&e.concurrentRequestLimit),this.ka=new no,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Co(e){if(ko(e),3==e.v){var t=e.R++,n=Si(e.B);Ai(n,"SID",e.J),Ai(n,"RID",t),Ai(n,"TYPE","terminate"),To(e,n),(t=new oi(e,e.c,t,void 0)).H=2,t.i=xi(Si(n)),n=!1,tn.navigator&&tn.navigator.sendBeacon&&(n=tn.navigator.sendBeacon(t.i.toString(),"")),!n&&tn.Image&&((new Image).src=t.i,n=!0),n||(t.a=Vo(t.g,null),t.a.ba(t.i)),t.u=fn(),di(t)}Mo(e)}function wo(e){e.a&&(xo(e),e.a.cancel(),e.a=null)}function ko(e){wo(e),e.j&&(tn.clearTimeout(e.j),e.j=null),No(e),e.b.cancel(),e.h&&("number"==typeof e.h&&tn.clearTimeout(e.h),e.h=null)}function Eo(e,t){e.g.push(new Ki(e.Oa++,t)),3==e.v&&So(e)}function So(e){Zi(e.b)||e.h||(e.h=!0,Or(e.Ba,e),e.u=0)}function Oo(e,t){var n;n=t?t.f:e.R++;var r=Si(e.B);Ai(r,"SID",e.J),Ai(r,"RID",n),Ai(r,"AID",e.P),To(e,r),e.i&&e.l&&mo(r,e.i,e.l),n=new oi(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=Io(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),Xi(e.b,n),ci(n,r,t)}function To(e,t){e.f&&_i({},(function(e,n){Ai(t,n,e)}))}function Io(e,t,n){n=Math.min(e.g.length,n);var r=e.f?ln(e.f.Ja,e.f,e):null;e:for(var i=e.g,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{ro(l,a,"req"+c+"_")}catch(Ca){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function Do(e){e.a||e.j||(e.T=1,Or(e.Aa,e),e.o=0)}function Ao(e){return!(e.a||e.j||3<=e.o||(e.T++,e.j=Zr(ln(e.Aa,e),jo(e,e.o)),e.o++,0))}function xo(e){null!=e.s&&(tn.clearTimeout(e.s),e.s=null)}function Po(e){e.a=new oi(e,e.c,"rpc",e.T),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=Si(e.la);Ai(t,"RID","rpc"),Ai(t,"SID",e.J),Ai(t,"CI",e.H?"0":"1"),Ai(t,"AID",e.P),To(e,t),Ai(t,"TYPE","xmlhttp"),e.i&&e.l&&mo(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=xi(Si(t)),n.j=null,n.I=!0,li(n,e)}function No(e){null!=e.m&&(tn.clearTimeout(e.m),e.m=null)}function Ro(e,t){var n=null;if(e.a==t){No(e),xo(e),e.a=null;var r=2}else{if(!Yi(e.b,t))return;n=t.s,$i(e.b,t),r=1}if(e.I=t.N,0!=e.v)if(t.b)if(1==r){n=t.j?t.j.length:0,t=fn()-t.u;var i=e.u;gr(r=Hr(),new Qr(r,n,t,i)),So(e)}else Do(e);else if(3==(i=t.h)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Ji(e.b)>=e.b.f-(e.h?1:0)||(e.h?(e.g=t.s.concat(e.g),0):1==e.v||2==e.v||e.u>=(e.La?0:e.Ma)||(e.h=Zr(ln(e.Ba,e,t),jo(e,e.u)),e.u++,0)))}(e,t)||2==r&&Ao(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:Fo(e,5);break;case 4:Fo(e,10);break;case 3:Fo(e,6);break;default:Fo(e,2)}}function jo(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function Fo(e,t){if(e.c.info("Error code "+t),2==t){var n=null;e.f&&(n=null);var r=ln(e.Ya,e);n||(n=new Ei("//www.google.com/images/cleardot.gif"),tn.location&&"http"==tn.location.protocol||Oi(n,"https"),xi(n)),function(e,t){var n=new Vr;if(tn.Image){var r=new Image;r.onload=hn(io,n,r,"TestLoadImage: loaded",!0,t),r.onerror=hn(io,n,r,"TestLoadImage: error",!1,t),r.onabort=hn(io,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=hn(io,n,r,"TestLoadImage: timeout",!1,t),tn.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Gr(2);e.v=0,e.f&&e.f.ra(t),Mo(e),ko(e)}function Mo(e){e.v=0,e.I=-1,e.f&&(0==eo(e.b).length&&0==e.g.length||(e.b.c.length=0,mn(e.g),e.g.length=0),e.f.qa())}function Lo(e,t,n){var r=function(e){return e instanceof Ei?Si(e):new Ei(e,void 0)}(n);if(""!=r.c)t&&Ti(r,t+"."+r.c),Ii(r,r.h);else{var i=tn.location;r=function(e,t,n,r){var i=new Ei(null,void 0);return e&&Oi(i,e),t&&Ti(i,t),n&&Ii(i,n),r&&(i.g=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&On(e.V,(function(e,t){Ai(r,t,e)})),n=e.na,(t=e.A)&&n&&Ai(r,t,n),Ai(r,"VER",e.ha),To(e,r),r}function Vo(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ao(e.Na)).F=e.C,t}function Uo(){}function Bo(){if(Rn&&!(10<=Number(Wn)))throw Error("Environmental error: no available transport.")}function qo(e,t){yr.call(this),this.a=new bo(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!_n(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!_n(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&t in(e=this.b)&&delete e[t]),this.f=new Wo(this)}function Ho(e){ni.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function zo(){ri.call(this),this.status=1}function Wo(e){this.a=e}(Xt=ao.prototype).ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(e){var t;return(t=e.a)||(t=e.a={}),t}(this.H?this.H:ei),this.a.onreadystatechange=ln(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(o){return void ho(this,o)}e=n||"";var i=new bi(this.headers);r&&_i(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=lo,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.L()),n=tn.FormData&&e instanceof tn.FormData,!(0<=vn(co,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{yo(this),0<this.o&&((this.D=function(e){return Rn&&zn(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=ln(this.xa,this)):this.m=Pr(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(o){ho(this,o)}},Xt.xa=function(){void 0!==en&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,gr(this,"timeout"),this.abort(8))},Xt.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,gr(this,"complete"),gr(this,"abort"),vo(this))},Xt.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),vo(this,!0)),ao.X.G.call(this)},Xt.za=function(){this.j||(this.A||this.l||this.g?po(this):this.Ua())},Xt.Ua=function(){po(this)},Xt.W=function(){try{return 2<go(this)?this.a.status:-1}catch(Pn){return-1}},Xt.$=function(){try{return this.a?this.a.responseText:""}catch(Pn){return""}},Xt.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),oo(t)}},Xt.ua=function(){return this.h},Xt.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Xt=bo.prototype).ha=8,Xt.v=1,Xt.Ba=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t,n=new oi(this,this.c,e,void 0),r=this.l;if(this.O&&(r?Dn(r=Tn(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)e:{for(var i=t=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.g.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=Io(this,n,t),Ai(i=Si(this.B),"RID",e),Ai(i,"CVER",22),this.A&&Ai(i,"X-HTTP-Session-Id",this.A),To(this,i),this.i&&r&&mo(i,this.i,r),Xi(this.b,n),this.Ia&&Ai(i,"TYPE","init"),this.da?(Ai(i,"$req",t),Ai(i,"SID","null"),n.U=!0,ci(n,i,null)):ci(n,i,t),this.v=2}}else 3==this.v&&(e?Oo(this,e):0==this.g.length||Zi(this.b)||Oo(this))},Xt.Aa=function(){if(this.j=null,Po(this),this.U&&!(this.F||null==this.a||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=Zr(ln(this.Ta,this),e)}},Xt.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Gr(10),wo(this),Po(this))},Xt.Sa=function(){null!=this.m&&(this.m=null,wo(this),Ao(this),Gr(19))},Xt.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),Gr(2)):(this.c.info("Failed to ping google.com"),Gr(1))},(Xt=Uo.prototype).ta=function(){},Xt.sa=function(){},Xt.ra=function(){},Xt.qa=function(){},Xt.Ja=function(){},Bo.prototype.a=function(e,t){return new qo(e,t)},dn(qo,yr),qo.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;Gr(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=Lo(e,null,e.fa),So(e)},qo.prototype.close=function(){Co(this.a)},qo.prototype.h=function(e){if("string"==typeof e){var t={};t.__data__=e,Eo(this.a,t)}else this.l?((t={}).__data__=_r(e),Eo(this.a,t)):Eo(this.a,e)},qo.prototype.G=function(){this.a.f=null,delete this.f,Co(this.a),delete this.a,qo.X.G.call(this)},dn(Ho,ni),dn(zo,ri),dn(Wo,Uo),Wo.prototype.ta=function(){gr(this.a,"a")},Wo.prototype.sa=function(e){gr(this.a,new Ho(e))},Wo.prototype.ra=function(e){gr(this.a,new zo(e))},Wo.prototype.qa=function(){gr(this.a,"b")},Bo.prototype.createWebChannel=Bo.prototype.a,qo.prototype.send=qo.prototype.h,qo.prototype.open=qo.prototype.g,qo.prototype.close=qo.prototype.close,Jr.NO_ERROR=0,Jr.TIMEOUT=8,Jr.HTTP_ERROR=6,Yr.COMPLETE="complete",$r.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",yr.prototype.listen=yr.prototype.va,ao.prototype.listenOnce=ao.prototype.wa,ao.prototype.getLastError=ao.prototype.Qa,ao.prototype.getLastErrorCode=ao.prototype.ua,ao.prototype.getStatus=ao.prototype.W,ao.prototype.getResponseJson=ao.prototype.Pa,ao.prototype.getResponseText=ao.prototype.$,ao.prototype.send=ao.prototype.ba;var Ko=Jr,Go=Yr,Qo=Br,Zo=$r,Jo=ao,Yo=function(e,t){return(Yo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Xo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Yo(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function $o(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(iy){o(iy)}}function s(e){try{u(r.throw(e))}catch(iy){o(iy)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function ea(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(iy){o=[6,iy],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function ta(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var na=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();na.o=-1;var ra={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ia=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Xo(t,e),t}(Error),oa=new Zt.b("@firebase/firestore");function aa(){return oa.logLevel}function sa(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(oa.logLevel<=Zt.a.DEBUG){var r=t.map(la);oa.debug.apply(oa,ta(["Firestore (8.3.2): "+e],r))}}function ua(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(oa.logLevel<=Zt.a.ERROR){var r=t.map(la);oa.error.apply(oa,ta(["Firestore (8.3.2): "+e],r))}}function ca(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(oa.logLevel<=Zt.a.WARN){var r=t.map(la);oa.warn.apply(oa,ta(["Firestore (8.3.2): "+e],r))}}function la(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(iy){return e}}function ha(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.3.2) INTERNAL ASSERTION FAILED: "+e;throw ua(t),new Error(t)}function fa(e,t){e||ha()}function da(e,t){return e}function pa(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var va=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=pa(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function ya(e,t){return e<t?-1:e>t?1:0}function ga(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function ma(e){return e+"\0"}var _a=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ia(ra.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ia(ra.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ia(ra.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ia(ra.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?ya(this.nanoseconds,e.nanoseconds):ya(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),ba=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new _a(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function Ca(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function wa(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ka(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Ea=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&ha(),void 0===n?n=e.length-t:n>e.length-t&&ha(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Sa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Xo(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new ia(ra.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Ea),Oa=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ta=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Xo(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return Oa.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new ia(ra.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new ia(ra.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ia(ra.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new ia(ra.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Ea),Ia=function(){function e(e){this.fields=e,e.sort(Ta.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return ga(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),Da=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return btoa(this.binaryString)},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return ya(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();Da.EMPTY_BYTE_STRING=new Da("");var Aa=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xa(e){if(fa(!!e),"string"==typeof e){var t=0,n=Aa.exec(e);if(fa(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Pa(e.seconds),nanos:Pa(e.nanos)}}function Pa(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Na(e){return"string"==typeof e?Da.fromBase64String(e):Da.fromUint8Array(e)}function Ra(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ja(e){var t=xa(e.mapValue.fields.__local_write_time__.timestampValue);return new _a(t.seconds,t.nanos)}function Fa(e){return null==e}function Ma(e){return 0===e&&1/e==-1/0}function La(e){return"number"==typeof e&&Number.isInteger(e)&&!Ma(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Va=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(Sa.fromString(t))},e.fromName=function(t){return new e(Sa.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Sa.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Sa.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new Sa(t.slice()))},e}();function Ua(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ra(e)?4:10:ha()}function Ba(e,t){var n=Ua(e);if(n!==Ua(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ja(e).isEqual(ja(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=xa(e.timestampValue),r=xa(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Na(e.bytesValue).isEqual(Na(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Pa(e.geoPointValue.latitude)===Pa(t.geoPointValue.latitude)&&Pa(e.geoPointValue.longitude)===Pa(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Pa(e.integerValue)===Pa(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Pa(e.doubleValue),r=Pa(t.doubleValue);return n===r?Ma(n)===Ma(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ga(e.arrayValue.values||[],t.arrayValue.values||[],Ba);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ca(n)!==Ca(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ba(n[i],r[i])))return!1;return!0}(e,t);default:return ha()}}function qa(e,t){return void 0!==(e.values||[]).find((function(e){return Ba(e,t)}))}function Ha(e,t){var n=Ua(e),r=Ua(t);if(n!==r)return ya(n,r);switch(n){case 0:return 0;case 1:return ya(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Pa(e.integerValue||e.doubleValue),r=Pa(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return za(e.timestampValue,t.timestampValue);case 4:return za(ja(e),ja(t));case 5:return ya(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Na(e),r=Na(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=ya(n[i],r[i]);if(0!==o)return o}return ya(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=ya(Pa(e.latitude),Pa(t.latitude));return 0!==n?n:ya(Pa(e.longitude),Pa(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ha(n[i],r[i]);if(o)return o}return ya(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=ya(r[a],o[a]);if(0!==s)return s;var u=Ha(n[r[a]],i[o[a]]);if(0!==u)return u}return ya(r.length,o.length)}(e.mapValue,t.mapValue);default:throw ha()}}function za(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ya(e,t);var n=xa(e),r=xa(t),i=ya(n.seconds,r.seconds);return 0!==i?i:ya(n.nanos,r.nanos)}function Wa(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){var t=xa(e);return"time("+t.seconds+","+t.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Na(t.bytesValue).toBase64():"referenceValue"in t?Va.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(n=t.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in t?function(t){for(var n="[",r=!0,i=0,o=t.values||[];i<o.length;i++)r?r=!1:n+=",",n+=e(o[i]);return n+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var n="{",r=!0,i=0,o=Object.keys(t.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+e(t.fields[a])}return n+"}"}(t.mapValue):ha();var n}(e)}function Ka(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Ga(e){return!!e&&"integerValue"in e}function Qa(e){return!!e&&"arrayValue"in e}function Za(e){return!!e&&"nullValue"in e}function Ja(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ya(e){return!!e&&"mapValue"in e}var Xa=function(){function e(e){this.overlayMap=new Map,this.partialValue=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){return e.extractNestedValue(this.buildProto(),t)},e.prototype.toProto=function(){return this.field(Ta.emptyPath())},e.prototype.set=function(e,t){this.setOverlay(e,t)},e.prototype.setAll=function(e){var t=this;e.forEach((function(e,n){e?t.set(n,e):t.delete(n)}))},e.prototype.delete=function(e){this.setOverlay(e,null)},e.prototype.isEqual=function(e){return Ba(this.buildProto(),e.buildProto())},e.prototype.setOverlay=function(e,t){for(var n=this.overlayMap,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Ua(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(e.lastSegment(),t)},e.prototype.applyOverlay=function(t,n){var r=this,i=!1,o=e.extractNestedValue(this.partialValue,t),a=Ya(o)?Object.assign({},o.mapValue.fields):{};return n.forEach((function(e,n){if(e instanceof Map){var o=r.applyOverlay(t.child(n),e);null!=o&&(a[n]=o,i=!0)}else null!==e?(a[n]=e,i=!0):a.hasOwnProperty(n)&&(delete a[n],i=!0)})),i?{mapValue:{fields:a}}:null},e.prototype.buildProto=function(){var e=this.applyOverlay(Ta.emptyPath(),this.overlayMap);return null!=e&&(this.partialValue=e,this.overlayMap.clear()),this.partialValue},e.extractNestedValue=function(e,t){if(t.isEmpty())return e;for(var n=e,r=0;r<t.length-1;++r){if(!n.mapValue.fields)return null;if(!Ya(n=n.mapValue.fields[t.get(r)]))return null}return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.clone=function(){return new e(this.buildProto())},e}();function $a(e){var t=[];return wa(e.fields||{},(function(e,n){var r=new Ta([e]);if(Ya(n)){var i=$a(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++)t.push(r.child(a[o]))}else t.push(r)})),new Ia(t)}var es=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,ba.min(),Xa.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Xa.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Xa.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=Xa.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=Xa.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),ts=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function ns(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new ts(e,t,n,r,i,o,a)}function rs(e){var t=da(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Wa(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Fa(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=ys(t.startAt)),t.endAt&&(n+="|ub:",n+=ys(t.endAt)),t.h=n}return t.h}function is(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!ms(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if((i=e.filters[r]).op!==(o=t.filters[r]).op||!i.field.isEqual(o.field)||!Ba(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!bs(e.startAt,t.startAt)&&bs(e.endAt,t.endAt)}function os(e){return Va.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var as=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return Xo(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new ss(e,n,r):"array-contains"===n?new hs(e,r):"in"===n?new fs(e,r):"not-in"===n?new ds(e,r):"array-contains-any"===n?new ps(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new us(e,n):new cs(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(Ha(t,this.value)):null!==t&&Ua(this.value)===Ua(t)&&this.m(Ha(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ha()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),ss=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=Va.fromName(r.referenceValue),i}return Xo(t,e),t.prototype.matches=function(e){var t=Va.comparator(e.key,this.key);return this.m(t)},t}(as),us=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=ls(0,n),r}return Xo(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(as),cs=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=ls(0,n),r}return Xo(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(as);function ls(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Va.fromName(e.referenceValue)}))}var hs=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return Xo(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return Qa(t)&&qa(t.arrayValue,this.value)},t}(as),fs=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return Xo(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&qa(this.value.arrayValue,t)},t}(as),ds=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return Xo(t,e),t.prototype.matches=function(e){if(qa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!qa(this.value.arrayValue,t)},t}(as),ps=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return Xo(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!Qa(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return qa(t.value.arrayValue,e)}))},t}(as),vs=function(e,t){this.position=e,this.before=t};function ys(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return Wa(e)})).join(",")}var gs=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function ms(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function _s(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Va.comparator(Va.fromName(a.referenceValue),n.key):Ha(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function bs(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ba(e.position[n],t.position[n]))return!1;return!0}var Cs=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null};function ws(e,t,n,r,i,o,a,s){return new Cs(e,t,n,r,i,o,a,s)}function ks(e){return new Cs(e)}function Es(e){return!Fa(e.limit)&&"F"===e.limitType}function Ss(e){return!Fa(e.limit)&&"L"===e.limitType}function Os(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ts(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Is(e){return null!==e.collectionGroup}function Ds(e){var t=da(e);if(null===t.p){t.p=[];var n=Ts(t),r=Os(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new gs(n)),t.p.push(new gs(Ta.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new gs(Ta.keyField(),u))}}}return t.p}function As(e){var t=da(e);if(!t.T)if("F"===t.limitType)t.T=ns(t.path,t.collectionGroup,Ds(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Ds(t);r<i.length;r++){var o=i[r];n.push(new gs(o.field,"desc"===o.dir?"asc":"desc"))}var a=t.endAt?new vs(t.endAt.position,!t.endAt.before):null,s=t.startAt?new vs(t.startAt.position,!t.startAt.before):null;t.T=ns(t.path,t.collectionGroup,n,t.filters,t.limit,a,s)}return t.T}function xs(e,t,n){return new Cs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ps(e,t){return is(As(e),As(t))&&e.limitType===t.limitType}function Ns(e){return rs(As(e))+"|lt:"+e.limitType}function Rs(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+Wa(t.value);var t})).join(", ")+"]"),Fa(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+ys(e.startAt)),e.endAt&&(t+=", endAt: "+ys(e.endAt)),"Target("+t+")"}(As(e))+"; limitType="+e.limitType+")"}function js(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Va.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!_s(e.startAt,Ds(e),t)||e.endAt&&_s(e.endAt,Ds(e),t))}(e,t)}function Fs(e){return function(t,n){for(var r=!1,i=0,o=Ds(e);i<o.length;i++){var a=o[i],s=Ms(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Ms(e,t,n){var r=e.field.isKeyField()?Va.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ha(r,i):ha()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ha()}}function Ls(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ma(t)?"-0":t}}function Vs(e){return{integerValue:""+e}}function Us(e,t){return La(t)?Vs(t):Ls(e,t)}var Bs=function(){this._=void 0};function qs(e,t,n){return e instanceof Ws?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ks?Gs(e,t):e instanceof Qs?Zs(e,t):function(e,t){var n=zs(e,t),r=Ys(n)+Ys(e.A);return Ga(n)&&Ga(e.A)?Vs(r):Ls(e.R,r)}(e,t)}function Hs(e,t,n){return e instanceof Ks?Gs(e,t):e instanceof Qs?Zs(e,t):n}function zs(e,t){return e instanceof Js?Ga(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Ws=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Xo(t,e),t}(Bs),Ks=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Xo(t,e),t}(Bs);function Gs(e,t){for(var n=Xs(t),r=function(e){n.some((function(t){return Ba(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Qs=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Xo(t,e),t}(Bs);function Zs(e,t){for(var n=Xs(t),r=function(e){n=n.filter((function(t){return!Ba(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Js=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return Xo(t,e),t}(Bs);function Ys(e){return Pa(e.integerValue||e.doubleValue)}function Xs(e){return Qa(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var $s=function(e,t){this.field=e,this.transform=t},eu=function(e,t){this.version=e,this.transformResults=t},tu=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function nu(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ru=function(){};function iu(e,t,n){e instanceof cu?function(e,t,n){var r=e.value.clone(),i=fu(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof lu?function(e,t,n){if(nu(e.precondition,t)){var r=fu(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(hu(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ou(e,t,n){e instanceof cu?function(e,t,n){if(nu(e.precondition,t)){var r=e.value.clone(),i=du(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(uu(t),r).setHasLocalMutations()}}(e,t,n):e instanceof lu?function(e,t,n){if(nu(e.precondition,t)){var r=du(e.fieldTransforms,n,t),i=t.data;i.setAll(hu(e)),i.setAll(r),t.convertToFoundDocument(uu(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){nu(e.precondition,t)&&t.convertToNoDocument(ba.min())}(e,t)}function au(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=zs(o.transform,a||null);null!=s&&(null==n&&(n=Xa.empty()),n.set(o.field,s))}return n||null}function su(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ga(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ks&&t instanceof Ks||e instanceof Qs&&t instanceof Qs?ga(e.elements,t.elements,Ba):e instanceof Js&&t instanceof Js?Ba(e.A,t.A):e instanceof Ws&&t instanceof Ws}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function uu(e){return e.isFoundDocument()?e.version:ba.min()}var cu=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Xo(t,e),t}(ru),lu=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Xo(t,e),t}(ru);function hu(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function fu(e,t,n){var r=new Map;fa(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,Hs(a,s,n[i]))}return r}function du(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,qs(s,u,t))}return r}var pu,vu,yu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Xo(t,e),t}(ru),gu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Xo(t,e),t}(ru),mu=function(e){this.count=e};function _u(e){switch(e){case ra.OK:return ha();case ra.CANCELLED:case ra.UNKNOWN:case ra.DEADLINE_EXCEEDED:case ra.RESOURCE_EXHAUSTED:case ra.INTERNAL:case ra.UNAVAILABLE:case ra.UNAUTHENTICATED:return!1;case ra.INVALID_ARGUMENT:case ra.NOT_FOUND:case ra.ALREADY_EXISTS:case ra.PERMISSION_DENIED:case ra.FAILED_PRECONDITION:case ra.ABORTED:case ra.OUT_OF_RANGE:case ra.UNIMPLEMENTED:case ra.DATA_LOSS:return!0;default:return ha()}}function bu(e){if(void 0===e)return ua("GRPC error has no .code"),ra.UNKNOWN;switch(e){case pu.OK:return ra.OK;case pu.CANCELLED:return ra.CANCELLED;case pu.UNKNOWN:return ra.UNKNOWN;case pu.DEADLINE_EXCEEDED:return ra.DEADLINE_EXCEEDED;case pu.RESOURCE_EXHAUSTED:return ra.RESOURCE_EXHAUSTED;case pu.INTERNAL:return ra.INTERNAL;case pu.UNAVAILABLE:return ra.UNAVAILABLE;case pu.UNAUTHENTICATED:return ra.UNAUTHENTICATED;case pu.INVALID_ARGUMENT:return ra.INVALID_ARGUMENT;case pu.NOT_FOUND:return ra.NOT_FOUND;case pu.ALREADY_EXISTS:return ra.ALREADY_EXISTS;case pu.PERMISSION_DENIED:return ra.PERMISSION_DENIED;case pu.FAILED_PRECONDITION:return ra.FAILED_PRECONDITION;case pu.ABORTED:return ra.ABORTED;case pu.OUT_OF_RANGE:return ra.OUT_OF_RANGE;case pu.UNIMPLEMENTED:return ra.UNIMPLEMENTED;case pu.DATA_LOSS:return ra.DATA_LOSS;default:return ha()}}(vu=pu||(pu={}))[vu.OK=0]="OK",vu[vu.CANCELLED=1]="CANCELLED",vu[vu.UNKNOWN=2]="UNKNOWN",vu[vu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vu[vu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vu[vu.NOT_FOUND=5]="NOT_FOUND",vu[vu.ALREADY_EXISTS=6]="ALREADY_EXISTS",vu[vu.PERMISSION_DENIED=7]="PERMISSION_DENIED",vu[vu.UNAUTHENTICATED=16]="UNAUTHENTICATED",vu[vu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vu[vu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vu[vu.ABORTED=10]="ABORTED",vu[vu.OUT_OF_RANGE=11]="OUT_OF_RANGE",vu[vu.UNIMPLEMENTED=12]="UNIMPLEMENTED",vu[vu.INTERNAL=13]="INTERNAL",vu[vu.UNAVAILABLE=14]="UNAVAILABLE",vu[vu.DATA_LOSS=15]="DATA_LOSS";var Cu=function(){function e(e,t){this.comparator=e,this.root=t||ku.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ku.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ku.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new wu(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new wu(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new wu(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new wu(this.root,e,this.comparator,!0)},e}(),wu=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),ku=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw ha();if(this.right.isRed())throw ha();var e=this.left.check();if(e!==this.right.check())throw ha();return e+(this.isRed()?0:1)},e}();ku.EMPTY=null,ku.RED=!0,ku.BLACK=!1,ku.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw ha()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw ha()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw ha()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw ha()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw ha()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new ku(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var Eu=function(){function e(e){this.comparator=e,this.data=new Cu(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Su(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Su(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Su=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Ou=new Cu(Va.comparator);function Tu(){return Ou}var Iu=new Cu(Va.comparator);function Du(){return Iu}var Au=new Cu(Va.comparator);function xu(){return Au}var Pu=new Eu(Va.comparator);function Nu(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Pu,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Ru=new Eu(ya);function ju(){return Ru}var Fu=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Mu.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ba.min(),r,ju(),Tu(),Nu())},e}(),Mu=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Da.EMPTY_BYTE_STRING,n,Nu(),Nu(),Nu())},e}(),Lu=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},Vu=function(e,t){this.targetId=e,this.V=t},Uu=function(e,t,n,r){void 0===n&&(n=Da.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Bu=function(){function e(){this.S=0,this.D=zu(),this.C=Da.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.$=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},e.prototype.M=function(){var e=Nu(),t=Nu(),n=Nu();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ha()}})),new Mu(this.C,this.N,e,t,n)},e.prototype.L=function(){this.F=!1,this.D=zu()},e.prototype.B=function(e,t){this.F=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),qu=function(){function e(e){this.W=e,this.G=new Map,this.H=Tu(),this.J=Hu(),this.Y=new Eu(ya)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)this.tt(r=o[i],e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.$(e.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(e.resumeToken);break;case 2:r.K(),r.k||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.$(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.$(e.resumeToken));break;default:ha()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(os(i))if(0===n){var o=new Va(i.path);this.tt(t,o,es.newNoDocument(o,ba.min()))}else fa(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&os(o.target)){var a=new Va(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,es.newNoDocument(a,e))}r.O&&(n.set(i,r.M()),r.L())}}));var r=Nu();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Fu(e,n,this.Y,this.H,r);return this.H=Tu(),this.J=Hu(),this.Y=new Eu(ya),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new Bu,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new Eu(ya),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||sa("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.k?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new Bu),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function Hu(){return new Cu(Va.comparator)}function zu(){return new Cu(Va.comparator)}var Wu={asc:"ASCENDING",desc:"DESCENDING"},Ku={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gu=function(e,t){this.databaseId=e,this.I=t};function Qu(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Zu(e,t){return e.I?t.toBase64():t.toUint8Array()}function Ju(e,t){return Qu(e,t.toTimestamp())}function Yu(e){return fa(!!e),ba.fromTimestamp(function(e){var t=xa(e);return new _a(t.seconds,t.nanos)}(e))}function Xu(e,t){return function(e){return new Sa(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function $u(e){var t=Sa.fromString(e);return fa(wc(t)),t}function ec(e,t){return Xu(e.databaseId,t.path)}function tc(e,t){var n=$u(t);if(n.get(1)!==e.databaseId.projectId)throw new ia(ra.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ia(ra.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Va(oc(n))}function nc(e,t){return Xu(e.databaseId,t)}function rc(e){var t=$u(e);return 4===t.length?Sa.emptyPath():oc(t)}function ic(e){return new Sa(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function oc(e){return fa(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ac(e,t,n){return{name:ec(e,t),fields:n.toProto().mapValue.fields}}function sc(e,t,n){var r=tc(e,t.name),i=Yu(t.updateTime),o=new Xa({mapValue:{fields:t.fields}}),a=es.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function uc(e,t){var n;if(t instanceof cu)n={update:ac(e,t.key,t.value)};else if(t instanceof yu)n={delete:ec(e,t.key)};else if(t instanceof lu)n={update:ac(e,t.key,t.data),updateMask:Cc(t.fieldMask)};else{if(!(t instanceof gu))return ha();n={verify:ec(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Ws)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ks)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Qs)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Js)return{fieldPath:t.field.canonicalString(),increment:n.A};throw ha()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ju(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ha()}(e,t.precondition)),n}function cc(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?tu.updateTime(Yu(e.updateTime)):void 0!==e.exists?tu.exists(e.exists):tu.none()}(t.currentDocument):tu.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;"setToServerValue"in t?(fa("REQUEST_TIME"===t.setToServerValue),n=new Ws):"appendMissingElements"in t?n=new Ks(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new Qs(t.removeAllFromArray.values||[]):"increment"in t?n=new Js(e,t.increment):ha();var r=Ta.fromServerFormat(t.fieldPath);return new $s(r,n)}(e,t)})):[];if(t.update){var i=tc(e,t.update.name),o=new Xa({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){return new Ia((e.fieldPaths||[]).map((function(e){return Ta.fromServerFormat(e)})))}(t.updateMask);return new lu(i,o,a,n,r)}return new cu(i,o,n,r)}if(t.delete){var s=tc(e,t.delete);return new yu(s,n)}if(t.verify){var u=tc(e,t.verify);return new gu(u,n)}return ha()}function lc(e,t){return{documents:[nc(e,t.path)]}}function hc(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=nc(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=nc(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Ja(e.value))return{unaryFilter:{field:gc(e.field),op:"IS_NAN"}};if(Za(e.value))return{unaryFilter:{field:gc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ja(e.value))return{unaryFilter:{field:gc(e.field),op:"IS_NOT_NAN"}};if(Za(e.value))return{unaryFilter:{field:gc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gc(e.field),op:yc(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:gc(e.field),direction:vc(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||Fa(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=dc(t.startAt)),t.endAt&&(n.structuredQuery.endAt=dc(t.endAt)),n}function fc(e){var t=rc(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){fa(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=function e(t){return t?void 0!==t.unaryFilter?[bc(t)]:void 0!==t.fieldFilter?[_c(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e(t)})).reduce((function(e,t){return e.concat(t)})):ha():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new gs(mc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Fa(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=pc(n.startAt));var l=null;return n.endAt&&(l=pc(n.endAt)),ws(t,i,s,a,u,"F",c,l)}function dc(e){return{before:e.before,values:e.position}}function pc(e){return new vs(e.values||[],!!e.before)}function vc(e){return Wu[e]}function yc(e){return Ku[e]}function gc(e){return{fieldPath:e.canonicalString()}}function mc(e){return Ta.fromServerFormat(e.fieldPath)}function _c(e){return as.create(mc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ha()}}(e.fieldFilter.op),e.fieldFilter.value)}function bc(e){switch(e.unaryFilter.op){case"IS_NAN":var t=mc(e.unaryFilter.field);return as.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=mc(e.unaryFilter.field);return as.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=mc(e.unaryFilter.field);return as.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=mc(e.unaryFilter.field);return as.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ha()}}function Cc(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function wc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function kc(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Sc(t)),t=Ec(e.get(n),t);return Sc(t)}function Ec(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Sc(e){return e+"\x01\x01"}function Oc(e){var t=e.length;if(fa(t>=2),2===t)return fa("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Sa.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&ha(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:ha()}o=a+2}return new Sa(r)}var Tc=function(e,t){this.seconds=e,this.nanoseconds=t},Ic=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Ic.store="owner",Ic.key="owner";var Dc=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Dc.store="mutationQueues",Dc.keyPath="userId";var Ac=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Ac.store="mutations",Ac.keyPath="batchId",Ac.userMutationsIndex="userMutationsIndex",Ac.userMutationsKeyPath=["userId","batchId"];var xc=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,kc(t)]},e.key=function(e,t,n){return[e,kc(t),n]},e}();xc.store="documentMutations",xc.PLACEHOLDER=new xc;var Pc=function(e,t){this.path=e,this.readTime=t},Nc=function(e,t){this.path=e,this.version=t},Rc=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Rc.store="remoteDocuments",Rc.readTimeIndex="readTimeIndex",Rc.readTimeIndexPath="readTime",Rc.collectionReadTimeIndex="collectionReadTimeIndex",Rc.collectionReadTimeIndexPath=["parentPath","readTime"];var jc=function(e){this.byteSize=e};jc.store="remoteDocumentGlobal",jc.key="remoteDocumentGlobalKey";var Fc=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Fc.store="targets",Fc.keyPath="targetId",Fc.queryTargetsIndexName="queryTargetsIndex",Fc.queryTargetsKeyPath=["canonicalId","targetId"];var Mc=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Mc.store="targetDocuments",Mc.keyPath=["targetId","path"],Mc.documentTargetsIndex="documentTargetsIndex",Mc.documentTargetsKeyPath=["path","targetId"];var Lc=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Lc.key="targetGlobalKey",Lc.store="targetGlobal";var Vc=function(e,t){this.collectionId=e,this.parent=t};Vc.store="collectionParents",Vc.keyPath=["collectionId","parent"];var Uc=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Uc.store="clientMetadata",Uc.keyPath="clientId";var Bc=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Bc.store="bundles",Bc.keyPath="bundleId";var qc=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};qc.store="namedQueries",qc.keyPath="name";var Hc=ta(ta([],ta(ta([],ta(ta([],ta(ta([],[Dc.store,Ac.store,xc.store,Rc.store,Fc.store,Ic.store,Lc.store,Mc.store]),[Uc.store])),[jc.store])),[Vc.store])),[Bc.store,qc.store]),zc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Wc=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),Kc=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},Gc=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&ha(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),Qc=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Kc,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new Yc(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=nl(t.target.error);n.ft.reject(new Yc(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Yc(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(sa("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new $c(t)},e}(),Zc=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t(Object(Qt.n)())&&ua("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return sa("SimpleDb","Removing database:",e),el(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=Object(Qt.n)(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return $o(this,void 0,void 0,(function(){var t,n=this;return ea(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(sa("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){t(e.target.result)},i.onblocked=function(){r(new Yc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;r("VersionError"===n.name?new ia(ra.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Yc(e,n))},i.onupgradeneeded=function(e){sa("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion),n.wt.Rt(e.target.result,i.transaction,e.oldVersion,n.version).next((function(){sa("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return $o(this,void 0,void 0,(function(){var i,o,a,s,u;return ea(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return ea(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=h.sent(),t=Qc.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),Gc.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return sa("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),Jc=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return el(this.Pt.delete())},e}(),Yc=function(e){function t(t,n){var r=this;return(r=e.call(this,ra.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Xo(t,e),t}(ia);function Xc(e){return"IndexedDbTransactionError"===e.name}var $c=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(sa("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(sa("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),el(n)},e.prototype.add=function(e){return sa("SimpleDb","ADD",this.store.name,e,e),el(this.store.add(e))},e.prototype.get=function(e){var t=this;return el(this.store.get(e)).next((function(n){return void 0===n&&(n=null),sa("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return sa("SimpleDb","DELETE",this.store.name,e),el(this.store.delete(e))},e.prototype.count=function(){return sa("SimpleDb","COUNT",this.store.name),el(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Ft=function(e,t){sa("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.Ot=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.$t=function(e){var t=this.cursor({});return new Gc((function(n,r){t.onerror=function(e){var t=nl(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new Gc((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new Jc(i),a=t(i.primaryKey,i.value,o);if(a instanceof Gc){var s=a.catch((function(e){return o.done(),Gc.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Gc.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function el(e){return new Gc((function(t,n){e.onsuccess=function(e){t(e.target.result)},e.onerror=function(e){var t=nl(e.target.error);n(t)}}))}var tl=!1;function nl(e){var t=Zc._t(Object(Qt.n)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new ia("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return tl||(tl=!0,setTimeout((function(){throw r}),0)),r}}return e}var rl=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return Xo(t,e),t}(Wc);function il(e,t){var n=da(e);return Zc.It(n.Mt,t)}var ol=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&iu(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&ou(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&ou(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ba.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Nu())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&ga(this.mutations,e.mutations,(function(e,t){return su(e,t)}))&&ga(this.baseMutations,e.baseMutations,(function(e,t){return su(e,t)}))},e}(),al=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){fa(t.mutations.length===r.length);for(var i=xu(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),sl=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=ba.min()),void 0===o&&(o=ba.min()),void 0===a&&(a=Da.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),ul=function(e){this.Lt=e};function cl(e,t){if(t.document)return sc(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Va.fromSegments(t.noDocument.path),r=pl(t.noDocument.readTime),i=es.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=Va.fromSegments(t.unknownDocument.path);return r=pl(t.unknownDocument.version),es.newUnknownDocument(o,r)}return ha()}function ll(e,t,n){var r=hl(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:ec(e,t.key),fields:t.data.toProto().mapValue.fields,updateTime:Qu(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Rc(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=dl(t.version);return a=t.hasCommittedMutations,new Rc(null,new Pc(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=dl(t.version);return new Rc(new Nc(c,l),null,null,!0,r,i)}return ha()}function hl(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function fl(e){var t=new _a(e[0],e[1]);return ba.fromTimestamp(t)}function dl(e){var t=e.toTimestamp();return new Tc(t.seconds,t.nanoseconds)}function pl(e){var t=new _a(e.seconds,e.nanoseconds);return ba.fromTimestamp(t)}function vl(e,t){for(var n=(t.baseMutations||[]).map((function(t){return cc(e.Lt,t)})),r=0;r<t.mutations.length-1;++r)r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform&&(t.mutations[r].updateTransforms=t.mutations[r+1].transform.fieldTransforms,t.mutations.splice(r+1,1),++r);var i=t.mutations.map((function(t){return cc(e.Lt,t)})),o=_a.fromMillis(t.localWriteTimeMs);return new ol(t.batchId,o,n,i)}function yl(e){var t,n,r=pl(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?pl(e.lastLimboFreeSnapshotVersion):ba.min();return void 0!==e.query.documents?(fa(1===(n=e.query).documents.length),t=As(ks(rc(n.documents[0])))):t=function(e){return As(fc(e))}(e.query),new sl(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Da.fromBase64String(e.resumeToken))}function gl(e,t){var n,r=dl(t.snapshotVersion),i=dl(t.lastLimboFreeSnapshotVersion);n=os(t.target)?lc(e.Lt,t.target):hc(e.Lt,t.target);var o=t.resumeToken.toBase64();return new Fc(t.targetId,rs(t.target),r,o,t.sequenceNumber,i,n)}function ml(e){var t=fc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?xs(t,t.limit,"L"):t}var _l=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return bl(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:pl(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return bl(e).put({bundleId:(n=t).id,createTime:dl(Yu(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Cl(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:ml(t.bundledQuery),readTime:pl(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Cl(e).put(function(e){return{name:e.name,readTime:dl(Yu(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function bl(e){return il(e,Bc.store)}function Cl(e){return il(e,qc.store)}var wl=function(){function e(){this.Bt=new kl}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),Gc.resolve()},e.prototype.getCollectionParents=function(e,t){return Gc.resolve(this.Bt.getEntries(t))},e}(),kl=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Eu(Sa.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Eu(Sa.comparator)).toArray()},e}(),El=function(){function e(){this.qt=new kl}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:kc(i)};return Sl(e).put(o)}return Gc.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[ma(t),""],!1,!0);return Sl(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Oc(o.parent))}return n}))},e}();function Sl(e){return il(e,Vc.store)}var Ol={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Tl=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function Il(e,t,n){var r=e.store(Ac.store),i=e.store(xc.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.Ot({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){fa(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=xc.key(t,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Gc.waitFor(o).next((function(){return c}))}function Dl(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ha();t=e.noDocument}return JSON.stringify(t).length}Tl.DEFAULT_COLLECTION_PERCENTILE=10,Tl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tl.DEFAULT=new Tl(41943040,Tl.DEFAULT_COLLECTION_PERCENTILE,Tl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tl.DISABLED=new Tl(-1,0,0);var Al=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return e.Kt=function(t,n,r,i){return fa(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Pl(e).Ot({index:Ac.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=Nl(e),a=Pl(e);return a.add({}).next((function(s){fa("number"==typeof s);for(var u=new ol(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return uc(e.Lt,t)})),i=n.mutations.map((function(t){return uc(e.Lt,t)}));return new Ac(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Eu((function(e,t){return ya(e.canonicalString(),t.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],v=xc.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,xc.PLACEHOLDER))}return h.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Qt[s]=u.keys()})),Gc.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Pl(e).get(t).next((function(e){return e?(fa(e.userId===n.userId),vl(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Qt[t]?Gc.resolve(this.Qt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Qt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Pl(e).Ot({index:Ac.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(fa(t.batchId>=r),o=vl(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Pl(e).Ot({index:Ac.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Pl(e).Nt(Ac.userMutationsIndex,n).next((function(e){return e.map((function(e){return vl(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=xc.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Nl(e).Ot({range:i},(function(r,i,a){var s=r[0],u=r[2],c=Oc(r[1]);if(s===n.userId&&t.path.isEqual(c))return Pl(e).get(u).next((function(e){if(!e)throw ha();fa(e.userId===n.userId),o.push(vl(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Eu(ya),i=[];return t.forEach((function(t){var o=xc.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=Nl(e).Ot({range:a},(function(e,i,o){var a=e[0],s=e[2],u=Oc(e[1]);a===n.userId&&t.path.isEqual(u)?r=r.add(s):o.done()}));i.push(s)})),Gc.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=xc.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Eu(ya);return Nl(e).Ot({range:a},(function(e,t,o){var a=e[0],u=e[2],c=Oc(e[1]);a===n.userId&&r.isPrefixOf(c)?c.length===i&&(s=s.add(u)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Pl(e).get(t).next((function(e){if(null===e)throw ha();fa(e.userId===n.userId),r.push(vl(n.R,e))})))})),Gc.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return Il(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),Gc.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Qt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Gc.resolve();var r=IDBKeyRange.lowerBound(xc.prefixForUser(t.userId)),i=[];return Nl(e).Ot({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Oc(e[1]);i.push(o)}else r.done()})).next((function(){fa(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return xl(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return Rl(e).get(this.userId).next((function(e){return e||new Dc(t.userId,-1,"")}))},e}();function xl(e,t,n){var r=xc.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Nl(e).Ot({range:o,kt:!0},(function(e,n,r){e[0]===t&&e[1]===i&&(a=!0),r.done()})).next((function(){return a}))}function Pl(e){return il(e,Ac.store)}function Nl(e){return il(e,xc.store)}function Rl(e){return il(e,Dc.store)}var jl=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),Fl=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new jl(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return ba.fromTimestamp(new _a(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Ml(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return fa(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return Ml(e).Ot((function(a,s){var u=yl(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return Gc.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return Ml(e).Ot((function(e,n){var r=yl(n);t(r)}))},e.prototype.Xt=function(e){return Ll(e).get(Lc.key).next((function(e){return fa(null!==e),e}))},e.prototype.Zt=function(e,t){return Ll(e).put(Lc.key,t)},e.prototype.te=function(e,t){return Ml(e).put(gl(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=rs(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Ml(e).Ot({range:r,index:Fc.queryTargetsIndexName},(function(e,n,r){var o=yl(n);is(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=Vl(e);return t.forEach((function(t){var a=kc(t.path);i.push(o.put(new Mc(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),Gc.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=Vl(e);return Gc.forEach(t,(function(t){var o=kc(t.path);return Gc.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=Vl(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Vl(e),i=Nu();return r.Ot({range:n,kt:!0},(function(e,t,n){var r=Oc(e[1]),o=new Va(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=kc(t.path),r=IDBKeyRange.bound([n],[ma(n)],!1,!0),i=0;return Vl(e).Ot({index:Mc.documentTargetsIndex,kt:!0,range:r},(function(e,t,n){0!==e[0]&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return Ml(e).get(t).next((function(e){return e?yl(e):null}))},e}();function Ml(e){return il(e,Fc.store)}function Ll(e){return il(e,Lc.store)}function Vl(e){return il(e,Mc.store)}function Ul(e){return $o(this,void 0,void 0,(function(){return ea(this,(function(t){if(e.code!==ra.FAILED_PRECONDITION||e.message!==zc)throw e;return sa("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function Bl(e,t){var n=e[1],r=t[1],i=ya(e[0],t[0]);return 0===i?ya(n,r):i}var ql=function(){function e(e){this.ne=e,this.buffer=new Eu(Bl),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Bl(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Hl=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;sa("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return $o(t,void 0,void 0,(function(){var t;return ea(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Xc(t=n.sent())?(sa("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Ul(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),zl=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Gc.resolve(na.o);var r=new ql(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(sa("LruGarbageCollector","Garbage collection skipped; disabled"),Gc.resolve(Ol)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(sa("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Ol):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(sa("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),aa()<=Zt.a.DEBUG&&sa("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Gc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),Wl=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new zl(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return Kl(e,n)},e.prototype.removeReference=function(e,t,n){return Kl(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return Kl(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return Rl(e).$t((function(r){return xl(e,r,t).next((function(e){return e&&(n=!0),Gc.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),Vl(e).delete([0,kc(a.path)])}))}));i.push(u)}})).next((function(){return Gc.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Kl(e,t)},e.prototype.we=function(e,t){var n,r=Vl(e),i=na.o;return r.Ot({index:Mc.documentTargetsIndex},(function(e,r){var o=r.path,a=r.sequenceNumber;0===e[0]?(i!==na.o&&t(new Va(Oc(n)),i),i=a,n=o):i=na.o})).next((function(){i!==na.o&&t(new Va(Oc(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Kl(e,t){return Vl(e).put(function(e,t){return new Mc(0,kc(e.path),t)}(t,e.currentSequenceNumber))}var Gl=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.equalsFn(o[0],e))return a}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){wa(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];e(o[0],o[1])}}))},e.prototype.isEmpty=function(){return ka(this.inner)},e}(),Ql=function(){function e(){this.changes=new Gl((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:ba.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:es.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Gc.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),Zl=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return Xl(e).put($l(t),n)},e.prototype.removeEntry=function(e,t){var n=Xl(e),r=$l(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return Xl(e).get($l(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return Xl(e).get($l(t)).next((function(e){return{document:n.ye(t,e),size:Dl(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=Tu();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=Tu(),i=new Cu(Va.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,Dl(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return Gc.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return Xl(e).Ot({range:r},(function(e,t,r){for(var a=Va.fromSegments(e);o&&Va.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=Tu(),o=t.path.length+1,a={};if(n.isEqual(ba.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=hl(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Rc.collectionReadTimeIndex}return Xl(e).Ot(a,(function(e,n,a){if(e.length===o){var s=cl(r.R,n);t.path.isPrefixOf(s.key.path)?js(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new Jl(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return Yl(e).get(jc.key).next((function(e){return fa(!!e),e}))},e.prototype.me=function(e,t){return Yl(e).put(jc.key,t)},e.prototype.ye=function(e,t){if(t){var n=cl(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(ba.min()))return n}return es.newInvalidDocument(e)},e}(),Jl=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new Gl((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return Xo(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Eu((function(e,t){return ya(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=ll(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=Dl(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=ll(t.Ie.R,es.newNoDocument(o,ba.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),Gc.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(Ql);function Yl(e){return il(e,jc.store)}function Xl(e){return il(e,Rc.store)}function $l(e){return e.path.toArray()}var eh=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;fa(n<r&&n>=0&&r<=11);var o=new Qc("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Ic.store)}(e),function(e){e.createObjectStore(Dc.store,{keyPath:Dc.keyPath}),e.createObjectStore(Ac.store,{keyPath:Ac.keyPath,autoIncrement:!0}).createIndex(Ac.userMutationsIndex,Ac.userMutationsKeyPath,{unique:!0}),e.createObjectStore(xc.store)}(e),th(e),function(e){e.createObjectStore(Rc.store)}(e));var a=Gc.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Mc.store),e.deleteObjectStore(Fc.store),e.deleteObjectStore(Lc.store)}(e),th(e)),a=a.next((function(){return function(e){var t=e.store(Lc.store),n=new Lc(0,0,ba.min().toTimestamp(),0);return t.put(Lc.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(Ac.store).Nt().next((function(n){e.deleteObjectStore(Ac.store),e.createObjectStore(Ac.store,{keyPath:Ac.keyPath,autoIncrement:!0}).createIndex(Ac.userMutationsIndex,Ac.userMutationsKeyPath,{unique:!0});var r=t.store(Ac.store),i=n.map((function(e){return r.put(e)}));return Gc.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(Uc.store,{keyPath:Uc.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(jc.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Rc.store);t.createIndex(Rc.readTimeIndex,Rc.readTimeIndexPath,{unique:!1}),t.createIndex(Rc.collectionReadTimeIndex,Rc.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(Bc.store,{keyPath:Bc.keyPath})}(e),function(e){e.createObjectStore(qc.store,{keyPath:qc.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(Rc.store).Ot((function(e,n){t+=Dl(n)})).next((function(){var n=new jc(t);return e.store(jc.store).put(jc.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(Dc.store),r=e.store(Ac.store);return n.Nt().next((function(n){return Gc.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Ac.userMutationsIndex,i).next((function(r){return Gc.forEach(r,(function(r){fa(r.userId===n.userId);var i=vl(t.R,r);return Il(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(Mc.store),n=e.store(Rc.store);return e.store(Lc.store).get(Lc.key).next((function(e){var r=[];return n.Ot((function(n,i){var o=new Sa(n),a=function(e){return[0,kc(e)]}(o);r.push(t.get(a).next((function(n){return n?Gc.resolve():function(n){return t.put(new Mc(0,kc(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return Gc.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(Vc.store,{keyPath:Vc.keyPath});var n=t.store(Vc.store),r=new kl,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:kc(i)})}};return t.store(Rc.store).Ot({kt:!0},(function(e,t){var n=new Sa(e);return i(n.popLast())})).next((function(){return t.store(xc.store).Ot({kt:!0},(function(e,t){var n=Oc(e[1]);return i(n.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(Fc.store);return n.Ot((function(e,r){var i=yl(r),o=gl(t.R,i);return n.put(o)}))},e}();function th(e){e.createObjectStore(Mc.store,{keyPath:Mc.keyPath}).createIndex(Mc.documentTargetsIndex,Mc.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Fc.store,{keyPath:Fc.keyPath}).createIndex(Fc.queryTargetsIndexName,Fc.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Lc.store)}var nh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",rh=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new ia(ra.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Wl(this,i),this.Le=n+"main",this.R=new ul(u),this.Be=new Zc(this.Le,11,new eh(this.R)),this.qe=new Fl(this.referenceDelegate,this.R),this.Ut=new El,this.Ue=function(e,t){return new Zl(e,t)}(this.R,this.Ut),this.Qe=new _l,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&ua("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new ia(ra.FAILED_PRECONDITION,nh);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new na(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return $o(t,void 0,void 0,(function(){return ea(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return $o(t,void 0,void 0,(function(){return ea(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return $o(t,void 0,void 0,(function(){return ea(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return oh(t).put(new Uc(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(Xc(t))return sa("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return sa("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return ih(e).get(Ic.key).next((function(e){return Gc.resolve(t.tn(e))}))},e.prototype.en=function(e){return oh(e).delete(this.clientId)},e.prototype.nn=function(){return $o(this,void 0,void 0,(function(){var e,t,n,r=this;return ea(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=il(e,Uc.store);return t.Nt().next((function(e){var n=r.rn(e,18e5),i=e.filter((function(e){return-1===n.indexOf(e)}));return Gc.forEach(i,(function(e){return t.delete(e.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(e=i.sent(),this.Ke)for(t=0,n=e;t<n.length;t++)this.Ke.removeItem(this.on(n[t].clientId));i.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?Gc.resolve(!0):ih(e).get(Ic.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new ia(ra.FAILED_PRECONDITION,nh);return!1}}return!(!t.networkEnabled||!t.inForeground)||oh(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){return!(t.clientId===e.clientId||!(!t.networkEnabled&&e.networkEnabled||!t.inForeground&&e.inForeground&&t.networkEnabled===e.networkEnabled))}))}))})).next((function(e){return t.isPrimary!==e&&sa("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return $o(this,void 0,void 0,(function(){var e=this;return ea(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Ic.store,Uc.store],(function(t){var n=new rl(t,na.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return oh(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return Al.Kt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(e,t,n){var r,i=this;return sa("IndexedDbPersistence","Starting transaction:",e),this.Be.runTransaction(e,"readonly"===t?"readonly":"readwrite",Hc,(function(o){return r=new rl(o,i.Ne?i.Ne.next():na.o),"readwrite-primary"===t?i.Je(r).next((function(e){return!!e||i.Ye(r)})).next((function(t){if(!t)throw ua("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Se.enqueueRetryable((function(){return i.Me(!1)})),new ia(ra.FAILED_PRECONDITION,zc);return n(r)})).next((function(e){return i.Ze(r).next((function(){return e}))})):i.dn(r).next((function(){return n(r)}))})).then((function(e){return r.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return ih(e).get(Ic.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new ia(ra.FAILED_PRECONDITION,nh)}))},e.prototype.Ze=function(e){var t=new Ic(this.clientId,this.allowTabSynchronization,Date.now());return ih(e).put(Ic.key,t)},e.yt=function(){return Zc.yt()},e.prototype.Xe=function(e){var t=this,n=ih(e);return n.get(Ic.key).next((function(e){return t.tn(e)?(sa("IndexedDbPersistence","Releasing primary lease."),n.delete(Ic.key)):Gc.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(ua("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){t.un(),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Ke)||void 0===t?void 0:t.getItem(this.on(e)));return sa("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return ua("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(e){ua("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function ih(e){return il(e,Ic.store)}function oh(e){return il(e,Uc.store)}function ah(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var sh=function(e,t){this.progress=e,this.wn=t},uh=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return Va.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):Is(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new Va(t)).next((function(e){var t=Du();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=Du();return this.Ut.getCollectionParents(e,i).next((function(a){return Gc.forEach(a,(function(a){var s=function(e,t){return new Cs(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return o.Rn(e,i=t,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=es.newInvalidDocument(c),r=r.insert(c,l)),ou(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){js(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=Nu(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof lu&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),ch=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=Nu(),i=Nu(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),lh=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(ba.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(Es(t)||Ss(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(aa()<=Zt.a.DEBUG&&sa("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Rs(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new Eu(Fs(e));return t.forEach((function(t,r){js(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return aa()<=Zt.a.DEBUG&&sa("QueryEngine","Using full collection scan to execute query:",Rs(t)),this.Sn.getDocumentsMatchingQuery(e,t,ba.min())},e}(),hh=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.Fn=new Cu(ya),this.kn=new Gl((function(e){return rs(e)}),is),this.On=ba.min(),this._n=e.getMutationQueue(n),this.$n=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new uh(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Fn)}))},e}();function fh(e,t,n,r){return new hh(e,t,n,r)}function dh(e,t){return $o(this,void 0,void 0,(function(){var n,r,i,o;return ea(this,(function(a){switch(a.label){case 0:return n=da(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new uh(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=Nu(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)a=a.add(h[l].key)}for(var f=0,d=t;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var v=0,y=p.mutations;v<y.length;v++)a=a.add(y[v].key)}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function ph(e,t){var n=da(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=Gc.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);fa(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function vh(e){var t=da(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function yh(e,t){var n=da(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return fa(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var s=Tu();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(gh(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(ba.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return Gc.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.Fn=i,e}))}function gh(e,t,n,r,i){var o=Nu();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=Tu();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(ba.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):sa("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function mh(e,t){var n=da(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function _h(e,t){var n=da(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?Gc.resolve(r=i):n.qe.allocateTargetId(e).next((function(i){return r=new sl(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Fn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(e.targetId,e),n.kn.set(t,e.targetId)),e}))}function bh(e,t,n){return $o(this,void 0,void 0,(function(){var r,i,o,a;return ea(this,(function(s){switch(s.label){case 0:r=da(e),i=r.Fn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Xc(a=s.sent()))throw a;return sa("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}}))}))}function Ch(e,t,n){var r=da(e),i=ba.min(),o=Nu();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=da(e),i=r.kn.get(n);return void 0!==i?Gc.resolve(r.Fn.get(i)):r.qe.getTargetData(t,n)}(r,e,As(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:ba.min(),n?o:Nu())})).next((function(e){return{documents:e,Bn:o}}))}))}function wh(e,t){var n=da(e),r=da(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function kh(e){var t=da(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=da(e),i=Tu(),o=hl(n),a=Xl(t),s=IDBKeyRange.lowerBound(o,!0);return a.Ot({index:Rc.readTimeIndex,range:s},(function(e,t){var n=cl(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:fl(o)}}))}(t.$n,e,t.On)})).then((function(e){var n=e.wn;return t.On=e.readTime,n}))}function Eh(e){return $o(this,void 0,void 0,(function(){var t;return ea(this,(function(n){return[2,(t=da(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Xl(e),n=ba.min();return t.Ot({index:Rc.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=fl(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.On=e}))]}))}))}function Sh(e,t,n,r){return $o(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,d;return ea(this,(function(p){switch(p.label){case 0:for(i=da(e),o=Nu(),a=Tu(),s=xu(),u=0,c=n;u<c.length;u++)h=t.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,t.Un(l)),s=s.insert(h,t.Qn(l.metadata.readTime));return f=i.$n.newChangeBuffer({trackRemovals:!0}),[4,_h(i,function(e){return As(ks(Sa.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return gh(e,f,a,ba.min(),s).next((function(t){return f.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function Oh(e,t,n){return void 0===n&&(n=Nu()),$o(this,void 0,void 0,(function(){var r,i;return ea(this,(function(o){switch(o.label){case 0:return[4,_h(e,As(ml(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=da(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=Yu(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(e,t);var a=r.withResumeToken(Da.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Qe.saveNamedQuery(e,t)}))}))]}}))}))}var Th=function(){function e(e){this.R=e,this.Kn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return Gc.resolve(this.Kn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Kn.set(t.id,{id:(n=t).id,version:n.version,createTime:Yu(n.createTime)}),Gc.resolve()},e.prototype.getNamedQuery=function(e,t){return Gc.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:ml(e.bundledQuery),readTime:Yu(e.readTime)}}(t)),Gc.resolve()},e}(),Ih=function(){function e(){this.Wn=new Eu(Dh.Gn),this.zn=new Eu(Dh.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new Dh(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new Dh(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new Va(new Sa([])),r=new Dh(n,e),i=new Dh(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new Va(new Sa([])),n=new Dh(t,e),r=new Dh(t,e+1),i=Nu();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new Dh(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),Dh=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return Va.comparator(e.key,t.key)||ya(e.ns,t.ns)},e.Hn=function(e,t){return ya(e.ns,t.ns)||Va.comparator(e.key,t.key)},e}(),Ah=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new Eu(Dh.Gn)}return e.prototype.checkEmpty=function(e){return Gc.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++;var o=new ol(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Dh(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return Gc.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return Gc.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this.cs(t+1),r=n<0?0:n;return Gc.resolve(this._n.length>r?this._n[r]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return Gc.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return Gc.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Dh(t,0),i=new Dh(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),Gc.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Eu(ya);return t.forEach((function(e){var t=new Dh(e,0),i=new Dh(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),Gc.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;Va.isDocumentKey(i)||(i=i.child(""));var o=new Dh(new Va(i),0),a=new Eu(ya);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),Gc.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;fa(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return Gc.forEach(t.mutations,(function(i){var o=new Dh(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new Dh(t,0),r=this.rs.firstAfterOrEqual(n);return Gc.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return Gc.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),xh=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Cu(Va.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Gc.resolve(n?n.document.clone():es.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=Tu();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():es.newInvalidDocument(e))})),Gc.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=Tu(),i=new Va(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.value,u=s.document,c=s.readTime;if(!t.path.isPrefixOf(a.key.path))break;c.compareTo(n)<=0||js(t,u)&&(r=r.insert(u.key,u.clone()))}return Gc.resolve(r)},e.prototype.fs=function(e,t){return Gc.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new Ph(this)},e.prototype.getSize=function(e){return Gc.resolve(this.size)},e}(),Ph=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return Xo(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),Gc.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(Ql),Nh=function(){function e(e){this.persistence=e,this.ds=new Gl((function(e){return rs(e)}),is),this.lastRemoteSnapshotVersion=ba.min(),this.highestTargetId=0,this.ws=0,this._s=new Ih,this.targetCount=0,this.ys=jl.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),Gc.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return Gc.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return Gc.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Gc.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),Gc.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new jl(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,Gc.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),Gc.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,Gc.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Gc.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return Gc.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return Gc.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),Gc.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Gc.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),Gc.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return Gc.resolve(n)},e.prototype.containsKey=function(e,t){return Gc.resolve(this._s.containsKey(t))},e}(),Rh=function(){function e(e,t){var n=this;this.gs={},this.Ne=new na(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Nh(this),this.Ut=new wl,this.Ue=function(e,t){return new xh(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new ul(t),this.Qe=new Th(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new Ah(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(e,t,n){var r=this;sa("MemoryPersistence","Starting transaction:",e);var i=new jh(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return Gc.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),jh=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return Xo(t,e),t}(Wc),Fh=function(){function e(e){this.persistence=e,this.As=new Ih,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ha()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),Gc.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),Gc.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),Gc.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Gc.forEach(this.vs,(function(r){var i=Va.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return Gc.or([function(){return Gc.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),Mh=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function Lh(e,t){return"firestore_clients_"+e+"_"+t}function Vh(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Uh(e,t){return"firestore_targets_"+e+"_"+t}Mh.UNAUTHENTICATED=new Mh(null),Mh.GOOGLE_CREDENTIALS=new Mh("google-credentials-uid"),Mh.FIRST_PARTY=new Mh("first-party-uid");var Bh=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new ia(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(ua("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),qh=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new ia(i.error.code,i.error.message)),o?new e(t,i.state,r):(ua("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Hh=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=ju(),a=0;i&&a<r.activeTargetIds.length;++a)i=La(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(ua("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),zh=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(ua("SharedClientState","Failed to parse online state: "+t),null)},e}(),Wh=function(){function e(){this.activeTargetIds=ju()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Kh=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Cu(ya),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=Lh(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Wh),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Qs=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return $o(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l=this;return ea(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(Lh(this.persistenceKey,r)))&&(o=Hh.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.Os;u<c.length;u++)this.Fs(c[u]);return this.Os=[],this.window.addEventListener("unload",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Uh(this.persistenceKey,e));if(n){var r=qh.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Ks(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Ks()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(Uh(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return sa("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){sa("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){sa("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Fs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(sa("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void ua("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return $o(t,void 0,void 0,(function(){var e,t,r,i,o,a;return ea(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=na.o;if(null!=e)try{var n=JSON.parse(e);fa("number"==typeof n),t=n}catch(e){ua("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==na.o&&this.sequenceNumberHandler(a);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new Bh(this.currentUser,e,t,n),i=Vh(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=Vh(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:e}))},e.prototype.Ys=function(e,t,n){var r=Uh(this.persistenceKey,e),i=new qh(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return Hh.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]);return Bh.Vs(new Mh(void 0!==n[2]?n[2]:null),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return qh.Vs(r,t)},e.prototype.js=function(e){return zh.Vs(e)},e.prototype.ii=function(e){return $o(this,void 0,void 0,(function(){return ea(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(sa("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.ks.insert(e,t):this.ks.remove(e),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},e.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=ju();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),Gh=function(){function e(){this.li=new Wh,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new Wh,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),Qh=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),Zh=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){sa("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){sa("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),Jh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Yh=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),Xh=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n}return Xo(t,e),t.prototype.ki=function(e,t,n,r){return new Promise((function(i,o){var a=new Jo;a.listenOnce(Go.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Ko.NO_ERROR:var t=a.getResponseJson();sa("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Ko.TIMEOUT:sa("Connection",'RPC "'+e+'" timed out'),o(new ia(ra.DEADLINE_EXCEEDED,"Request time out"));break;case Ko.HTTP_ERROR:var n=a.getStatus();if(sa("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(ra).indexOf(t)>=0?t:ra.UNKNOWN}(r.status);o(new ia(s,r.message))}else o(new ia(ra.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new ia(ra.UNAVAILABLE,"Connection failed."));break;default:ha()}}finally{sa("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.$i=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new Bo,i=Hr(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(o.initMessageHeaders,t),Object(Qt.u)()||Object(Qt.x)()||Object(Qt.r)()||Object(Qt.t)()||Object(Qt.y)()||Object(Qt.q)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");sa("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new Yh({Ei:function(e){c?sa("Connection","Not sending because WebChannel is closed:",e):(u||(sa("Connection","Opening WebChannel transport."),s.open(),u=!0),sa("Connection","WebChannel sending:",e),s.send(e))},Ti:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Zo.EventType.OPEN,(function(){c||sa("Connection","WebChannel transport opened.")})),h(s,Zo.EventType.CLOSE,(function(){c||(c=!0,sa("Connection","WebChannel transport closed"),l.Vi())})),h(s,Zo.EventType.ERROR,(function(e){c||(c=!0,ca("Connection","WebChannel transport errored:",e),l.Vi(new ia(ra.UNAVAILABLE,"The operation could not be completed")))})),h(s,Zo.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];fa(!!n);var r=n.error||(null===(t=n[0])||void 0===t?void 0:t.error);if(r){sa("Connection","WebChannel received error:",r);var i=r.status,o=function(e){var t=pu[e];if(void 0!==t)return bu(t)}(i),a=r.message;void 0===o&&(o=ra.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new ia(o,a)),s.close()}else sa("Connection","WebChannel received:",n),l.Si(n)}})),h(i,Qo.STAT_EVENT,(function(e){10===e.stat?sa("Connection","Detected buffering proxy"):11===e.stat&&sa("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Di=(e.ssl?"https":"http")+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);sa("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(e,i,o,n).then((function(e){return sa("RestConnection","Received: ",e),e}),(function(t){throw ca("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.Oi=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.Fi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.3.2",e["X-Firebase-GMPID"]=this.databaseInfo.appId,e["Content-Type"]="text/plain",t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){return this.Di+"/v1/"+t+":"+Jh[e]},e}());function $h(){return"undefined"!=typeof window?window:null}function ef(){return"undefined"!=typeof document?document:null}function tf(e){return new Gu(e,!0)}var nf=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Ki=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&sa("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Qi=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),rf=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new nf(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return $o(this,void 0,void 0,(function(){return ea(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return $o(this,void 0,void 0,(function(){return ea(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return $o(this,void 0,void 0,(function(){return ea(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===ra.RESOURCE_EXHAUSTED?(ua(t.toString()),ua("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):t&&t.code===ra.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new ia(ra.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return $o(e,void 0,void 0,(function(){return ea(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return sa("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(sa("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),of=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return Xo(t,e),t.prototype.wr=function(e){return this.Hi.$i("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ha()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(fa(void 0===t||"string"==typeof t),Da.fromBase64String(t||"")):(fa(void 0===t||t instanceof Uint8Array),Da.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?ra.UNKNOWN:bu(e.code);return new ia(t,e.message||"")}(s);n=new Uu(r,i,o,a||null)}else if("documentChange"in t){i=tc(e,(r=t.documentChange).document.name),o=Yu(r.document.updateTime);var s=new Xa({mapValue:{fields:r.document.fields}}),u=(a=es.newFoundDocument(i,o,s),r.targetIds||[]);n=new Lu(u,r.removedTargetIds||[],a.key,a)}else if("documentDelete"in t)i=tc(e,(r=t.documentDelete).document),o=r.readTime?Yu(r.readTime):ba.min(),s=es.newNoDocument(i,o),n=new Lu([],a=r.removedTargetIds||[],s.key,s);else if("documentRemove"in t)i=tc(e,(r=t.documentRemove).document),n=new Lu([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in t))return ha();var c=t.filter;i=new mu(r=c.count||0),n=new Vu(o=c.targetId,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return ba.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?ba.min():t.readTime?Yu(t.readTime):ba.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=ic(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=os(r)?{documents:lc(e,r)}:{query:hc(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Zu(e,t.resumeToken):t.snapshotVersion.compareTo(ba.min())>0&&(n.readTime=Qu(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ha()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=ic(this.R),t.removeTarget=e,this.cr(t)},t}(rf),af=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return Xo(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.$i("Write",e)},t.prototype.onMessage=function(e){if(fa(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(fa(void 0!==t),e.map((function(e){return function(e,t){var n=Yu(e.updateTime?e.updateTime:t);return n.isEqual(ba.min())&&(n=Yu(t)),new eu(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Yu(e.commitTime);return this.listener.Tr(n,t)}return fa(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=ic(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return uc(t.R,e)}))};this.cr(n)},t}(rf),sf=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return Xo(t,e),t.prototype.br=function(){if(this.Rr)throw new ia(ra.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw e.code===ra.UNAUTHENTICATED&&r.credentials.invalidateToken(),e}))},t.prototype.Oi=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(e,t,n,i)})).catch((function(e){throw e.code===ra.UNAUTHENTICATED&&r.credentials.invalidateToken(),e}))},t.prototype.terminate=function(){this.Rr=!1},t}((function(){})),uf=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(ua(t),this.Vr=!1):sa("OnlineStateTracker",t)},e.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),cf=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return $o(o,void 0,void 0,(function(){return ea(this,(function(e){switch(e.label){case 0:return mf(this)?(sa("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return $o(this,void 0,void 0,(function(){var t;return ea(this,(function(n){switch(n.label){case 0:return(t=da(e)).$r.add(4),[4,hf(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.$r.delete(4),[4,lf(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new uf(n,r)};function lf(e){return $o(this,void 0,void 0,(function(){var t,n;return ea(this,(function(r){switch(r.label){case 0:if(!mf(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function hf(e){return $o(this,void 0,void 0,(function(){var t,n;return ea(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function ff(e,t){var n=da(e);n.Or.has(t.targetId)||(n.Or.set(t.targetId,t),gf(n)?yf(n):Nf(n).er()&&pf(n,t))}function df(e,t){var n=da(e),r=Nf(n);n.Or.delete(t),r.er()&&vf(n,t),0===n.Or.size&&(r.er()?r.ir():mf(n)&&n.Br.set("Unknown"))}function pf(e,t){e.qr.U(t.targetId),Nf(e).mr(t)}function vf(e,t){e.qr.U(t),Nf(e).yr(t)}function yf(e){e.qr=new qu({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.Or.get(t)||null}}),Nf(e).start(),e.Br.Sr()}function gf(e){return mf(e)&&!Nf(e).tr()&&e.Or.size>0}function mf(e){return 0===da(e).$r.size}function _f(e){e.qr=void 0}function bf(e){return $o(this,void 0,void 0,(function(){return ea(this,(function(t){return e.Or.forEach((function(t,n){pf(e,t)})),[2]}))}))}function Cf(e,t){return $o(this,void 0,void 0,(function(){return ea(this,(function(n){return _f(e),gf(e)?(e.Br.Nr(t),yf(e)):e.Br.set("Unknown"),[2]}))}))}function wf(e,t,n){return $o(this,void 0,void 0,(function(){var r,i,o;return ea(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof Uu&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return $o(this,void 0,void 0,(function(){var n,r,i,o;return ea(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?e.Or.has(o=i[r])?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:a.sent(),e.Or.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),sa("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,kf(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Lu?e.qr.X(t):t instanceof Vu?e.qr.rt(t):e.qr.et(t),n.isEqual(ba.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,vh(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Or.get(r);i&&e.Or.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Or.get(t);if(n){e.Or.set(t,n.withResumeToken(Da.EMPTY_BYTE_STRING,n.snapshotVersion)),vf(e,t);var r=new sl(n.target,t,1,n.sequenceNumber);pf(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return sa("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,kf(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function kf(e,t,n){return $o(this,void 0,void 0,(function(){var r=this;return ea(this,(function(i){switch(i.label){case 0:if(!Xc(t))throw t;return e.$r.add(1),[4,hf(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return vh(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return $o(r,void 0,void 0,(function(){return ea(this,(function(t){switch(t.label){case 0:return sa("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.$r.delete(1),[4,lf(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function Ef(e,t){return t().catch((function(n){return kf(e,n,t)}))}function Sf(e){return $o(this,void 0,void 0,(function(){var t,n,r,i,o;return ea(this,(function(a){switch(a.label){case 0:t=da(e),n=Rf(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return mf(e)&&e.kr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,mh(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.kr.push(t);var n=Rf(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,kf(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Of(t)&&Tf(t),[2]}}))}))}function Of(e){return mf(e)&&!Rf(e).tr()&&e.kr.length>0}function Tf(e){Rf(e).start()}function If(e){return $o(this,void 0,void 0,(function(){return ea(this,(function(t){return Rf(e).Ar(),[2]}))}))}function Df(e){return $o(this,void 0,void 0,(function(){var t,n,r;return ea(this,(function(i){for(t=Rf(e),n=0,r=e.kr;n<r.length;n++)t.Er(r[n].mutations);return[2]}))}))}function Af(e,t,n){return $o(this,void 0,void 0,(function(){var r,i;return ea(this,(function(o){switch(o.label){case 0:return r=e.kr.shift(),i=al.from(r,t,n),[4,Ef(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Sf(e)];case 2:return o.sent(),[2]}}))}))}function xf(e,t){return $o(this,void 0,void 0,(function(){return ea(this,(function(n){switch(n.label){case 0:return t&&Rf(e).pr?[4,function(e,t){return $o(this,void 0,void 0,(function(){var n,r;return ea(this,(function(i){switch(i.label){case 0:return _u(r=t.code)&&r!==ra.ABORTED?(n=e.kr.shift(),Rf(e).sr(),[4,Ef(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,Sf(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Of(e)&&Tf(e),[2]}}))}))}function Pf(e,t){return $o(this,void 0,void 0,(function(){var n;return ea(this,(function(r){switch(r.label){case 0:return n=da(e),t?(n.$r.delete(2),[4,lf(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.$r.add(2),[4,hf(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Nf(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=da(e);return r.br(),new of(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:bf.bind(null,e),Ri:Cf.bind(null,e),_r:wf.bind(null,e)}),e.Mr.push((function(n){return $o(t,void 0,void 0,(function(){return ea(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),gf(e)?yf(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),_f(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function Rf(e){var t=this;return e.Qr||(e.Qr=function(e,t,n){var r=da(e);return r.br(),new af(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:If.bind(null,e),Ri:xf.bind(null,e),Ir:Df.bind(null,e),Tr:Af.bind(null,e)}),e.Mr.push((function(n){return $o(t,void 0,void 0,(function(){return ea(this,(function(t){switch(t.label){case 0:return n?(e.Qr.sr(),[4,Sf(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Qr.stop()];case 3:t.sent(),e.kr.length>0&&(sa("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Qr}var jf=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Kc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ia(ra.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Ff(e,t){if(ua("AsyncQueue",t+": "+e),Xc(e))return new ia(ra.UNAVAILABLE,t+": "+e);throw e}var Mf=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||Va.comparator(t.key,n.key)}:function(e,t){return Va.comparator(e.key,t.key)},this.keyedMap=Du(),this.sortedSet=new Cu(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Lf=function(){function e(){this.Kr=new Cu(Va.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Kr.get(t);n?0!==e.type&&3===n.type?this.Kr=this.Kr.insert(t,e):3===e.type&&1!==n.type?this.Kr=this.Kr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Kr=this.Kr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Kr=this.Kr.remove(t):1===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):ha():this.Kr=this.Kr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Kr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),Vf=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Mf.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ps(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Uf=function(){this.Wr=void 0,this.listeners=[]},Bf=function(){this.queries=new Gl((function(e){return Ns(e)}),Ps),this.onlineState="Unknown",this.Gr=new Set};function qf(e,t){return $o(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return ea(this,(function(c){switch(c.label){case 0:if(n=da(e),i=!1,(o=n.queries.get(r=t.query))||(i=!0,o=new Uf),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=Ff(s,"Initialization of query '"+Rs(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&Kf(n),[2]}}))}))}function Hf(e,t){return $o(this,void 0,void 0,(function(){var n,r,i,o,a;return ea(this,(function(s){return n=da(e),i=!1,(o=n.queries.get(r=t.query))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function zf(e,t){for(var n=da(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=n.queries.get(a.query);if(s){for(var u=0,c=s.listeners;u<c.length;u++)c[u].Hr(a)&&(r=!0);s.Wr=a}}r&&Kf(n)}function Wf(e,t,n){var r=da(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function Kf(e){e.Gr.forEach((function(e){e.next()}))}var Gf=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new Vf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){return!e.fromCache||!(this.options.so&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=Vf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),Qf=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),Zf=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return tc(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?sc(this.R,e.document,!1):es.newNoDocument(this.qn(e.metadata.name),this.Qn(e.metadata.readTime))},e.prototype.Qn=function(e){return Yu(e)},e}();!function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=function(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(e)}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new Zf(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||Nu()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return $o(this,void 0,void 0,(function(){var e,t,n,r,i;return ea(this,(function(o){switch(o.label){case 0:return[4,Sh(this.localStore,new Zf(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Oh(this.localStore,i=r[n],t.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new sh(Object.assign({},this.progress),e))]}}))}))}}();var Jf=function(e){this.key=e},Yf=function(e){this.key=e},Xf=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=Nu(),this.mutatedKeys=Nu(),this.lo=Fs(e),this.fo=new Mf(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new Lf,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Es(this.query)&&i.size===this.query.limit?i.last():null,c=Ss(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=js(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),Es(this.query)||Ss(this.query))for(;a.size>this.query.limit;){var l=Es(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ha()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new Vf(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Lf,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=Nu(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new Yf(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new Jf(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Nu();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return Vf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),$f=function(e,t,n){this.query=e,this.targetId=t,this.view=n},ed=function(e){this.key=e,this.bo=!1},td=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Gl((function(e){return Ns(e)}),Ps),this.Vo=new Map,this.So=new Set,this.Do=new Cu(Va.comparator),this.Co=new Map,this.No=new Ih,this.xo={},this.Fo=new Map,this.ko=jl.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),e}();function nd(e,t){return $o(this,void 0,void 0,(function(){var n,r,i,o,a;return ea(this,(function(s){switch(s.label){case 0:return n=xd(e),(i=n.Po.get(t))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,_h(n.localStore,As(t))];case 2:return o=s.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,rd(n,t,o.targetId,"current"===a)];case 3:r=s.sent(),n.isPrimaryClient&&ff(n.remoteStore,o),s.label=4;case 4:return[2,r]}}))}))}function rd(e,t,n,r){return $o(this,void 0,void 0,(function(){var i,o,a,s,u,c;return ea(this,(function(l){switch(l.label){case 0:return e.$o=function(t,n,r){return function(e,t,n,r){return $o(this,void 0,void 0,(function(){var i,o,a;return ea(this,(function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,Ch(e.localStore,t.query,!1).then((function(e){return t.view._o(e.documents,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(yd(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,Ch(e.localStore,t,!0)];case 1:return i=l.sent(),o=new Xf(t,i.Bn),a=o._o(i.documents),s=Mu.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),yd(e,n,u.To),c=new $f(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}}))}))}function id(e,t){return $o(this,void 0,void 0,(function(){var n,r,i;return ea(this,(function(o){switch(o.label){case 0:return n=da(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!Ps(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,bh(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),df(n.remoteStore,r.targetId),pd(n,r.targetId)})).catch(Ul)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return pd(n,r.targetId),[4,bh(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function od(e,t,n){return $o(this,void 0,void 0,(function(){var r,i,o,a;return ea(this,(function(s){switch(s.label){case 0:r=Pd(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=da(e),i=_a.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Nu());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=au(c,n.get(c.key));null!=l&&a.push(new lu(c.key,l,$a(l.toProto().mapValue),tu.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Cu(ya)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,_d(r,i.changes)];case 3:return s.sent(),[4,Sf(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Ff(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function ad(e,t){return $o(this,void 0,void 0,(function(){var n,r;return ea(this,(function(i){switch(i.label){case 0:n=da(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,yh(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(fa(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?fa(r.bo):e.removedDocuments.size>0&&(fa(r.bo),r.bo=!1))})),[4,_d(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Ul(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function sd(e,t,n){var r=da(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=da(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&Kf(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ud(e,t,n){return $o(this,void 0,void 0,(function(){var r,i,o,a,s,u;return ea(this,(function(c){switch(c.label){case 0:return(r=da(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new Cu(Va.comparator)).insert(o,es.newNoDocument(o,ba.min())),s=Nu().add(o),u=new Fu(ba.min(),new Map,new Eu(ya),a,s),[4,ad(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),md(r),[3,4];case 2:return[4,bh(r.localStore,t,!1).then((function(){return pd(r,t,n)})).catch(Ul)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function cd(e,t){return $o(this,void 0,void 0,(function(){var n,r,i;return ea(this,(function(o){switch(o.label){case 0:n=da(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,ph(n.localStore,t)];case 2:return i=o.sent(),dd(n,r,null),fd(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,_d(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Ul(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function ld(e,t,n){return $o(this,void 0,void 0,(function(){var r,i;return ea(this,(function(o){switch(o.label){case 0:r=da(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=da(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return fa(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),dd(r,t,n),fd(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,_d(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Ul(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function hd(e,t){return $o(this,void 0,void 0,(function(){var n,r,i,o,a;return ea(this,(function(s){switch(s.label){case 0:mf((n=da(e)).remoteStore)||sa("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=da(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=Ff(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function fd(e,t){(e.Fo.get(t)||[]).forEach((function(e){e.resolve()})),e.Fo.delete(t)}function dd(e,t,n){var r=da(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function pd(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||vd(e,t)}))}function vd(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(df(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),md(e))}function yd(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Jf?(e.No.addReference(o.key,t),gd(e,o)):o instanceof Yf?(sa("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||vd(e,o.key)):ha()}}function gd(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(sa("SyncEngine","New document in limbo: "+n),e.So.add(r),md(e))}function md(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Va(Sa.fromString(t)),r=e.ko.next();e.Co.set(r,new ed(n)),e.Do=e.Do.insert(n,r),ff(e.remoteStore,new sl(As(ks(n.path)),r,2,na.o))}}function _d(e,t,n){return $o(this,void 0,void 0,(function(){var r,i,o,a;return ea(this,(function(s){switch(s.label){case 0:return r=da(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.$o(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=ch.Pn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return $o(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return ea(this,(function(l){switch(l.label){case 0:n=da(e),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Gc.forEach(t,(function(t){return Gc.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return Gc.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!Xc(r=l.sent()))throw r;return sa("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)s=(a=o[i]).targetId,a.fromCache||(u=n.Fn.get(s),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(s,c));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function bd(e,t){return $o(this,void 0,void 0,(function(){var n,r;return ea(this,(function(i){switch(i.label){case 0:return(n=da(e)).currentUser.isEqual(t)?[3,3]:(sa("SyncEngine","User change. New user:",t.toKey()),[4,dh(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.Fo.forEach((function(e){e.forEach((function(e){e.reject(new ia(ra.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,_d(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Cd(e,t){var n=da(e),r=n.Co.get(t);if(r&&r.bo)return Nu().add(r.key);var i=Nu(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=n.Po.get(s[a]);i=i.unionWith(u.view.wo)}return i}function wd(e,t){return $o(this,void 0,void 0,(function(){var n,r,i;return ea(this,(function(o){switch(o.label){case 0:return[4,Ch((n=da(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&yd(n,t.targetId,i.To),i)]}}))}))}function kd(e){return $o(this,void 0,void 0,(function(){var t;return ea(this,(function(n){return[2,kh((t=da(e)).localStore).then((function(e){return _d(t,e)}))]}))}))}function Ed(e,t,n,r){return $o(this,void 0,void 0,(function(){var i,o;return ea(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=da(e),r=da(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):Gc.resolve(null)}))}))}((i=da(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Sf(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(dd(i,t,r||null),fd(i,t),function(e,t){da(da(e)._n).Gt(t)}(i.localStore,t)):ha(),a.label=4;case 4:return[4,_d(i,o)];case 5:return a.sent(),[3,7];case 6:sa("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function Sd(e,t){return $o(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return ea(this,(function(c){switch(c.label){case 0:return xd(n=da(e)),Pd(n),!0!==t||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Od(n,r.toArray())]);case 1:return i=c.sent(),n.Oo=!0,[4,Pf(n.remoteStore,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)ff(n.remoteStore,a[o]);return[3,7];case 3:return!1!==t||!1===n.Oo?[3,7]:(s=[],u=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?s.push(t):u=u.then((function(){return pd(n,t),bh(n.localStore,t,!0)})),df(n.remoteStore,t)})),[4,u]);case 4:return c.sent(),[4,Od(n,s)];case 5:return c.sent(),function(e){var t=da(e);t.Co.forEach((function(e,n){df(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new Cu(Va.comparator)}(n),n.Oo=!1,[4,Pf(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function Od(e,t,n){return $o(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,d,p;return ea(this,(function(v){switch(v.label){case 0:n=da(e),r=[],i=[],o=0,a=t,v.label=1;case 1:return o<a.length?(u=void 0,(c=n.Vo.get(s=a[o]))&&0!==c.length?[4,_h(n.localStore,As(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,h=c,v.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,wd(n,f)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,wh(n.localStore,s)];case 8:return p=v.sent(),[4,_h(n.localStore,p)];case 9:return u=v.sent(),[4,rd(n,Td(p),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Td(e){return ws(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Id(e){var t=da(e);return da(da(t.localStore).persistence).fn()}function Dd(e,t,n,r){return $o(this,void 0,void 0,(function(){var i,o,a;return ea(this,(function(s){switch(s.label){case 0:return(i=da(e)).Oo?(sa("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,kh(i.localStore)];case 3:return o=s.sent(),a=Fu.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,_d(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,bh(i.localStore,t,!0)];case 6:return s.sent(),pd(i,t,r),[3,8];case 7:ha(),s.label=8;case 8:return[2]}}))}))}function Ad(e,t,n){return $o(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h;return ea(this,(function(f){switch(f.label){case 0:if(!(r=xd(e)).Oo)return[3,10];i=0,o=t,f.label=1;case 1:return i<o.length?r.Vo.has(a=o[i])?(sa("SyncEngine","Adding an already active target "+a),[3,5]):[4,wh(r.localStore,a)]:[3,6];case 2:return s=f.sent(),[4,_h(r.localStore,s)];case 3:return u=f.sent(),[4,rd(r,Td(s),u.targetId,!1)];case 4:f.sent(),ff(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(e){return ea(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,bh(r.localStore,e,!1).then((function(){df(r.remoteStore,e),pd(r,e)})).catch(Ul)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function xd(e){var t=da(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ad.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ud.bind(null,t),t.vo._r=zf.bind(null,t.eventManager),t.vo.Mo=Wf.bind(null,t.eventManager),t}function Pd(e){var t=da(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=cd.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ld.bind(null,t),t}var Nd=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return $o(this,void 0,void 0,(function(){return ea(this,(function(t){switch(t.label){case 0:return this.R=tf(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Qo(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Qo=function(e){return fh(this.persistence,new lh,e.initialUser,this.R)},e.prototype.qo=function(e){return new Rh(Fh.bs,this.R)},e.prototype.Bo=function(e){return new Gh},e.prototype.terminate=function(){return $o(this,void 0,void 0,(function(){return ea(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),Rd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Ko=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Xo(t,e),t.prototype.initialize=function(t){return $o(this,void 0,void 0,(function(){return ea(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,Eh(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,t)];case 3:return n.sent(),[4,Pd(this.Ko.syncEngine)];case 4:return n.sent(),[4,Sf(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},t.prototype.Qo=function(e){return fh(this.persistence,new lh,e.initialUser,this.R)},t.prototype.Uo=function(e){return new Hl(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)},t.prototype.qo=function(e){var t=ah(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Tl.withCacheSize(this.cacheSizeBytes):Tl.DEFAULT;return new rh(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,$h(),ef(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new Gh},t}(Nd),jd=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Ko=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Xo(t,e),t.prototype.initialize=function(t){return $o(this,void 0,void 0,(function(){var n,r=this;return ea(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof Kh?(this.sharedClientState.syncEngine={ui:Ed.bind(null,n),ai:Dd.bind(null,n),hi:Ad.bind(null,n),fn:Id.bind(null,n),ci:kd.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return $o(r,void 0,void 0,(function(){return ea(this,(function(t){switch(t.label){case 0:return[4,Sd(this.Ko.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=$h();if(!Kh.yt(t))throw new ia(ra.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ah(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Kh(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(Rd),Fd=function(){function e(){}return e.prototype.initialize=function(e,t){return $o(this,void 0,void 0,(function(){var n=this;return ea(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return sd(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=bd.bind(null,this.syncEngine),[4,Pf(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new Bf},e.prototype.createDatastore=function(e){var t=tf(e.databaseInfo.databaseId),n=new Xh(e.databaseInfo);return function(e,t,n){return new sf(e,t,n)}(e.credentials,n,t)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return sd(a.syncEngine,e,0)},o=Zh.yt()?new Zh:new Qh,new cf(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new td(e,t,n,r,i,o);return a&&(s.Oo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return $o(this,void 0,void 0,(function(){var t;return ea(this,(function(n){switch(n.label){case 0:return t=da(e),sa("RemoteStore","RemoteStore shutting down."),t.$r.add(5),[4,hf(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}(),Md=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),Ld=(function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new Kc,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return $o(this,void 0,void 0,(function(){return ea(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return $o(this,void 0,void 0,(function(){return ea(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return $o(this,void 0,void 0,(function(){var e,t,n,r;return ea(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Qf(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return $o(this,void 0,void 0,(function(){var e,t;return ea(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return $o(this,void 0,void 0,(function(){var t;return ea(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return $o(this,void 0,void 0,(function(){var e,t;return ea(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return $o(this,void 0,void 0,(function(){var t,n=this;return ea(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ia(ra.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return $o(this,void 0,void 0,(function(){var n,r,i,o,a,s;return ea(this,(function(u){switch(u.label){case 0:return n=da(e),r=ic(n.R)+"/documents",i={documents:t.map((function(e){return ec(n.R,e)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){fa(!!t.found);var n=tc(e,t.found.name),r=Yu(t.found.updateTime),i=new Xa({mapValue:{fields:t.found.fields}});return es.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){fa(!!t.missing),fa(!!t.readTime);var n=tc(e,t.missing),r=Yu(t.readTime);return es.newNoDocument(n,r)}(e,t):ha()}(n.R,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());fa(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new yu(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return $o(this,void 0,void 0,(function(){var e,t=this;return ea(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=Va.fromPath(n);t.mutations.push(new gu(r,t.precondition(r)))})),[4,function(e,t){return $o(this,void 0,void 0,(function(){var n,r,i;return ea(this,(function(o){switch(o.label){case 0:return n=da(e),r=ic(n.R)+"/documents",i={writes:t.map((function(e){return uc(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ha();t=ba.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ia(ra.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?tu.updateTime(t):tu.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ba.min()))throw new ia(ra.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return tu.updateTime(t)}return tu.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),Vd=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new nf(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return $o(e,void 0,void 0,(function(){var e,t,n=this;return ea(this,(function(r){return e=new Ld(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!Fa(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!_u(t)}return!1},e}(),Ud=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Mh.UNAUTHENTICATED,this.clientId=va.u(),this.credentialListener=function(){},this.receivedInitialUser=new Kc,this.credentials.setChangeListener((function(e){sa("FirestoreClient","Received user=",e.uid),r.user=e,r.credentialListener(e),r.receivedInitialUser.resolve()}))}return e.prototype.getConfiguration=function(){return $o(this,void 0,void 0,(function(){return ea(this,(function(e){switch(e.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(e.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},e.prototype.setCredentialChangeListener=function(e){var t=this;this.credentialListener=e,this.receivedInitialUser.promise.then((function(){return t.credentialListener(t.user)}))},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new ia(ra.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Kc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return $o(e,void 0,void 0,(function(){var e,n;return ea(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=Ff(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function Bd(e,t){return $o(this,void 0,void 0,(function(){var n,r,i=this;return ea(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),sa("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,e.asyncQueue.enqueueRetryable((function(){return $o(i,void 0,void 0,(function(){return ea(this,(function(e){switch(e.label){case 0:return[4,dh(t.localStore,n)];case 1:return e.sent(),[2]}}))}))})))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function qd(e,t){return $o(this,void 0,void 0,(function(){var n,r;return ea(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Hd(e)];case 1:return n=i.sent(),sa("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(n){return e.asyncQueue.enqueueRetryable((function(){return function(e,t){return $o(this,void 0,void 0,(function(){var n,r;return ea(this,(function(i){switch(i.label){case 0:return(n=da(e)).asyncQueue.verifyOperationInProgress(),sa("RemoteStore","RemoteStore received new credentials"),r=mf(n),n.$r.add(3),[4,hf(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.$r.delete(3),[4,lf(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,n)}))})),e.onlineComponents=t,[2]}}))}))}function Hd(e){return $o(this,void 0,void 0,(function(){return ea(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(sa("FirestoreClient","Using default OfflineComponentProvider"),[4,Bd(e,new Nd)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function zd(e){return $o(this,void 0,void 0,(function(){return ea(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(sa("FirestoreClient","Using default OnlineComponentProvider"),[4,qd(e,new Fd)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function Wd(e){return Hd(e).then((function(e){return e.persistence}))}function Kd(e){return Hd(e).then((function(e){return e.localStore}))}function Gd(e){return zd(e).then((function(e){return e.remoteStore}))}function Qd(e){return zd(e).then((function(e){return e.syncEngine}))}function Zd(e){return $o(this,void 0,void 0,(function(){var t,n;return ea(this,(function(r){switch(r.label){case 0:return[4,zd(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=nd.bind(null,t.syncEngine),n.onUnlisten=id.bind(null,t.syncEngine),n)]}}))}))}function Jd(e,t,n){var r=this;void 0===n&&(n={});var i=new Kc;return e.asyncQueue.enqueueAndForget((function(){return $o(r,void 0,void 0,(function(){var r;return ea(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Md({next:function(o){t.enqueueAndForget((function(){return Hf(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new ia(ra.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new ia(ra.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new Gf(ks(n.path),o,{includeMetadataChanges:!0,so:!0});return qf(e,a)},[4,Zd(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function Yd(e,t,n){var r=this;void 0===n&&(n={});var i=new Kc;return e.asyncQueue.enqueueAndForget((function(){return $o(r,void 0,void 0,(function(){var r;return ea(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Md({next:function(n){t.enqueueAndForget((function(){return Hf(e,a)})),n.fromCache&&"server"===r.source?i.reject(new ia(ra.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new Gf(n,o,{includeMetadataChanges:!0,so:!0});return qf(e,a)},[4,Zd(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var Xd=function(e,t,n,r,i,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a},$d=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),ep=new Map,tp=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},np=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){this.changeListener=e,e(Mh.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),rp=function(){function e(e){var t=this;this.oc=null,this.currentUser=Mh.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){t.cc++,t.currentUser=t.uc(),t.receivedInitialUser=!0,t.changeListener&&t.changeListener(t.currentUser)},this.cc=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),e.get().then((function(e){t.auth=e,t.oc&&t.auth.addAuthTokenListener(t.oc)}),(function(){})))}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(sa("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(fa("string"==typeof n.accessToken),new tp(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){this.changeListener=e,this.receivedInitialUser&&e(this.currentUser)},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},e.prototype.uc=function(){var e=this.auth&&this.auth.getUid();return fa(null===e||"string"==typeof e),new Mh(e)},e}(),ip=function(){function e(e,t){this.ac=e,this.hc=t,this.type="FirstParty",this.user=Mh.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.hc},t=this.ac.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!1,configurable:!0}),e}(),op=function(){function e(e,t){this.ac=e,this.hc=t}return e.prototype.getToken=function(){return Promise.resolve(new ip(this.ac,this.hc))},e.prototype.setChangeListener=function(e){e(Mh.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function ap(e,t,n){if(!n)throw new ia(ra.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function sp(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ia(ra.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function up(e,t,n,r){if(!0===t&&!0===r)throw new ia(ra.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function cp(e){if(!Va.isDocumentKey(e))throw new ia(ra.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function lp(e){if(Va.isDocumentKey(e))throw new ia(ra.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function hp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":ha()}function fp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ia(ra.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=hp(e);throw new ia(ra.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function dp(e,t){if(t<=0)throw new ia(ra.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var pp=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ia(ra.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ia(ra.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,up("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},e}(),vp=function(){function e(e,t){this._persistenceKey="(lite)",this._settings=new pp({}),this._settingsFrozen=!1,e instanceof $d?(this._databaseId=e,this._credentials=new np):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ia(ra.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $d(e.options.projectId)}(e),this._credentials=new rp(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new ia(ra.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new ia(ra.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pp(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new np;switch(e.type){case"gapi":var t=e.client;return fa(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new op(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new ia(ra.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return(e=ep.get(this))&&(sa("ComponentProvider","Removing Datastore"),ep.delete(this),e.terminate()),Promise.resolve();var e},e}(),yp=function(){function e(e,t,n){this._converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new mp(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),gp=function(){function e(e,t,n){this._converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),mp=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,ks(r))||this).firestore=t,i._path=r,i.type="collection",i}return Xo(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new yp(this.firestore,null,new Va(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(gp);function _p(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Object(Qt.m)(e),ap("collection","path",t),e instanceof vp)return lp(n=Sa.fromString.apply(Sa,ta([t],r))),new mp(e,null,n);if(!(e instanceof yp||e instanceof mp))throw new ia(ra.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return lp(n=Sa.fromString.apply(Sa,ta([e.path],r)).child(Sa.fromString(t))),new mp(e.firestore,null,n)}function bp(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Object(Qt.m)(e),1===arguments.length&&(t=va.u()),ap("doc","path",t),e instanceof vp)return cp(n=Sa.fromString.apply(Sa,ta([t],r))),new yp(e,null,new Va(n));if(!(e instanceof yp||e instanceof mp))throw new ia(ra.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return cp(n=e._path.child(Sa.fromString.apply(Sa,ta([t],r)))),new yp(e.firestore,e instanceof mp?e._converter:null,new Va(n))}function Cp(e,t){return e=Object(Qt.m)(e),t=Object(Qt.m)(t),(e instanceof yp||e instanceof mp)&&(t instanceof yp||t instanceof mp)&&e.firestore===t.firestore&&e.path===t.path&&e._converter===t._converter}function wp(e,t){return e=Object(Qt.m)(e),t=Object(Qt.m)(t),e instanceof gp&&t instanceof gp&&e.firestore===t.firestore&&Ps(e._query,t._query)&&e._converter===t._converter}var kp=function(){function e(){var e=this;this.lc=Promise.resolve(),this.fc=[],this.dc=!1,this.wc=[],this._c=null,this.mc=!1,this.yc=[],this.Zi=new nf(this,"async_queue_retry"),this.gc=function(){var t=ef();t&&sa("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=ef();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.gc)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this.dc},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ec(),this.Tc(e)},e.prototype.enterRestrictedMode=function(){if(!this.dc){this.dc=!0;var e=ef();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.gc)}},e.prototype.enqueue=function(e){return this.Ec(),this.dc?new Promise((function(e){})):this.Tc(e)},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.fc.push(e),t.Ic()}))},e.prototype.Ic=function(){return $o(this,void 0,void 0,(function(){var e,t=this;return ea(this,(function(n){switch(n.label){case 0:if(0===this.fc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.fc[0]()];case 2:return n.sent(),this.fc.shift(),this.Zi.reset(),[3,4];case 3:if(!Xc(e=n.sent()))throw e;return sa("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.fc.length>0&&this.Zi.ji((function(){return t.Ic()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Tc=function(e){var t=this,n=this.lc.then((function(){return t.mc=!0,e().catch((function(e){throw t._c=e,t.mc=!1,ua("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.mc=!1,e}))}));return this.lc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ec(),this.yc.indexOf(e)>-1&&(t=0);var i=jf.createAndSchedule(this,e,t,n,(function(e){return r.Ac(e)}));return this.wc.push(i),i},e.prototype.Ec=function(){this._c&&ha()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Rc=function(){return $o(this,void 0,void 0,(function(){var e;return ea(this,(function(t){switch(t.label){case 0:return[4,e=this.lc];case 1:t.sent(),t.label=2;case 2:if(e!==this.lc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.bc=function(e){for(var t=0,n=this.wc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.vc=function(e){var t=this;return this.Rc().then((function(){t.wc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.wc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Rc()}))},e.prototype.Pc=function(e){this.yc.push(e)},e.prototype.Ac=function(e){var t=this.wc.indexOf(e);this.wc.splice(t,1)},e}();function Ep(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Kc,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var Sp=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._queue=new kp,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return Xo(t,e),t.prototype._terminate=function(){return this._firestoreClient||Tp(this),this._firestoreClient.terminate()},t}(vp);function Op(e){return e._firestoreClient||Tp(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Tp(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Xd(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Ud(e._credentials,e._queue,r)}function Ip(e,t,n){var r=this,i=new Kc;return e.asyncQueue.enqueue((function(){return $o(r,void 0,void 0,(function(){var r;return ea(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Bd(e,n)];case 1:return o.sent(),[4,qd(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===ra.FAILED_PRECONDITION||e.code===ra.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Dp(e){if(e._initialized||e._terminated)throw new ia(ra.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ap=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new ia(ra.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ta(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),xp=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(Da.fromBase64String(t))}catch(t){throw new ia(ra.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(Da.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),Pp=function(e){this._methodName=e},Np=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new ia(ra.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ia(ra.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return ya(this._lat,e._lat)||ya(this._long,e._long)},e}(),Rp=/^__.*__$/,jp=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new lu(e,this.data,this.fieldMask,t,this.fieldTransforms):new cu(e,this.data,t,this.fieldTransforms)},e}(),Fp=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new lu(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function Mp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ha()}}var Lp=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Vc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Sc",{get:function(){return this.settings.Sc},enumerable:!1,configurable:!0}),e.prototype.Dc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.Cc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Dc({path:n,Nc:!1});return r.xc(e),r},e.prototype.Fc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Dc({path:n,Nc:!1});return r.Vc(),r},e.prototype.kc=function(e){return this.Dc({path:void 0,Nc:!0})},e.prototype.Oc=function(e){return iv(e,this.settings.methodName,this.settings.$c||!1,this.path,this.settings.Mc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Vc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.xc(this.path.get(e))},e.prototype.xc=function(e){if(0===e.length)throw this.Oc("Document fields must not be empty");if(Mp(this.Sc)&&Rp.test(e))throw this.Oc('Document fields cannot begin and end with "__"')},e}(),Vp=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||tf(e)}return e.prototype.Lc=function(e,t,n,r){return void 0===r&&(r=!1),new Lp({Sc:e,methodName:t,Mc:n,path:Ta.emptyPath(),Nc:!1,$c:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Up(e){var t=e._freezeSettings(),n=tf(e._databaseId);return new Vp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Bp(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Lc(o.merge||o.mergeFields?2:0,t,n,i);ev("Data must be an object, but it was:",a,r);var s,u,c=Xp(r,a);if(o.merge)s=new Ia(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=tv(t,f[h],n);if(!a.contains(d))throw new ia(ra.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");ov(l,d)||l.push(d)}s=new Ia(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new jp(new Xa(c),s,u)}var qp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Xo(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Sc)throw e.Oc(1===e.Sc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(Pp);function Hp(e,t,n){return new Lp({Sc:3,Mc:t.settings.Mc,methodName:e._methodName,Nc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var zp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Xo(t,e),t.prototype._toFieldTransform=function(e){return new $s(e.path,new Ws)},t.prototype.isEqual=function(e){return e instanceof t},t}(Pp),Wp=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Bc=n,r}return Xo(t,e),t.prototype._toFieldTransform=function(e){var t=Hp(this,e,!0),n=this.Bc.map((function(e){return Yp(e,t)})),r=new Ks(n);return new $s(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Pp),Kp=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Bc=n,r}return Xo(t,e),t.prototype._toFieldTransform=function(e){var t=Hp(this,e,!0),n=this.Bc.map((function(e){return Yp(e,t)})),r=new Qs(n);return new $s(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Pp),Gp=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).qc=n,r}return Xo(t,e),t.prototype._toFieldTransform=function(e){var t=new Js(e.R,Us(e.R,this.qc));return new $s(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(Pp);function Qp(e,t,n,r){var i=e.Lc(1,t,n);ev("Data must be an object, but it was:",i,r);var o=[],a=Xa.empty();wa(r,(function(e,r){var s=rv(t,e,n);r=Object(Qt.m)(r);var u=i.Fc(s);if(r instanceof qp)o.push(s);else{var c=Yp(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new Ia(o);return new Fp(a,s,i.fieldTransforms)}function Zp(e,t,n,r,i,o){var a=e.Lc(1,t,n),s=[tv(t,r,n)],u=[i];if(o.length%2!=0)throw new ia(ra.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(tv(t,o[c])),u.push(o[c+1]);for(var l=[],h=Xa.empty(),f=s.length-1;f>=0;--f)if(!ov(l,s[f])){var d=s[f],p=u[f];p=Object(Qt.m)(p);var v=a.Fc(d);if(p instanceof qp)l.push(d);else{var y=Yp(p,v);null!=y&&(l.push(d),h.set(d,y))}}var g=new Ia(l);return new Fp(h,g,a.fieldTransforms)}function Jp(e,t,n,r){return void 0===r&&(r=!1),Yp(n,e.Lc(r?4:3,t))}function Yp(e,t){if($p(e=Object(Qt.m)(e)))return ev("Unsupported field value:",t,e),Xp(e,t);if(e instanceof Pp)return function(e,t){if(!Mp(t.Sc))throw t.Oc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Oc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Nc&&4!==t.Sc)throw t.Oc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=Yp(o[i],t.kc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Object(Qt.m)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Us(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=_a.fromDate(e);return{timestampValue:Qu(t.R,n)}}if(e instanceof _a)return n=new _a(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:Qu(t.R,n)};if(e instanceof Np)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof xp)return{bytesValue:Zu(t.R,e._byteString)};if(e instanceof yp){var r=e.firestore._databaseId;if(!r.isEqual(n=t.databaseId))throw t.Oc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Xu(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Oc("Unsupported field value: "+hp(e))}(e,t)}function Xp(e,t){var n={};return ka(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wa(e,(function(e,r){var i=Yp(r,t.Cc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function $p(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof _a||e instanceof Np||e instanceof xp||e instanceof yp||e instanceof Pp)}function ev(e,t,n){if(!$p(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=hp(n);throw t.Oc("an object"===r?e+" a custom object":e+" "+r)}}function tv(e,t,n){if((t=Object(Qt.m)(t))instanceof Ap)return t._internalPath;if("string"==typeof t)return rv(e,t);throw iv("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var nv=new RegExp("[~\\*/\\[\\]]");function rv(e,t,n){if(t.search(nv)>=0)throw iv("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(Ap.bind.apply(Ap,ta([void 0],t.split(".")))))._internalPath}catch(r){throw iv("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function iv(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new ia(ra.INVALID_ARGUMENT,(s+=". ")+e+u)}function ov(e,t){return e.some((function(e){return e.isEqual(t)}))}var av=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new yp(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new sv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.toProto())}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(uv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),sv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Xo(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(av);function uv(e,t){return"string"==typeof t?rv(e,t):t instanceof Ap?t._internalPath:t._delegate._internalPath}var cv=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),lv=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return Xo(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new hv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.toProto(),e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(uv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(av),hv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Xo(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(lv),fv=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new cv(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new hv(n._firestore,n._userDataWriter,r.key,r,new cv(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ia(ra.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new hv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new cv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query._converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new hv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new cv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query._converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:dv(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function dv(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ha()}}function pv(e,t){return e instanceof lv&&t instanceof lv?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof fv&&t instanceof fv&&e._firestore===t._firestore&&wp(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function vv(e){if(Ss(e)&&0===e.explicitOrderBy.length)throw new ia(ra.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var yv=function(){};function gv(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var mv=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Uc=t,i.Qc=n,i.Kc=r,i.type="where",i}return Xo(t,e),t.prototype._apply=function(e){var t=Up(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new ia(ra.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Sv(a,o);for(var u=[],c=0,l=a;c<l.length;c++)u.push(Ev(r,e,l[c]));s={arrayValue:{values:u}}}else s=Ev(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Sv(a,o),s=Jp(n,"where",a,"in"===o||"not-in"===o);var h=as.create(i,o,s);return function(e,t){if(t.g()){var n=Ts(e);if(null!==n&&!n.isEqual(t.field))throw new ia(ra.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=Os(e);null!==r&&Ov(0,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw new ia(ra.INVALID_ARGUMENT,i===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Uc,this.Qc,this.Kc);return new gp(e.firestore,e._converter,function(e,t){var n=e.filters.concat([t]);return new Cs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(yv),_v=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Uc=t,r.jc=n,r.type="orderBy",r}return Xo(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new ia(ra.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ia(ra.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new gs(t,n);return function(e,t){if(null===Os(e)){var n=Ts(e);null!==n&&Ov(0,n,t.field)}}(e,r),r}(e._query,this.Uc,this.jc);return new gp(e.firestore,e._converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Cs(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(yv),bv=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Wc=n,i.Gc=r,i}return Xo(t,e),t.prototype._apply=function(e){return new gp(e.firestore,e._converter,xs(e._query,this.Wc,this.Gc))},t}(yv),Cv=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.zc=n,i.Hc=r,i}return Xo(t,e),t.prototype._apply=function(e){var t=kv(e,this.type,this.zc,this.Hc);return new gp(e.firestore,e._converter,function(e,t){return new Cs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(yv),wv=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.zc=n,i.Hc=r,i}return Xo(t,e),t.prototype._apply=function(e){var t=kv(e,this.type,this.zc,this.Hc);return new gp(e.firestore,e._converter,function(e,t){return new Cs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(yv);function kv(e,t,n,r){if(n[0]=Object(Qt.m)(n[0]),n[0]instanceof av)return function(e,t,n,r,i){if(!r)throw new ia(ra.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Ds(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Ka(t,r.key));else{var c=r.data.field(u.field);if(Ra(c))throw new ia(ra.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new ia(ra.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new vs(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Up(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new ia(ra.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new ia(ra.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Is(e)&&-1!==c.indexOf("/"))throw new ia(ra.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Sa.fromString(c));if(!Va.isDocumentKey(l))throw new ia(ra.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Va(l);s.push(Ka(t,h))}else{var f=Jp(n,r,c);s.push(f)}}return new vs(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function Ev(e,t,n){if("string"==typeof(n=Object(Qt.m)(n))){if(""===n)throw new ia(ra.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Is(t)&&-1!==n.indexOf("/"))throw new ia(ra.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Sa.fromString(n));if(!Va.isDocumentKey(r))throw new ia(ra.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Ka(e,new Va(r))}if(n instanceof yp)return Ka(e,n._key);throw new ia(ra.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+hp(n)+".")}function Sv(e,t){if(!Array.isArray(e)||0===e.length)throw new ia(ra.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new ia(ra.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Ov(e,t,n){if(!n.isEqual(t))throw new ia(ra.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Tv=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),Ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pa(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ha()}},e.prototype.convertObject=function(e,t){var n=this,r={};return wa(e.fields||{},(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new Np(Pa(e.latitude),Pa(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=function e(t){var n=t.mapValue.fields.__previous_value__;return Ra(n)?e(n):n}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ja(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=xa(e);return new _a(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=Sa.fromString(e);fa(wc(n));var r=new $d(n.get(1),n.get(3)),i=new Va(n.popFirst(5));return r.isEqual(t)||ua("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function Iv(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Dv=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Xo(t,e),t.prototype.convertBytes=function(e){return new xp(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new yp(this.firestore,null,t)},t}(Tv),Av=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Up(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=xv(e,this._firestore),i=Iv(r._converter,t,n),o=Bp(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,tu.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=xv(e,this._firestore);return o="string"==typeof(t=Object(Qt.m)(t))||t instanceof Ap?Zp(this._dataReader,"WriteBatch.update",a._key,t,n,r):Qp(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,tu.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=xv(e,this._firestore);return this._mutations=this._mutations.concat(new yu(t._key,tu.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new ia(ra.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function xv(e,t){if((e=Object(Qt.m)(e)).firestore!==t)throw new ia(ra.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Pv=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Xo(t,e),t.prototype.convertBytes=function(e){return new xp(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new yp(this.firestore,null,t)},t}(Tv);function Nv(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=fp(e,yp);var o=fp(e.firestore,Sp),a=Up(o);return jv(o,[("string"==typeof(t=Object(Qt.m)(t))||t instanceof Ap?Zp(a,"updateDoc",e._key,t,n,r):Qp(a,"updateDoc",e._key,t)).toMutation(e._key,tu.exists(!0))])}function Rv(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=Object(Qt.m)(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Ep(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(Ep(i[s])){var f=i[s];i[s]=null===(t=f.next)||void 0===t?void 0:t.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(e instanceof yp)c=fp(e.firestore,Sp),l=ks(e._key.path),u={next:function(t){i[s]&&i[s](Fv(c,e,t))},error:i[s+1],complete:i[s+2]};else{var d=fp(e,gp);c=fp(d.firestore,Sp),l=d._query;var p=new Pv(c);u={next:function(e){i[s]&&i[s](new fv(c,p,d,e))},error:i[s+1],complete:i[s+2]},vv(e._query)}return function(e,t,n,r){var i=this,o=new Md(r),a=new Gf(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return $o(i,void 0,void 0,(function(){var t;return ea(this,(function(n){switch(n.label){case 0:return t=qf,[4,Zd(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return $o(i,void 0,void 0,(function(){var t;return ea(this,(function(n){switch(n.label){case 0:return t=Hf,[4,Zd(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(Op(c),l,h,u)}function jv(e,t){return function(e,t){var n=this,r=new Kc;return e.asyncQueue.enqueueAndForget((function(){return $o(n,void 0,void 0,(function(){var n;return ea(this,(function(i){switch(i.label){case 0:return n=od,[4,Qd(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(Op(e),t)}function Fv(e,t,n){var r=n.docs.get(t._key),i=new Pv(e);return new lv(e,i,t._key,r,new cv(n.hasPendingWrites,n.fromCache),t._converter)}var Mv=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return Xo(t,e),t.prototype.get=function(t){var n=this,r=xv(t,this._firestore),i=new Pv(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new lv(n._firestore,i,r._key,e._document,new cv(!1,!1),r._converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=Up(e)}return e.prototype.get=function(e){var t=this,n=xv(e,this._firestore),r=new Dv(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return ha();var i=e[0];if(i.isFoundDocument())return new av(t._firestore,r,i.key,i,n._converter);if(i.isNoDocument())return new av(t._firestore,r,n._key,null,n._converter);throw ha()}))},e.prototype.set=function(e,t,n){var r=xv(e,this._firestore),i=Iv(r._converter,t,n),o=Bp(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=xv(e,this._firestore);return o="string"==typeof(t=Object(Qt.m)(t))||t instanceof Ap?Zp(this._dataReader,"Transaction.update",a._key,t,n,r):Qp(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=xv(e,this._firestore);return this._transaction.delete(t._key),this},e}());function Lv(){if("undefined"==typeof Uint8Array)throw new ia(ra.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Vv(){if("undefined"==typeof atob)throw new ia(ra.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Uv=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return Vv(),new e(xp.fromBase64String(t))},e.fromUint8Array=function(t){return Lv(),new e(xp.fromUint8Array(t))},e.prototype.toBase64=function(){return Vv(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return Lv(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),Bv=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){Dp(e=fp(e,Sp));var n=Op(e),r=e._freezeSettings(),i=new Fd;return Ip(n,i,new Rd(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){Dp(e=fp(e,Sp));var t=Op(e),n=e._freezeSettings(),r=new Fd;return Ip(t,r,new jd(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new ia(ra.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Kc;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return $o(t,void 0,void 0,(function(){var t;return ea(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return $o(this,void 0,void 0,(function(){return ea(this,(function(t){switch(t.label){case 0:return Zc.yt()?[4,Zc.delete(e+"main")]:[2,Promise.resolve()];case 1:return t.sent(),[2]}}))}))}(ah(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),qv=function(){function e(e,t,n){var r=this;this._delegate=t,this.Jc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof $d||(this.Yc=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){e.merge&&delete(e=Object.assign(Object.assign({},this._delegate._getSettings()),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t){!function(e,t,n){var r=(e=fp(e,vp))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==t&&ca("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},r),{host:t+":"+n,ssl:!1}))}(this._delegate,e,t)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return $o(t,void 0,void 0,(function(){var t,n;return ea(this,(function(r){switch(r.label){case 0:return[4,Wd(e)];case 1:return t=r.sent(),[4,Gd(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=da(e);return t.$r.delete(0),lf(t)}(n))]}}))}))}))}(Op(fp(this._delegate,Sp)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return $o(t,void 0,void 0,(function(){var t,n;return ea(this,(function(r){switch(r.label){case 0:return[4,Wd(e)];case 1:return t=r.sent(),[4,Gd(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return $o(this,void 0,void 0,(function(){var t;return ea(this,(function(n){switch(n.label){case 0:return(t=da(e)).$r.add(0),[4,hf(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Op(fp(this._delegate,Sp)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&up("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Jc.enableMultiTabIndexedDbPersistence(this):this.Jc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Jc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Yc&&(this.Yc._removeServiceInstance("firestore"),this.Yc._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new Kc;return e.asyncQueue.enqueueAndForget((function(){return $o(t,void 0,void 0,(function(){var t;return ea(this,(function(r){switch(r.label){case 0:return t=hd,[4,Qd(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Op(fp(this._delegate,Sp)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new Md(t);return e.asyncQueue.enqueueAndForget((function(){return $o(n,void 0,void 0,(function(){var t;return ea(this,(function(n){switch(n.label){case 0:return t=function(e,t){da(e).Gr.add(t),t.next()},[4,Zd(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return $o(n,void 0,void 0,(function(){var t;return ea(this,(function(n){switch(n.label){case 0:return t=function(e,t){da(e).Gr.delete(t)},[4,Zd(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(Op(e=fp(e,Sp)),Ep(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Yc)throw new ia(ra.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Yc},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new ny(this,_p(this._delegate,e))}catch(e){throw Qv(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new Gv(this,bp(this._delegate,e))}catch(e){throw Qv(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new $v(this,function(e,t){if(e=fp(e,vp),ap("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ia(ra.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new gp(e,null,function(e){return new Cs(Sa.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw Qv(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new Kc;return e.asyncQueue.enqueueAndForget((function(){return $o(n,void 0,void 0,(function(){var n;return ea(this,(function(i){switch(i.label){case 0:return[4,function(e){return zd(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new Vd(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(Op(e),(function(n){return t(new Mv(e,n))}))}(this._delegate,(function(n){return e(new zv(t,n))}))},e.prototype.batch=function(){var e=this;return Op(this._delegate),new Wv(new Av(this._delegate,(function(t){return jv(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new ia(ra.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new ia(ra.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Hv=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Xo(t,e),t.prototype.convertBytes=function(e){return new Uv(new xp(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Gv.Xc(t,this.firestore,null)},t}(Tv),zv=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Hv(e)}return e.prototype.get=function(e){var t=this,n=ry(e);return this._delegate.get(n).then((function(e){return new Yv(t._firestore,new lv(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n._converter))}))},e.prototype.set=function(e,t,n){var r=ry(e);return n?(sp("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=ry(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,ta([a,t,n],i)),this},e.prototype.delete=function(e){var t=ry(e);return this._delegate.delete(t),this},e}(),Wv=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=ry(e);return n?(sp("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=ry(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,ta([a,t,n],i)),this},e.prototype.delete=function(e){var t=ry(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Kv=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new hv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Xv(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.Zc=function(t,n){var r=e.tu,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Hv(t),n),i.set(n,o)),o},e}();Kv.tu=new WeakMap;var Gv=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Hv(e)}return e.eu=function(t,n,r){if(t.length%2!=0)throw new ia(ra.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new yp(n._delegate,r,new Va(t)))},e.Xc=function(t,n,r){return new e(n,new yp(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new ny(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new ny(this.firestore,_p(this._delegate,e))}catch(e){throw Qv(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=Object(Qt.m)(e))instanceof yp&&Cp(this._delegate,e)},e.prototype.set=function(e,t){t=sp("DocumentReference.set",t);try{return function(e,t,n){e=fp(e,yp);var r=fp(e.firestore,Sp),i=Iv(e._converter,t,n);return jv(r,[Bp(Up(r),"setDoc",e._key,i,null!==e._converter,n).toMutation(e._key,tu.none())])}(this._delegate,e,t)}catch(e){throw Qv(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Nv(this._delegate,e):Nv.apply(void 0,ta([this._delegate,e,t],n))}catch(e){throw Qv(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return jv(fp((e=this._delegate).firestore,Sp),[new yu(e._key,tu.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Zv(t),i=Jv(t,(function(t){return new Yv(e.firestore,new lv(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))}));return Rv(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=fp(e,yp);var t=fp(e.firestore,Sp),n=Op(t),r=new Pv(t);return function(e,t){var n=this,r=new Kc;return e.asyncQueue.enqueueAndForget((function(){return $o(n,void 0,void 0,(function(){var n;return ea(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return $o(this,void 0,void 0,(function(){var r,i;return ea(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=da(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new ia(ra.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Ff(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Kd(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new lv(t,r,e._key,n,new cv(null!==n&&n.hasLocalMutations,!0),e._converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=fp(e,yp);var t=fp(e.firestore,Sp);return Jd(Op(t),e._key,{source:"server"}).then((function(n){return Fv(t,e,n)}))}(this._delegate):function(e){e=fp(e,yp);var t=fp(e.firestore,Sp);return Jd(Op(t),e._key).then((function(n){return Fv(t,e,n)}))}(this._delegate)).then((function(e){return new Yv(t.firestore,new lv(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Kv.Zc(this.firestore,t):null))},e}();function Qv(e,t,n){return e.message=e.message.replace(t,n),e}function Zv(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!Ep(r))return r}return{}}function Jv(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Ep(e[0])?e[0]:Ep(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Yv=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Gv(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return pv(this._delegate,e._delegate)},e}(),Xv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Xo(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(Yv),$v=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Hv(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,gv(this._delegate,function(e,t,n){var r=t,i=uv("where",e);return new mv(i,r,n)}(t,n,r)))}catch(t){throw Qv(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,gv(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=uv("orderBy",e);return new _v(r,n)}(t,n)))}catch(t){throw Qv(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,gv(this._delegate,function(e){return dp("limit",e),new bv("limit",e,"F")}(t)))}catch(t){throw Qv(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,gv(this._delegate,function(e){return dp("limitToLast",e),new bv("limitToLast",e,"L")}(t)))}catch(t){throw Qv(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,gv(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Cv("startAt",e,!0)}).apply(void 0,t)))}catch(t){throw Qv(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,gv(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Cv("startAfter",e,!1)}).apply(void 0,t)))}catch(t){throw Qv(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,gv(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new wv("endBefore",e,!0)}).apply(void 0,t)))}catch(t){throw Qv(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,gv(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new wv("endAt",e,!1)}).apply(void 0,t)))}catch(t){throw Qv(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return wp(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=fp(e,gp);var t=fp(e.firestore,Sp),n=Op(t),r=new Pv(t);return function(e,t){var n=this,r=new Kc;return e.asyncQueue.enqueueAndForget((function(){return $o(n,void 0,void 0,(function(){var n;return ea(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return $o(this,void 0,void 0,(function(){var r,i,o,a,s;return ea(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Ch(e,t,!0)];case 1:return s=u.sent(),r=new Xf(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=Ff(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,Kd(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new fv(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=fp(e,gp);var t=fp(e.firestore,Sp),n=Op(t),r=new Pv(t);return Yd(n,e._query,{source:"server"}).then((function(n){return new fv(t,r,e,n)}))}(this._delegate):function(e){e=fp(e,gp);var t=fp(e.firestore,Sp),n=Op(t),r=new Pv(t);return vv(e._query),Yd(n,e._query).then((function(n){return new fv(t,r,e,n)}))}(this._delegate)).then((function(e){return new ty(t.firestore,new fv(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Zv(t),i=Jv(t,(function(t){return new ty(e.firestore,new fv(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Rv(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Kv.Zc(this.firestore,t):null))},e}(),ey=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Xv(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),ty=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new $v(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new Xv(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new ey(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Xv(n._firestore,r))}))},e.prototype.isEqual=function(e){return pv(this._delegate,e._delegate)},e}(),ny=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return Xo(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new Gv(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new Gv(this.firestore,void 0===e?bp(this._delegate):bp(this._delegate,e))}catch(e){throw Qv(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=fp(e.firestore,Sp),r=bp(e),i=Iv(e._converter,t);return jv(n,[Bp(Up(e.firestore),"addDoc",r._key,i,null!==e._converter,{}).toMutation(r._key,tu.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Gv(t.firestore,e)}))},t.prototype.isEqual=function(e){return Cp(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Kv.Zc(this.firestore,e):null))},t}($v);function ry(e){return fp(e,yp)}var iy,oy=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(Ap.bind.apply(Ap,ta([void 0],e)))}return e.documentId=function(){return new e(Ta.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=Object(Qt.m)(e))instanceof Ap&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),ay=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new zp("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new qp("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Wp("arrayUnion",e)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Kp("arrayRemove",e)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new Gp("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}(),sy=n("/6Yf"),uy={Firestore:qv,GeoPoint:Np,Timestamp:_a,Blob:Uv,Transaction:zv,WriteBatch:Wv,DocumentReference:Gv,DocumentSnapshot:Yv,Query:$v,QueryDocumentSnapshot:Xv,QuerySnapshot:ty,CollectionReference:ny,FieldPath:oy,FieldValue:ay,setLogLevel:function(e){oa.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new sy.a("firestore",(function(e){return function(e,t){return new qv(e,new Sp(e,t),new Bv)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},uy)))})(iy=Gt.a),iy.registerVersion("@firebase/firestore","2.2.2"),n("XNiG");var cy=n("VRyK"),ly=n("eIep");n("UXun"),n("SxV6"),n("tf+s");var hy=new a.t("angularfire2.auth.use-emulator");function fy(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pt.a;return new Nt.a((function(n){var r;return null!=t?t.schedule((function(){r=e.onSnapshot({includeMetadataChanges:!0},n)})):r=e.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}}))}(e,t)}function dy(e,t){return fy(e,t).pipe(Object(Bt.a)((function(e){return{payload:e,type:"query"}})))}function py(e,t){return dy(e,t).pipe(Object(Ft.a)(void 0),Lt(),Object(Bt.a)((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1],i=r.payload.docChanges(),o=i.map((function(e){return{type:e.type,payload:e}}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((function(e,t){var r=i.find((function(t){return t.doc.ref.isEqual(e.ref)})),a=null==n?void 0:n.payload.docs.find((function(t){return t.ref.isEqual(e.ref)}));r&&JSON.stringify(r.doc.metadata)===JSON.stringify(e.metadata)||!r&&a&&JSON.stringify(a.metadata)===JSON.stringify(e.metadata)||o.push({type:"modified",payload:{oldIndex:t,newIndex:t,type:"modified",doc:e}})})),o})))}function vy(e,t,n){return py(e,n).pipe(Object(qt.a)((function(e,n){return function(e,t,n){return t.forEach((function(t){n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return yy(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){var n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return yy(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return yy(e,t.oldIndex,1)}return e}(e,t))})),e}(e,n.map((function(e){return e.payload})),t)}),[]),Object(Ht.a)(),Object(Bt.a)((function(e){return e.map((function(e){return{type:e.type,payload:e}}))})))}function yy(e,t,n){for(var r=e.slice(),i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return r.splice.apply(r,[t,n].concat(o)),r}function gy(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}var my=function(){function e(t,n,r){_classCallCheck(this,e),this.ref=t,this.query=n,this.afs=r}return _createClass(e,[{key:"stateChanges",value:function(e){var t=py(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(Object(Bt.a)((function(t){return t.filter((function(t){return e.indexOf(t.type)>-1}))})))),t.pipe(Object(Ft.a)(void 0),Lt(),Object(zt.a)((function(e){var t=_slicedToArray(e,2),n=t[0];return t[1].length>0||!n})),Object(Bt.a)((function(e){var t=_slicedToArray(e,2);t[0];return t[1]})),this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe(Object(qt.a)((function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(t))}),[]))}},{key:"snapshotChanges",value:function(e){var t=gy(e);return vy(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return dy(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Bt.a)((function(t){return t.payload.docs.map((function(t){return e.idField?Object.assign(Object.assign({},t.data()),_defineProperty({},e.idField,t.id)):t.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(e){return Object(Rt.a)(this.query.get(e)).pipe(Object(Wt.b)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(e){return this.ref.add(e)}},{key:"doc",value:function(e){return new _y(this.ref.doc(e),this.afs)}}]),e}(),_y=function(){function e(t,n){_classCallCheck(this,e),this.ref=t,this.afs=n}return _createClass(e,[{key:"set",value:function(e,t){return this.ref.set(e,t)}},{key:"update",value:function(e){return this.ref.update(e)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(e,t){var n=Sy(this.ref.collection(e),t),r=n.ref,i=n.query;return new my(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return fy(this.ref,this.afs.schedulers.outsideAngular).pipe(Object(Ft.a)(void 0),Lt(),Object(Bt.a)((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];return r.exists?(null==n?void 0:n.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe(Object(Bt.a)((function(t){var n=t.payload;return e.idField?Object.assign(Object.assign({},n.data()),_defineProperty({},e.idField,n.id)):n.data()})))}},{key:"get",value:function(e){return Object(Rt.a)(this.ref.get(e)).pipe(Object(Wt.b)(this.afs.schedulers.insideAngular))}}]),e}(),by=function(){function e(t,n){_classCallCheck(this,e),this.query=t,this.afs=n}return _createClass(e,[{key:"stateChanges",value:function(e){return e&&0!==e.length?py(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Bt.a)((function(t){return t.filter((function(t){return e.indexOf(t.type)>-1}))})),Object(zt.a)((function(e){return e.length>0})),this.afs.keepUnstableUntilFirst):py(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe(Object(qt.a)((function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(t))}),[]))}},{key:"snapshotChanges",value:function(e){var t=gy(e);return vy(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return dy(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Bt.a)((function(t){return t.payload.docs.map((function(t){return e.idField?Object.assign(_defineProperty({},e.idField,t.id),t.data()):t.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(e){return Object(Rt.a)(this.query.get(e)).pipe(Object(Wt.b)(this.afs.schedulers.insideAngular))}}]),e}(),Cy=new a.t("angularfire2.enableFirestorePersistence"),wy=new a.t("angularfire2.firestore.persistenceSettings"),ky=new a.t("angularfire2.firestore.settings"),Ey=new a.t("angularfire2.firestore.use-emulator");function Sy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return{query:t(e),ref:e}}var Oy,Ty,Iy=((Ty=function(){function e(t,n,r,i,o,a,s,u,c){_classCallCheck(this,e),this.schedulers=new xt.d(a),this.keepUnstableUntilFirst=Object(xt.h)(this.schedulers);var l=Object(xt.g)(t,a,n);!Kt.a.auth&&c&&Object(xt.j)();var h=u,f=_slicedToArray(Object(xt.f)(l.name+".firestore","AngularFirestore",l,(function(){var e=a.runOutsideAngular((function(){return l.firestore()}));return i&&e.settings(i),h&&e.useEmulator.apply(e,_toConsumableArray(h)),r&&!Object(yt.s)(o)?[e,a.runOutsideAngular((function(){try{return Object(Rt.a)(e.enablePersistence(s||void 0).then((function(){return!0}),(function(){return!1})))}catch(iy){return"undefined"!=typeof console&&console.warn(iy),Object(jt.a)(!1)}}))]:[e,Object(jt.a)(!1)]}),[i,h,r]),2);this.firestore=f[0],this.persistenceEnabled$=f[1]}return _createClass(e,[{key:"collection",value:function(e,t){var n=Sy("string"==typeof e?this.firestore.collection(e):e,t),r=n.ref,i=n.query,o=this.schedulers.ngZone.run((function(){return r}));return new my(o,i,this)}},{key:"collectionGroup",value:function(e,t){var n=t||function(e){return e},r=this.firestore.collectionGroup(e);return new by(n(r),this)}},{key:"doc",value:function(e){var t;t="string"==typeof e?this.firestore.doc(e):e;var n=this.schedulers.ngZone.run((function(){return t}));return new _y(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),e}()).\u0275fac=function(e){return new(e||Ty)(a.ec(xt.c),a.ec(xt.b,8),a.ec(Cy,8),a.ec(ky,8),a.ec(a.H),a.ec(a.E),a.ec(wy,8),a.ec(Ey,8),a.ec(hy,8))},Ty.\u0275prov=Object(a.Rb)({factory:function(){return new Ty(Object(a.ec)(xt.c),Object(a.ec)(xt.b,8),Object(a.ec)(Cy,8),Object(a.ec)(ky,8),Object(a.ec)(a.H),Object(a.ec)(a.E),Object(a.ec)(wy,8),Object(a.ec)(Ey,8),Object(a.ec)(hy,8))},token:Ty,providedIn:"any"}),Ty),Dy=((Oy=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"enablePersistence",value:function(t){return{ngModule:e,providers:[{provide:Cy,useValue:!0},{provide:wy,useValue:t}]}}}]),e}()).\u0275mod=a.Tb({type:Oy}),Oy.\u0275inj=a.Sb({factory:function(e){return new(e||Oy)},providers:[Iy]}),Oy),Ay=n("w1tV"),xy=n("zp1y"),Py=function(){function e(t){_classCallCheck(this,e),this.predicate=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ny(e,this.predicate))}}]),e}(),Ny=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).predicate=r,i.skipping=!0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)}},{key:"tryCallPredicate",value:function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(n){this.destination.error(n)}}}]),n}(Mt.a);function Ry(e){return null==e}function jy(e){return"function"==typeof e.set}function Fy(e,t){return jy(t)?t:e.ref(t)}function My(e,t){if("string"==typeof e)return t.stringCase();if(jy(e))return t.firebaseCase();if("function"==typeof e.exportVal)return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof e)}function Ly(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"on",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Pt.a;return new Nt.a((function(i){var o;return o=e[n](t,(function(e,t){r.schedule((function(){i.next({snapshot:e,prevKey:t})})),"once"===n&&r.schedule((function(){return i.complete()}))}),(function(e){r.schedule((function(){return i.error(e)}))})),"on"===n?{unsubscribe:function(){null!=o&&e.off(t,o)}}:{unsubscribe:function(){}}})).pipe(Object(Bt.a)((function(e){var n=e.snapshot,r=e.prevKey,i=null;return n.exists()&&(i=n.key),{type:t,payload:n,prevKey:r,key:i}})),Object(Ay.a)())}function Vy(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r].payload.key===t)return r;return-1}function Uy(e,t){var n=t.payload,r=t.prevKey,i=t.key,o=Vy(e,i),a=function(e,t){if(Ry(t))return 0;var n=Vy(e,t);return-1===n?e.length:n+1}(e,r);switch(t.type){case"value":if(t.payload&&t.payload.exists()){var s=null;t.payload.forEach((function(t){var n={payload:t,type:"value",prevKey:s,key:t.key};return s=t.key,e=[].concat(_toConsumableArray(e),[n]),!1}))}return e;case"child_added":if(o>-1){var u=e[o-1];(u&&u.key||null)!==r&&(e=e.filter((function(e){return e.payload.key!==n.key}))).splice(a,0,t)}else{if(null==r)return[t].concat(_toConsumableArray(e));(e=e.slice()).splice(a,0,t)}return e;case"child_removed":return e.filter((function(e){return e.payload.key!==n.key}));case"child_changed":return e.map((function(e){return e.payload.key===i?t:e}));case"child_moved":if(o>-1){var c=e.splice(o,1)[0];return(e=e.slice()).splice(a,0,c),e}return e;default:return e}}function By(e){return(Ry(e)||0===e.length)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function qy(e,t,n){return function(e,t,n){return Ly(e,"value","once",n).pipe(Object(ly.a)((function(r){var i=[Object(jt.a)(r)];return t.forEach((function(t){return i.push(Ly(e,t,"on",n))})),Object(cy.a).apply(void 0,i).pipe(Object(qt.a)(Uy,[]))})),Object(Ht.a)())}(e,t=By(t),n)}function Hy(e,t,n){var r=(t=By(t)).map((function(t){return Ly(e,t,"on",n)}));return Object(cy.a).apply(void 0,_toConsumableArray(r))}function zy(e,t){return function(n,r){return My(n,{stringCase:function(){return e.child(n)[t](r)},firebaseCase:function(){return n[t](r)},snapshotCase:function(){return n.ref[t](r)}})}}function Wy(e,t){return function(){return Ly(e,"value","on",t)}}n("6Uf2");var Ky,Gy,Qy=new a.t("angularfire2.realtimeDatabaseURL"),Zy=new a.t("angularfire2.database.use-emulator"),Jy=((Gy=function(){function e(t,n,r,i,o,a,s){_classCallCheck(this,e),this.schedulers=new xt.d(o),this.keepUnstableUntilFirst=Object(xt.h)(this.schedulers);var u=a,c=Object(xt.g)(t,o,n);!Kt.a.auth&&s&&Object(xt.j)(),this.database=Object(xt.f)("".concat(c.name,".database.").concat(r),"AngularFireDatabase",c,(function(){var e=o.runOutsideAngular((function(){return c.database(r||void 0)}));return u&&e.useEmulator.apply(e,_toConsumableArray(u)),e}),[u])}return _createClass(e,[{key:"list",value:function(e,t){var n=this,r=this.schedulers.ngZone.runOutsideAngular((function(){return Fy(n.database,e)})),i=r;return t&&(i=t(r)),function(e,t){var n,r=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run((function(){return e.ref}));return{query:e,update:zy(i,"update"),set:zy(i,"set"),push:function(e){return i.push(e)},remove:(n=i,function(e){return e?My(e,{stringCase:function(){return n.child(e).remove()},firebaseCase:function(){return e.remove()},snapshotCase:function(){return e.ref.remove()}}):n.remove()}),snapshotChanges:function(n){return qy(e,n,r).pipe(t.keepUnstableUntilFirst)},stateChanges:function(n){return Hy(e,n,r).pipe(t.keepUnstableUntilFirst)},auditTrail:function(n){return function(e,t,n){return function(e,t,n){return function(e,t){return Ly(e,"value","on",t).pipe(Object(Bt.a)((function(e){var t;return e.payload.forEach((function(e){return t=e.key,!1})),{data:e,lastKeyToLoad:t}})))}(e,n).pipe(Object(xy.a)(t),Object(Bt.a)((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1],i=n.lastKeyToLoad,o=r.map((function(e){return e.key}));return{actions:r,lastKeyToLoad:i,loadedKeys:o}})),(r=function(e){return-1===e.loadedKeys.indexOf(e.lastKeyToLoad)},function(e){return e.lift(new Py(r))}),Object(Bt.a)((function(e){return e.actions})));var r}(e,Hy(e,t).pipe(Object(qt.a)((function(e,t){return[].concat(_toConsumableArray(e),[t])}),[])),n)}(e,n,r).pipe(t.keepUnstableUntilFirst)},valueChanges:function(n,i){return qy(e,n,r).pipe(Object(Bt.a)((function(e){return e.map((function(e){return i&&i.idField?Object.assign(Object.assign({},e.payload.val()),_defineProperty({},i.idField,e.key)):e.payload.val()}))})),t.keepUnstableUntilFirst)}}}(i,this)}},{key:"object",value:function(e){var t,n,r=this,i=this.schedulers.ngZone.runOutsideAngular((function(){return Fy(r.database,e)}));return n=this,{query:t=i,snapshotChanges:function(){return Wy(t,n.schedulers.outsideAngular)().pipe(n.keepUnstableUntilFirst)},update:function(e){return t.ref.update(e)},set:function(e){return t.ref.set(e)},remove:function(){return t.ref.remove()},valueChanges:function(){return Wy(t,n.schedulers.outsideAngular)().pipe(n.keepUnstableUntilFirst,Object(Bt.a)((function(e){return e.payload.exists()?e.payload.val():null})))}}}},{key:"createPushId",value:function(){var e=this;return this.schedulers.ngZone.runOutsideAngular((function(){return e.database.ref()})).push().key}}]),e}()).\u0275fac=function(e){return new(e||Gy)(a.ec(xt.c),a.ec(xt.b,8),a.ec(Qy,8),a.ec(a.H),a.ec(a.E),a.ec(Zy,8),a.ec(hy,8))},Gy.\u0275prov=Object(a.Rb)({factory:function(){return new Gy(Object(a.ec)(xt.c),Object(a.ec)(xt.b,8),Object(a.ec)(Qy,8),Object(a.ec)(a.H),Object(a.ec)(a.E),Object(a.ec)(Zy,8),Object(a.ec)(hy,8))},token:Gy,providedIn:"any"}),Gy),Yy=((Ky=function e(){_classCallCheck(this,e)}).\u0275mod=a.Tb({type:Ky}),Ky.\u0275inj=a.Sb({factory:function(e){return new(e||Ky)},providers:[Jy]}),Ky),Xy=n("sYmb"),$y=n("tk/3"),eg=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/assets/i18n/",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".json";_classCallCheck(this,e),this.http=t,this.prefix=n,this.suffix=r}return _createClass(e,[{key:"getTranslation",value:function(e){return this.http.get("".concat(this.prefix).concat(e).concat(this.suffix))}}]),e}(),tg=n("kt0X"),ng=n("agSv"),rg=n("9jGm"),ig=n("bhnW"),og=n("v/J3"),ag=(_defineProperty(r={},ig.b,ig.a),_defineProperty(r,og.a,og.b),r),sg=n("cxbk");function ug(e){return new eg(e)}var cg,lg=sg.a.firebaseConfig,hg=((cg=function e(){_classCallCheck(this,e)}).\u0275mod=a.Tb({type:cg,bootstrap:[d]}),cg.\u0275inj=a.Sb({factory:function(e){return new(e||cg)},providers:[Iy,{provide:yt.k,useClass:yt.h}],imports:[[s.a,l,Dt,At.a.forRoot(),h.a.forRoot(),tg.j.forRoot(ag,{}),ng.a.instrument({maxAge:25,logOnly:sg.a.production}),rg.b.forRoot([]),xt.a.initializeApp(lg),Dy,Yy,Xy.b.forRoot({loader:{provide:Xy.a,useFactory:ug,deps:[$y.b]}})]]}),cg);Object(a.ab)(),document.addEventListener("DOMContentLoaded",(function(){s.c().bootstrapModule(hg).catch((function(e){return console.error(e)}))}))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"},zp1y:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("l7GE"),i=n("ZUHj");function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new a(t,n))}}var a=function(){function e(t,n){_classCallCheck(this,e),this.observables=t,this.project=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.observables,this.project))}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,o){var a;_classCallCheck(this,n),(a=t.call(this,e)).observables=r,a.project=o,a.toRespond=[];var s=r.length;a.values=new Array(s);for(var u=0;u<s;u++)a.toRespond.push(u);for(var c=0;c<s;c++){var l=r[c];a.add(Object(i.a)(_assertThisInitialized(a),l,l,c))}return a}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.values[n]=t;var o=this.toRespond;if(o.length>0){var a=o.indexOf(n);-1!==a&&o.splice(a,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(e){if(0===this.toRespond.length){var t=[e].concat(_toConsumableArray(this.values));this.project?this._tryProject(t):this.destination.next(t)}}},{key:"_tryProject",value:function(e){var t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(r.a)}},[[0,0]]]);