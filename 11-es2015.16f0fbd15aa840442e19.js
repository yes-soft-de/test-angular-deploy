(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{wU8r:function(e,t,c){"use strict";c.r(t),c.d(t,"GuidesModule",(function(){return ve}));var a=c("vTDv"),n=c("tyNb"),i=c("kt0X"),s=c("R0sL");const r=Object(i.n)("[Guide/API] Load Guides"),l=Object(i.n)("[Guide/API] Load Guides Success",Object(i.s)()),d=Object(i.n)("[Guide/API] Load Guides Failure",Object(i.s)()),u=Object(i.n)("[Guide/API] Load Guide",Object(i.s)()),o=Object(i.n)("[Guide/API] Load Guide Success",Object(i.s)()),b=Object(i.n)("[Guide/API] Load Guide Failure",Object(i.s)()),g=Object(i.n)("[Guide/API] Update Guide",Object(i.s)()),p=Object(i.n)("[Guide/API] Update Guide Success"),m=Object(i.n)("[Guide/API] Update Guide Failure",Object(i.s)()),f=Object(i.n)("[Guide/API] Add Guide",Object(i.s)()),h=Object(i.n)("[Guide/API] Upsert Guide",Object(i.s)()),v=Object(i.n)("[Guide/API] Add Guides",Object(i.s)()),O=Object(i.n)("[Guide/API] Upsert Guides",Object(i.s)()),Z=Object(i.n)("[Guide/API] Update Guides",Object(i.s)()),C=Object(i.n)("[Guide/API] Delete Guide",Object(i.s)()),J=Object(i.n)("[Guide/API] Delete Guides",Object(i.s)()),j=Object(i.n)("[Guide/API] Clear Guides"),y=Object(s.a)(),G=y.getInitialState({Data:void 0,guide:void 0,error:void 0}),I=Object(i.p)(G,Object(i.r)(l,(e,t)=>y.setAll(t.Data,e)),Object(i.r)(d,(e,t)=>Object.assign(Object.assign({},e),{error:t.error})),Object(i.r)(o,(e,t)=>Object.assign(Object.assign({},e),{guide:t.guide})),Object(i.r)(b,(e,t)=>Object.assign(Object.assign({},e),{error:t.error})),Object(i.r)(f,(e,t)=>y.addOne(t.guide,e)),Object(i.r)(h,(e,t)=>y.upsertOne(t.guide,e)),Object(i.r)(v,(e,t)=>y.addMany(t.guides,e)),Object(i.r)(O,(e,t)=>y.upsertMany(t.guides,e)),Object(i.r)(Z,(e,t)=>y.updateMany(t.guides,e)),Object(i.r)(C,(e,t)=>y.removeOne(t.id,e)),Object(i.r)(J,(e,t)=>y.removeMany(t.ids,e)),Object(i.r)(j,e=>y.removeAll(e))),{selectAll:D}=y.getSelectors(),L=Object(i.o)("guides"),x=Object(i.q)(L,D),w=Object(i.q)(L,e=>e.guide);var P=c("fXoL"),F=c("ofXK"),A=c("3Pt+"),B=c("oOf3"),M=c("sYmb");function S(e,t){if(1&e&&(P.ac(0,"span"),P.Cc(1),P.Zb()),2&e){const e=t.$implicit;P.Lb(null!=e&&e.name?"m-1 px-1 d-block rounded border border-primary":null),P.Jb(1),P.Dc(null!=e&&e.name?null==e?null:e.name:null)}}function k(e,t){if(1&e&&(P.ac(0,"span",15),P.Cc(1),P.Zb()),2&e){const e=t.$implicit;P.Jb(1),P.Dc(e)}}function q(e,t){if(1&e&&(P.ac(0,"tr"),P.ac(1,"td"),P.Wb(2,"img",11),P.Zb(),P.ac(3,"td"),P.Cc(4),P.Zb(),P.ac(5,"td"),P.Cc(6),P.Bc(7,S,2,4,"span",12),P.Zb(),P.ac(8,"td"),P.Cc(9),P.Bc(10,k,2,1,"span",13),P.Zb(),P.ac(11,"td"),P.Cc(12),P.Zb(),P.ac(13,"td"),P.Cc(14),P.mc(15,"translate"),P.Zb(),P.ac(16,"td"),P.ac(17,"a",14),P.Cc(18),P.mc(19,"translate"),P.Zb(),P.ac(20,"a",14),P.Cc(21),P.mc(22,"translate"),P.Zb(),P.Zb(),P.Zb()),2&e){const e=t.$implicit;P.Jb(2),P.qc("src",null==e?null:e.image,P.yc),P.rc("alt","",null==e?null:e.name," Image"),P.Jb(2),P.Dc(e.name?null==e?null:e.name:"-"),P.Jb(2),P.Ec(" ",0==(null==e?null:e.regions.length)?"-":null," "),P.Jb(1),P.pc("ngForOf",null==e?null:e.regions),P.Jb(2),P.Ec(" ",0==(null==e?null:e.language.length)?"-":null," "),P.Jb(1),P.pc("ngForOf",null==e?null:e.language),P.Jb(2),P.Dc(null!=e&&e.rating?null==e?null:e.rating:"-"),P.Jb(2),P.Dc(null!=e&&e.status?P.nc(15,13,null==e?null:e.status):"-"),P.Jb(3),P.rc("routerLink","/guides/",null==e?null:e.id,""),P.Jb(1),P.Ec(" ",P.nc(19,15,"view")," "),P.Jb(2),P.rc("routerLink","/guides/approve/",null==e?null:e.id,""),P.Jb(1),P.Ec(" ",P.nc(22,17,"approve")," ")}}function R(e,t){if(1&e){const e=P.bc();P.ac(0,"div"),P.ac(1,"h1",1),P.Cc(2),P.mc(3,"translate"),P.Zb(),P.ac(4,"div",2),P.ac(5,"div",3),P.ac(6,"div",4),P.ac(7,"input",5),P.ic("ngModelChange",(function(t){return P.wc(e),P.lc().name=t}))("keyup",(function(){return P.wc(e),P.lc().applyFilter()})),P.mc(8,"translate"),P.mc(9,"translate"),P.Zb(),P.Zb(),P.Zb(),P.Zb(),P.ac(10,"div",6),P.ac(11,"table",7),P.ac(12,"tr",8),P.ac(13,"td"),P.Cc(14),P.mc(15,"translate"),P.Zb(),P.ac(16,"td"),P.Cc(17),P.mc(18,"translate"),P.Zb(),P.ac(19,"td"),P.Cc(20),P.mc(21,"translate"),P.Zb(),P.ac(22,"td"),P.Cc(23),P.mc(24,"translate"),P.Zb(),P.ac(25,"td"),P.Cc(26),P.mc(27,"translate"),P.Zb(),P.ac(28,"td"),P.Cc(29),P.mc(30,"translate"),P.Zb(),P.ac(31,"td"),P.Cc(32),P.mc(33,"translate"),P.Zb(),P.Zb(),P.Bc(34,q,23,19,"tr",9),P.mc(35,"paginate"),P.Zb(),P.ac(36,"pagination-controls",10),P.ic("pageChange",(function(t){return P.wc(e),P.lc().pageChanged(t)})),P.mc(37,"translate"),P.mc(38,"translate"),P.mc(39,"translate"),P.Zb(),P.Zb(),P.Zb()}if(2&e){const e=P.lc();P.Jb(2),P.Dc(P.nc(3,15,"manage-guides-page")),P.Jb(5),P.qc("placeholder",P.nc(8,17,"guides-search-input")),P.qc("title",P.nc(9,19,"guides-search-input")),P.pc("ngModel",e.name),P.Jb(7),P.Dc(P.nc(15,21,"image")),P.Jb(3),P.Dc(P.nc(18,23,"name")),P.Jb(3),P.Dc(P.nc(21,25,"region-name")),P.Jb(3),P.Dc(P.nc(24,27,"language")),P.Jb(3),P.Dc(P.nc(27,29,"rating")),P.Jb(3),P.Dc(P.nc(30,31,"status")),P.Jb(3),P.Dc(P.nc(33,33,"control")),P.Jb(2),P.pc("ngForOf",P.oc(35,35,e.guidesList,e.config)),P.Jb(2),P.qc("previousLabel",P.nc(37,38,"prev")),P.qc("nextLabel",P.nc(38,40,"next")),P.qc("screenReaderCurrentLabel",P.nc(39,42,"you-are-on-page"))}}function $(e,t){1&e&&(P.ac(0,"div"),P.ac(1,"div",16),P.Wb(2,"div"),P.Wb(3,"div"),P.Wb(4,"div"),P.Wb(5,"div"),P.Zb(),P.Zb())}let W=(()=>{class e{constructor(e){this.store=e,this.guidesList=[]}ngOnInit(){this.store.dispatch(r()),this.getAllGuides()}getAllGuides(){this.guidesSubscription=this.store.select(x).subscribe(e=>{e&&(this.guides=e,this.guidesList=e,this.config={itemsPerPage:5,currentPage:1,totalItems:this.guidesList.length})})}pageChanged(e){this.config.currentPage=e}applyFilter(){this.name?(this.guidesList=[],this.guidesList=this.guides.filter(e=>{if(e.name){const t=e.name.toLocaleLowerCase().match(this.name.toLocaleLowerCase());if(t)return t}if(e.status){const t=e.status.toLocaleLowerCase().match(this.name.toLocaleLowerCase());if(t)return t}})):this.guidesList=[...this.guides]}ngOnDestroy(){this.guidesSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(P.Vb(i.h))},e.\u0275cmp=P.Pb({type:e,selectors:[["app-all-guides"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"text-center","details-title","my-4"],[1,"row"],[1,"col-10","col-sm-8","col-md-6","col-xl-4"],[1,"form-group","mb-4"],["id","exampleFormControlInput2","type","text",1,"form-control","form-control-underlined","border-primary","search-input",3,"ngModel","placeholder","title","ngModelChange","keyup"],[1,"table-responsive","text-center"],[1,"table","table-bordered","main-table"],[1,"bg-dark","text-white"],[4,"ngFor","ngForOf"],["autoHide","true","maxSize","5","responsive","true","screenReaderPaginationLabel","Pagination","screenReaderPageLabel","page",1,"my-pagination",3,"previousLabel","nextLabel","screenReaderCurrentLabel","pageChange"],[1,"img-thumbnail","img-custom",3,"src","alt"],[3,"class",4,"ngFor","ngForOf"],["class","m-1 px-1 rounded bg-grey-blue text-white",4,"ngFor","ngForOf"],[1,"btn","bg-light-blue","text-white","btn-sm","mr-1","mb-1",3,"routerLink"],[1,"m-1","px-1","rounded","bg-grey-blue","text-white"],[1,"lds-ring"]],template:function(e,t){1&e&&(P.Bc(0,R,40,44,"div",0),P.Bc(1,$,6,0,"div",0)),2&e&&(P.pc("ngIf",0!=t.guides.length),P.Jb(1),P.pc("ngIf",0==t.guides.length))},directives:[F.n,A.a,A.g,A.j,F.m,B.c,n.f],pipes:[M.c,B.b],styles:[""]}),e})();var E=c("5eHb");function U(e,t){1&e&&(P.ac(0,"span",18),P.Cc(1),P.mc(2,"translate"),P.Zb()),2&e&&(P.Jb(1),P.Dc(P.nc(2,1,"status-field-required")))}function V(e,t){if(1&e){const e=P.bc();P.ac(0,"div",2),P.ac(1,"div",3),P.ac(2,"h1",4),P.Cc(3),P.mc(4,"translate"),P.Zb(),P.Zb(),P.ac(5,"div",5),P.Wb(6,"div",6),P.ac(7,"form",7),P.ic("ngSubmit",(function(){return P.wc(e),P.lc().onSubmit()})),P.ac(8,"div",8),P.ac(9,"div",9),P.ac(10,"label",10),P.Cc(11),P.mc(12,"translate"),P.Zb(),P.ac(13,"select",11),P.ac(14,"option",12),P.Cc(15),P.mc(16,"translate"),P.Zb(),P.ac(17,"option",13),P.Cc(18),P.mc(19,"translate"),P.Zb(),P.ac(20,"option",14),P.Cc(21),P.mc(22,"translate"),P.Zb(),P.Zb(),P.Bc(23,U,3,3,"span",15),P.Zb(),P.Zb(),P.ac(24,"div",16),P.ac(25,"button",17),P.Cc(26),P.mc(27,"translate"),P.Zb(),P.Zb(),P.Zb(),P.Zb(),P.Zb()}if(2&e){const e=P.lc();P.Jb(3),P.Dc(P.nc(4,11,"approve-guide-page")),P.Jb(4),P.pc("formGroup",e.updateGuideFrom),P.Jb(4),P.Dc(P.nc(12,13,"status")),P.Jb(4),P.Dc(P.nc(16,15,"select-status-placeholder")),P.Jb(2),P.pc("selected","approved"==e.guide.status),P.Jb(1),P.Dc(P.nc(19,17,"approved")),P.Jb(2),P.pc("selected","not-approved"==e.guide.status),P.Jb(1),P.Dc(P.nc(22,19,"not-approved")),P.Jb(2),P.pc("ngIf",null==e.updateGuideFrom.get("status").errors?null:e.updateGuideFrom.get("status").errors.required),P.Jb(2),P.pc("disabled",e.updateGuideFrom.invalid),P.Jb(1),P.Dc(P.nc(27,21,"update"))}}function _(e,t){1&e&&(P.ac(0,"div"),P.ac(1,"div",19),P.Wb(2,"div"),P.Wb(3,"div"),P.Wb(4,"div"),P.Wb(5,"div"),P.Zb(),P.Zb())}let X=(()=>{class e{constructor(e,t,c){this.store=e,this.activatedRoute=t,this.toaster=c}ngOnInit(){this.activatedRoute.paramMap.subscribe(e=>{this.guideId=e.get("id"),this.store.dispatch(u({id:this.guideId}))}),this.updateGuideFrom=new A.d({id:new A.b(""),status:new A.b("",A.o.required)}),this.getGuideById()}getGuideById(){this.store.select(w).subscribe(e=>{e&&(console.log("respones : ",e),this.guide=e,this.fillGuideForm(e))})}fillGuideForm(e){this.updateGuideFrom=new A.d({id:new A.b(e.id),status:new A.b(e.status,A.o.required)})}onSubmit(){if(!this.updateGuideFrom.valid)return void this.toaster.error("Form Not Valid !");const e=this.updateGuideFrom.getRawValue();e.id=this.guideId,console.log(e),this.store.dispatch(g({id:e.id,status:e.status}))}}return e.\u0275fac=function(t){return new(t||e)(P.Vb(i.h),P.Vb(n.a),P.Vb(E.b))},e.\u0275cmp=P.Pb({type:e,selectors:[["app-update-guide"]],decls:2,vars:2,consts:[["class","container-fluid",4,"ngIf"],[4,"ngIf"],[1,"container-fluid"],[1,"content-header"],[1,"text-center","mt-5","mb-3"],[1,"card","card-info","mb-5"],[1,"card-header","bg-light-blue","text-white","p-3"],[3,"formGroup","ngSubmit"],[1,"card-body"],[1,"form-group"],["for","inputStatusSuccess",1,"col-form-label"],["name","status","formControlName","status",1,"form-control"],["value",""],["value","approved",3,"selected"],["value","not-approved",3,"selected"],["class","invalid-feedback",4,"ngIf"],[1,"card-footer"],["type","submit",1,"btn","bg-light-blue","text-white",3,"disabled"],[1,"invalid-feedback"],[1,"lds-ring"]],template:function(e,t){1&e&&(P.Bc(0,V,28,23,"div",0),P.Bc(1,_,6,0,"div",1)),2&e&&(P.pc("ngIf",null!=t.guide),P.Jb(1),P.pc("ngIf",null==t.guide))},directives:[F.n,A.q,A.h,A.e,A.n,A.g,A.c,A.k,A.p],pipes:[M.c],styles:[""]}),e})();function z(e,t){if(1&e&&(P.ac(0,"div",20),P.ac(1,"span",21),P.Cc(2),P.mc(3,"translate"),P.Zb(),P.Zb()),2&e){const e=P.lc(2);P.Jb(2),P.Dc(P.nc(3,1,null==e.guide?null:e.guide.status))}}function H(e,t){if(1&e&&(P.ac(0,"span",24),P.Cc(1),P.Zb()),2&e){const e=t.$implicit;P.Jb(1),P.Dc(e)}}function N(e,t){if(1&e&&(P.ac(0,"li",22),P.ac(1,"p"),P.Cc(2),P.mc(3,"translate"),P.Bc(4,H,2,1,"span",23),P.Zb(),P.Zb()),2&e){const e=P.lc(2);P.Jb(2),P.Ec("",P.nc(3,2,"language")," : "),P.Jb(2),P.pc("ngForOf",null==e.guide?null:e.guide.language)}}function T(e,t){if(1&e&&(P.ac(0,"span",26),P.Cc(1),P.Zb()),2&e){const e=t.$implicit;P.Jb(1),P.Dc(e)}}function K(e,t){if(1&e&&(P.ac(0,"li",22),P.ac(1,"p"),P.Cc(2),P.mc(3,"translate"),P.Bc(4,T,2,1,"span",25),P.Zb(),P.Zb()),2&e){const e=P.lc(2);P.Jb(2),P.Ec("",P.nc(3,2,"city")," : "),P.Jb(2),P.pc("ngForOf",null==e.guide?null:e.guide.city)}}function Q(e,t){if(1&e&&(P.ac(0,"li",22),P.ac(1,"p"),P.Cc(2),P.mc(3,"translate"),P.ac(4,"span",27),P.Cc(5),P.Zb(),P.Zb(),P.Zb()),2&e){const e=P.lc(2);P.Jb(2),P.Ec("",P.nc(3,2,"rating")," : "),P.Jb(3),P.Dc(null==e.guide?null:e.guide.rating)}}function Y(e,t){1&e&&(P.ac(0,"div",16),P.ac(1,"h3",28),P.Cc(2),P.mc(3,"translate"),P.Zb(),P.Zb()),2&e&&(P.Jb(2),P.Ec("",P.nc(3,1,"my-orders")," :"))}function ee(e,t){if(1&e&&(P.ac(0,"span",26),P.Cc(1),P.Zb()),2&e){const e=t.$implicit;P.Jb(1),P.Dc(e)}}function te(e,t){if(1&e&&(P.ac(0,"tr"),P.ac(1,"td"),P.Cc(2),P.Zb(),P.ac(3,"td"),P.Cc(4),P.Zb(),P.ac(5,"td"),P.Cc(6),P.Zb(),P.ac(7,"td"),P.Cc(8),P.Bc(9,ee,2,1,"span",25),P.Zb(),P.ac(10,"td"),P.Cc(11),P.mc(12,"translate"),P.Zb(),P.ac(13,"td"),P.Cc(14),P.mc(15,"date"),P.Zb(),P.ac(16,"td"),P.Cc(17),P.mc(18,"date"),P.Zb(),P.ac(19,"td"),P.Cc(20),P.mc(21,"date"),P.Zb(),P.Zb()),2&e){const e=t.$implicit;P.Jb(2),P.Dc(e.city?null==e?null:e.city:"-"),P.Jb(2),P.Dc(e.cost?null==e?null:e.cost:"-"),P.Jb(2),P.Dc(e.language?null==e?null:e.language:"-"),P.Jb(2),P.Ec(" ",0==(null==e?null:e.services.length)?"-":null," "),P.Jb(1),P.pc("ngForOf",null==e?null:e.services),P.Jb(2),P.Dc(null!=e&&e.status?P.nc(12,9,null==e?null:e.status):"-"),P.Jb(3),P.Dc(null!=e&&e.arriveDate?P.oc(15,11,1e3*(null==e?null:e.arriveDate.timestamp),"yyyy-MM-dd"):"-"),P.Jb(3),P.Dc(null!=e&&e.date?P.oc(18,14,1e3*(null==e?null:e.date.timestamp),"yyyy-MM-dd"):"-"),P.Jb(3),P.Dc(null!=e&&e.leaveDate?P.oc(21,17,1e3*(null==e?null:e.leaveDate.timestamp),"yyyy-MM-dd"):"-")}}function ce(e,t){if(1&e){const e=P.bc();P.ac(0,"div",29),P.ac(1,"div",30),P.ac(2,"table",31),P.ac(3,"tr",32),P.ac(4,"td"),P.Cc(5),P.mc(6,"translate"),P.Zb(),P.ac(7,"td"),P.Cc(8),P.mc(9,"translate"),P.Zb(),P.ac(10,"td"),P.Cc(11),P.mc(12,"translate"),P.Zb(),P.ac(13,"td"),P.Cc(14),P.mc(15,"translate"),P.Zb(),P.ac(16,"td"),P.Cc(17),P.mc(18,"translate"),P.Zb(),P.ac(19,"td"),P.Cc(20),P.mc(21,"translate"),P.Zb(),P.ac(22,"td"),P.Cc(23),P.mc(24,"translate"),P.Zb(),P.ac(25,"td"),P.Cc(26),P.mc(27,"translate"),P.Zb(),P.Zb(),P.Bc(28,te,22,20,"tr",33),P.mc(29,"paginate"),P.Zb(),P.ac(30,"pagination-controls",34),P.ic("pageChange",(function(t){return P.wc(e),P.lc(2).pageChanged(t)})),P.mc(31,"translate"),P.mc(32,"translate"),P.mc(33,"translate"),P.Zb(),P.Zb(),P.Zb()}if(2&e){const e=P.lc(2);P.Jb(5),P.Dc(P.nc(6,12,"city")),P.Jb(3),P.Dc(P.nc(9,14,"cost")),P.Jb(3),P.Dc(P.nc(12,16,"language")),P.Jb(3),P.Dc(P.nc(15,18,"services")),P.Jb(3),P.Dc(P.nc(18,20,"status")),P.Jb(3),P.Dc(P.nc(21,22,"arrive-date")),P.Jb(3),P.Dc(P.nc(24,24,"acceptance-date")),P.Jb(3),P.Dc(P.nc(27,26,"leave-date")),P.Jb(2),P.pc("ngForOf",P.oc(29,28,e.guideOrdersList,e.config)),P.Jb(2),P.qc("previousLabel",P.nc(31,31,"prev")),P.qc("nextLabel",P.nc(32,33,"next")),P.qc("screenReaderCurrentLabel",P.nc(33,35,"you-are-on-page"))}}function ae(e,t){if(1&e&&(P.ac(0,"div",2),P.ac(1,"div",3),P.ac(2,"h1",4),P.Cc(3),P.mc(4,"translate"),P.Zb(),P.ac(5,"div",5),P.ac(6,"div",6),P.ac(7,"div",7),P.Wb(8,"img",8),P.Zb(),P.Zb(),P.ac(9,"div",9),P.ac(10,"div",10),P.ac(11,"ul",11),P.ac(12,"li"),P.ac(13,"div",5),P.ac(14,"div",12),P.ac(15,"h4",13),P.Cc(16),P.Zb(),P.Zb(),P.Bc(17,z,4,3,"div",14),P.Zb(),P.Zb(),P.Bc(18,N,5,4,"li",15),P.Bc(19,K,5,4,"li",15),P.Bc(20,Q,6,4,"li",15),P.Zb(),P.Zb(),P.Zb(),P.ac(21,"div",16),P.Wb(22,"hr",17),P.Zb(),P.Bc(23,Y,4,3,"div",18),P.Bc(24,ce,34,37,"div",19),P.Zb(),P.Zb(),P.Zb()),2&e){const e=P.lc();P.Jb(3),P.Dc(P.nc(4,10,"guide-details-page")),P.Jb(5),P.qc("src",null==e.guide?null:e.guide.image,P.yc),P.rc("alt","",null==e.guide?null:e.guide.name," Image"),P.Jb(8),P.Dc(null==e.guide?null:e.guide.name),P.Jb(1),P.pc("ngIf",null==e.guide?null:e.guide.status),P.Jb(1),P.pc("ngIf",null==e.guide?null:e.guide.language),P.Jb(1),P.pc("ngIf",null==e.guide?null:e.guide.city),P.Jb(1),P.pc("ngIf",null==e.guide?null:e.guide.rating),P.Jb(3),P.pc("ngIf",e.guideOrdersList.length>0),P.Jb(1),P.pc("ngIf",e.guideOrdersList.length>0)}}function ne(e,t){1&e&&(P.ac(0,"div"),P.ac(1,"div",35),P.Wb(2,"div"),P.Wb(3,"div"),P.Wb(4,"div"),P.Wb(5,"div"),P.Zb(),P.Zb())}const ie=[{path:"",component:W},{path:":id",component:(()=>{class e{constructor(e,t){this.store=e,this.activatedRoute=t,this.guideOrdersList=[]}ngOnInit(){this.activatedRoute.paramMap.subscribe(e=>{this.store.dispatch(u({id:e.get("id")}))}),this.getGuideDetails()}getGuideDetails(){this.store.select(w).subscribe(e=>{e&&(console.log("data: ",e),this.guide=e,this.guideOrdersList=null==e?void 0:e.myOrders,this.config={itemsPerPage:5,currentPage:1,totalItems:this.guideOrdersList.length})})}pageChanged(e){this.config.currentPage=e}}return e.\u0275fac=function(t){return new(t||e)(P.Vb(i.h),P.Vb(n.a))},e.\u0275cmp=P.Pb({type:e,selectors:[["app-guide-details"]],decls:2,vars:2,consts:[["class","guide-details",4,"ngIf"],[4,"ngIf"],[1,"guide-details"],[1,"container"],[1,"my-3","details-title"],[1,"row"],[1,"col-12","col-sm-5","col-md-4","position-relative","mx-auto","text-center","mb-3"],[1,"image-details","mb-3"],[1,"img-fluid","img-thumbnail",3,"src","alt"],[1,"col-12","col-sm-6","mx-auto"],[1,"info-details"],[1,"list-unstyled"],[1,"col"],[1,"text-info"],["class","col align-self-center text-right",4,"ngIf"],["class","mb-2",4,"ngIf"],[1,"col-12"],[1,"w-50","mx-auto"],["class","col-12",4,"ngIf"],["class","col-12 mx-auto",4,"ngIf"],[1,"col","align-self-center","text-right"],[1,"status","border","border-secondary","rounded","py-1","px-2"],[1,"mb-2"],["class","m-1 px-1 rounded bg-grey-blue text-white",4,"ngFor","ngForOf"],[1,"m-1","px-1","rounded","bg-grey-blue","text-white"],["class","m-1 px-1 rounded border border-primary",4,"ngFor","ngForOf"],[1,"m-1","px-1","rounded","border","border-primary"],[1,"text-secondary"],[1,""],[1,"col-12","mx-auto"],[1,"table-responsive","text-center"],[1,"table","table-bordered","main-table"],[1,"bg-dark","text-white"],[4,"ngFor","ngForOf"],["autoHide","true","maxSize","5","responsive","true","screenReaderPaginationLabel","Pagination","screenReaderPageLabel","page",1,"my-pagination",3,"previousLabel","nextLabel","screenReaderCurrentLabel","pageChange"],[1,"lds-ring"]],template:function(e,t){1&e&&(P.Bc(0,ae,25,12,"div",0),P.Bc(1,ne,6,0,"div",1)),2&e&&(P.pc("ngIf",t.guide),P.Jb(1),P.pc("ngIf",!t.guide))},directives:[F.n,F.m,B.c],pipes:[M.c,B.b,F.f],styles:[".guide-details[_ngcontent-%COMP%]   .image-details[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:600px}.guide-details[_ngcontent-%COMP%]   .info-details[_ngcontent-%COMP%]   .img-custom[_ngcontent-%COMP%]{width:100px}"]}),e})()},{path:"approve/:id",component:X}];let se=(()=>{class e{}return e.\u0275mod=P.Tb({type:e}),e.\u0275inj=P.Sb({factory:function(t){return new(t||e)},imports:[[n.g.forChild(ie)],n.g]}),e})();var re=c("9jGm"),le=c("5+tZ"),de=c("lJxs"),ue=c("JIr8"),oe=c("XqQ8"),be=c("vkgz"),ge=c("LRne"),pe=c("EWl0"),me=c("tk/3");let fe=(()=>{class e{constructor(e){this.httpClient=e}getAllGuides(){return this.httpClient.get(pe.a.guidesAPI)}getGuideById(e){return this.httpClient.get(`${pe.a.guideByIdAPI}/${e}`)}updateGuideStatus(e,t){return this.httpClient.put(pe.a.updateGuideAPI,{id:e,status:t})}}return e.\u0275fac=function(t){return new(t||e)(P.ec(me.b))},e.\u0275prov=P.Rb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),he=(()=>{class e{constructor(e,t,c,a,n){this.actions$=e,this.guidesService=t,this.toaster=c,this.router=a,this.activatedRoute=n,this.loadGuides$=Object(re.c)(()=>this.actions$.pipe(Object(re.d)(r),Object(le.a)(()=>this.guidesService.getAllGuides().pipe(Object(de.a)(e=>(console.log(e),l({Data:e.Data}))),Object(ue.a)(e=>Object(ge.a)(d({error:e}))))))),this.loadGuide$=Object(re.c)(()=>this.actions$.pipe(Object(re.d)(u),Object(le.a)(e=>this.guidesService.getGuideById(e.id).pipe(Object(de.a)(e=>o({guide:e.Data})),Object(ue.a)(e=>Object(ge.a)(d({error:e}))))))),this.approveGuide$=Object(re.c)(()=>this.actions$.pipe(Object(re.d)(g),Object(oe.a)(e=>this.guidesService.updateGuideStatus(e.id,e.status).pipe(Object(de.a)(e=>(console.log("effect response : ",e),this.toaster.success(e.msg),p())),Object(ue.a)(e=>(console.log("error effect : ",e),Object(ge.a)(m({error:e})))))))),this.redirectAfterUpdateGuide$=Object(re.c)(()=>this.actions$.pipe(Object(re.d)(p),Object(be.a)(()=>this.router.navigate(["guides"]))),{dispatch:!1})}}return e.\u0275fac=function(t){return new(t||e)(P.ec(re.a),P.ec(fe),P.ec(E.b),P.ec(n.d),P.ec(n.a))},e.\u0275prov=P.Rb({token:e,factory:e.\u0275fac}),e})(),ve=(()=>{class e{}return e.\u0275mod=P.Tb({type:e}),e.\u0275inj=P.Sb({factory:function(t){return new(t||e)},imports:[[a.a,se,i.j.forFeature("guides",I),re.b.forFeature([he])]]}),e})()}}]);